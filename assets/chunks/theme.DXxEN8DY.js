const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/VPLocalSearchBox.pVEOXP7N.js","assets/chunks/framework.BO5IiCLP.js"])))=>i.map(i=>d[i]);
var vs=Object.defineProperty;var ps=(s,r,i)=>r in s?vs(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i;var Wt=(s,r,i)=>ps(s,typeof r!="symbol"?r+"":r,i);import{d as N,o as p,c as k,r as P,n as me,a as Me,t as ae,b as j,w as L,e as O,T as Sn,_ as U,u as St,i as ms,f as ys,g as Pn,h as K,j as S,k as w,l as Pt,m as ui,p as de,q as Ke,s as In,v as De,x as Jt,y as Ci,z as _s,A as bs,B as _t,F as _e,C as Oe,D as jr,E as xn,G as V,H as rt,I as Wr,J as Qt,K as ot,L as Ln,M as ks,N as Gr,O as ci,P as en,Q as Kr,R as zt,S as Cs,U as Ts,V as Yr,W as qr,X as Ti,Y as ws,Z as Es,$ as Xr,a0 as Ss,a1 as Ps,a2 as Is,a3 as Zr,a4 as xs,a5 as Ls,a6 as Jr,a7 as As,a8 as Ms}from"./framework.BO5IiCLP.js";var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function An(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}const Os=N({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup(s){return(r,i)=>(p(),k("span",{class:me(["VPBadge",r.type])},[P(r.$slots,"default",{},()=>[Me(ae(r.text),1)])],2))}}),Rs={key:0,class:"VPBackdrop"},Ns=N({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(s){return(r,i)=>(p(),j(Sn,{name:"fade"},{default:L(()=>[r.show?(p(),k("div",Rs)):O("",!0)]),_:1}))}}),Fs=U(Ns,[["__scopeId","data-v-980e831c"]]),le=St;function Bs(s,r){let i,t=!1;return()=>{i&&clearTimeout(i),t?i=setTimeout(s,r):(s(),(t=!0)&&setTimeout(()=>t=!1,r))}}function fi(s){return s.startsWith("/")?s:`/${s}`}function wi(s){const{pathname:r,search:i,hash:t,protocol:e}=new URL(s,"http://a.com");if(ms(s)||s.startsWith("#")||!e.startsWith("http")||!ys(r))return s;const{site:n}=le(),a=r.endsWith("/")||r.endsWith(".html")?s:s.replace(/(?:(^\.+)\/)?.*$/,`$1${r.replace(/(\.md)?$/,n.value.cleanUrls?"":".html")}${i}${t}`);return Pn(a)}function tn({correspondingLink:s=!1}={}){const{site:r,localeIndex:i,page:t,theme:e,hash:n}=le(),a=K(()=>{var l,u;return{label:(l=r.value.locales[i.value])==null?void 0:l.label,link:((u=r.value.locales[i.value])==null?void 0:u.link)||(i.value==="root"?"/":`/${i.value}/`)}});return{localeLinks:K(()=>Object.entries(r.value.locales).flatMap(([l,u])=>a.value.label===u.label?[]:{text:u.label,link:Hs(u.link||(l==="root"?"/":`/${l}/`),e.value.i18nRouting!==!1&&s,t.value.relativePath.slice(a.value.link.length-1),!r.value.cleanUrls)+n.value})),currentLang:a}}function Hs(s,r,i,t){return r?s.replace(/\/$/,"")+fi(i.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,t?".html":"")):s}const $s={class:"NotFound"},Vs={class:"code"},Us={class:"title"},zs={class:"quote"},js={class:"action"},Ws=["href","aria-label"],Gs=N({__name:"NotFound",setup(s){const{theme:r}=le(),{currentLang:i}=tn();return(t,e)=>{var n,a,o,l,u;return p(),k("div",$s,[S("p",Vs,ae(((n=w(r).notFound)==null?void 0:n.code)??"404"),1),S("h1",Us,ae(((a=w(r).notFound)==null?void 0:a.title)??"PAGE NOT FOUND"),1),e[0]||(e[0]=S("div",{class:"divider"},null,-1)),S("blockquote",zs,ae(((o=w(r).notFound)==null?void 0:o.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),S("div",js,[S("a",{class:"link",href:w(Pn)(w(i).link),"aria-label":((l=w(r).notFound)==null?void 0:l.linkLabel)??"go to home"},ae(((u=w(r).notFound)==null?void 0:u.linkText)??"Take me home"),9,Ws)])])}}}),Ks=U(Gs,[["__scopeId","data-v-24ca34cc"]]);function Qr(s,r){if(Array.isArray(s))return dn(s);if(s==null)return[];r=fi(r);const i=Object.keys(s).sort((e,n)=>n.split("/").length-e.split("/").length).find(e=>r.startsWith(fi(e))),t=i?s[i]:[];return Array.isArray(t)?dn(t):dn(t.items,t.base)}function Ys(s){const r=[];let i=0;for(const t in s){const e=s[t];if(e.items){i=r.push(e);continue}r[i]||r.push({items:[]}),r[i].items.push(e)}return r}function qs(s){const r=[];function i(t){for(const e of t)e.text&&e.link&&r.push({text:e.text,link:e.link,docFooterText:e.docFooterText}),e.items&&i(e.items)}return i(s),r}function di(s,r){return Array.isArray(r)?r.some(i=>di(s,i)):Pt(s,r.link)?!0:r.items?di(s,r.items):!1}function dn(s,r){return[...s].map(i=>{const t={...i},e=t.base||r;return e&&t.link&&(t.link=e+t.link),t.items&&(t.items=dn(t.items,e)),t})}function ft(){const{frontmatter:s,page:r,theme:i}=le(),t=ui("(min-width: 960px)"),e=de(!1),n=K(()=>{const m=i.value.sidebar,y=r.value.relativePath;return m?Qr(m,y):[]}),a=de(n.value);Ke(n,(m,y)=>{JSON.stringify(m)!==JSON.stringify(y)&&(a.value=n.value)});const o=K(()=>s.value.sidebar!==!1&&a.value.length>0&&s.value.layout!=="home"),l=K(()=>u?s.value.aside==null?i.value.aside==="left":s.value.aside==="left":!1),u=K(()=>s.value.layout==="home"?!1:s.value.aside!=null?!!s.value.aside:i.value.aside!==!1),c=K(()=>o.value&&t.value),f=K(()=>o.value?Ys(a.value):[]);function h(){e.value=!0}function v(){e.value=!1}function g(){e.value?v():h()}return{isOpen:e,sidebar:a,sidebarGroups:f,hasSidebar:o,hasAside:u,leftAside:l,isSidebarEnabled:c,open:h,close:v,toggle:g}}function Xs(s,r){let i;In(()=>{i=s.value?document.activeElement:void 0}),De(()=>{window.addEventListener("keyup",t)}),Jt(()=>{window.removeEventListener("keyup",t)});function t(e){e.key==="Escape"&&s.value&&(r(),i==null||i.focus())}}function Zs(s){const{page:r,hash:i}=le(),t=de(!1),e=K(()=>s.value.collapsed!=null),n=K(()=>!!s.value.link),a=de(!1),o=()=>{a.value=Pt(r.value.relativePath,s.value.link)};Ke([r,s,i],o),De(o);const l=K(()=>a.value?!0:s.value.items?di(r.value.relativePath,s.value.items):!1),u=K(()=>!!(s.value.items&&s.value.items.length));In(()=>{t.value=!!(e.value&&s.value.collapsed)}),Ci(()=>{(a.value||l.value)&&(t.value=!1)});function c(){e.value&&(t.value=!t.value)}return{collapsed:t,collapsible:e,isLink:n,isActiveLink:a,hasActiveLink:l,hasChildren:u,toggle:c}}function Js(){const{hasSidebar:s}=ft(),r=ui("(min-width: 960px)"),i=ui("(min-width: 1280px)");return{isAsideEnabled:K(()=>!i.value&&!r.value?!1:s.value?i.value:r.value)}}const Qs=/\b(?:VPBadge|header-anchor|footnote-ref|ignore-header)\b/,hi=[];function ea(s){return typeof s.outline=="object"&&!Array.isArray(s.outline)&&s.outline.label||s.outlineTitle||"On this page"}function Ei(s){const r=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(i=>i.id&&i.hasChildNodes()).map(i=>{const t=Number(i.tagName[1]);return{element:i,title:eo(i),link:"#"+i.id,level:t}});return to(r,s)}function eo(s){let r="";for(const i of s.childNodes)if(i.nodeType===1){if(Qs.test(i.className))continue;r+=i.textContent}else i.nodeType===3&&(r+=i.textContent);return r.trim()}function to(s,r){if(r===!1)return[];const i=(typeof r=="object"&&!Array.isArray(r)?r.level:r)||2,[t,e]=typeof i=="number"?[i,i]:i==="deep"?[2,6]:i;return ro(s,t,e)}function no(s,r){const{isAsideEnabled:i}=Js(),t=Bs(n,100);let e=null;De(()=>{requestAnimationFrame(n),window.addEventListener("scroll",t)}),_s(()=>{a(location.hash)}),Jt(()=>{window.removeEventListener("scroll",t)});function n(){if(!i.value)return;const o=window.scrollY,l=window.innerHeight,u=document.body.offsetHeight,c=Math.abs(o+l-u)<1,f=hi.map(({element:v,link:g})=>({link:g,top:io(v)})).filter(({top:v})=>!Number.isNaN(v)).sort((v,g)=>v.top-g.top);if(!f.length){a(null);return}if(o<1){a(null);return}if(c){a(f[f.length-1].link);return}let h=null;for(const{link:v,top:g}of f){if(g>o+bs()+4)break;h=v}a(h)}function a(o){e&&e.classList.remove("active"),o==null?e=null:e=s.value.querySelector(`a[href="${decodeURIComponent(o)}"]`);const l=e;l?(l.classList.add("active"),r.value.style.top=l.offsetTop+39+"px",r.value.style.opacity="1"):(r.value.style.top="33px",r.value.style.opacity="0")}}function io(s){let r=0;for(;s!==document.body;){if(s===null)return NaN;r+=s.offsetTop,s=s.offsetParent}return r}function ro(s,r,i){hi.length=0;const t=[],e=[];return s.forEach(n=>{const a={...n,children:[]};let o=e[e.length-1];for(;o&&o.level>=a.level;)e.pop(),o=e[e.length-1];if(a.element.classList.contains("ignore-header")||o&&"shouldIgnore"in o){e.push({level:a.level,shouldIgnore:!0});return}a.level>i||a.level<r||(hi.push({element:a.element,link:a.link}),o?o.children.push(a):t.push(a),e.push(a))}),t}const ao=["href","title"],so=N({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(s){function r({target:i}){const t=i.href.split("#")[1],e=document.getElementById(decodeURIComponent(t));e==null||e.focus({preventScroll:!0})}return(i,t)=>{const e=_t("VPDocOutlineItem",!0);return p(),k("ul",{class:me(["VPDocOutlineItem",i.root?"root":"nested"])},[(p(!0),k(_e,null,Oe(i.headers,({children:n,link:a,title:o})=>(p(),k("li",null,[S("a",{class:"outline-link",href:a,onClick:r,title:o},ae(o),9,ao),n!=null&&n.length?(p(),j(e,{key:0,headers:n},null,8,["headers"])):O("",!0)]))),256))],2)}}}),ta=U(so,[["__scopeId","data-v-4baf6ff4"]]),oo={class:"content"},lo={"aria-level":"2",class:"outline-title",id:"doc-outline-aria-label",role:"heading"},uo=N({__name:"VPDocAsideOutline",setup(s){const{frontmatter:r,theme:i}=le(),t=jr([]);xn(()=>{t.value=Ei(r.value.outline??i.value.outline)});const e=de(),n=de();return no(e,n),(a,o)=>(p(),k("nav",{"aria-labelledby":"doc-outline-aria-label",class:me(["VPDocAsideOutline",{"has-outline":t.value.length>0}]),ref_key:"container",ref:e},[S("div",oo,[S("div",{class:"outline-marker",ref_key:"marker",ref:n},null,512),S("div",lo,ae(w(ea)(w(i))),1),V(ta,{headers:t.value,root:!0},null,8,["headers"])])],2))}}),co=U(uo,[["__scopeId","data-v-497bf107"]]),fo={class:"VPDocAsideCarbonAds"},ho=N({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(s){const r=()=>null;return(i,t)=>(p(),k("div",fo,[V(w(r),{"carbon-ads":i.carbonAds},null,8,["carbon-ads"])]))}}),go={class:"VPDocAside"},vo=N({__name:"VPDocAside",setup(s){const{theme:r}=le();return(i,t)=>(p(),k("div",go,[P(i.$slots,"aside-top",{},void 0,!0),P(i.$slots,"aside-outline-before",{},void 0,!0),V(co),P(i.$slots,"aside-outline-after",{},void 0,!0),t[0]||(t[0]=S("div",{class:"spacer"},null,-1)),P(i.$slots,"aside-ads-before",{},void 0,!0),w(r).carbonAds?(p(),j(ho,{key:0,"carbon-ads":w(r).carbonAds},null,8,["carbon-ads"])):O("",!0),P(i.$slots,"aside-ads-after",{},void 0,!0),P(i.$slots,"aside-bottom",{},void 0,!0)]))}}),po=U(vo,[["__scopeId","data-v-143e89d2"]]);function mo(){const{theme:s,page:r}=le();return K(()=>{const{text:i="Edit this page",pattern:t=""}=s.value.editLink||{};let e;return typeof t=="function"?e=t(r.value):e=t.replace(/:path/g,r.value.filePath),{url:e,text:i}})}function yo(){const{page:s,theme:r,frontmatter:i}=le();return K(()=>{var u,c,f,h,v,g,m,y;const t=Qr(r.value.sidebar,s.value.relativePath),e=qs(t),n=_o(e,x=>x.link.replace(/[?#].*$/,"")),a=n.findIndex(x=>Pt(s.value.relativePath,x.link)),o=((u=r.value.docFooter)==null?void 0:u.prev)===!1&&!i.value.prev||i.value.prev===!1,l=((c=r.value.docFooter)==null?void 0:c.next)===!1&&!i.value.next||i.value.next===!1;return{prev:o?void 0:{text:(typeof i.value.prev=="string"?i.value.prev:typeof i.value.prev=="object"?i.value.prev.text:void 0)??((f=n[a-1])==null?void 0:f.docFooterText)??((h=n[a-1])==null?void 0:h.text),link:(typeof i.value.prev=="object"?i.value.prev.link:void 0)??((v=n[a-1])==null?void 0:v.link)},next:l?void 0:{text:(typeof i.value.next=="string"?i.value.next:typeof i.value.next=="object"?i.value.next.text:void 0)??((g=n[a+1])==null?void 0:g.docFooterText)??((m=n[a+1])==null?void 0:m.text),link:(typeof i.value.next=="object"?i.value.next.link:void 0)??((y=n[a+1])==null?void 0:y.link)}}})}function _o(s,r){const i=new Set;return s.filter(t=>{const e=r(t);return i.has(e)?!1:i.add(e)})}const Ge=N({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(s){const r=s,i=K(()=>r.tag??(r.href?"a":"span")),t=K(()=>r.href&&Wr.test(r.href)||r.target==="_blank");return(e,n)=>(p(),j(rt(i.value),{class:me(["VPLink",{link:e.href,"vp-external-link-icon":t.value,"no-icon":e.noIcon}]),href:e.href?w(wi)(e.href):void 0,target:e.target??(t.value?"_blank":void 0),rel:e.rel??(t.value?"noreferrer":void 0)},{default:L(()=>[P(e.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),bo={class:"VPLastUpdated"},ko=["datetime"],Co=N({__name:"VPDocFooterLastUpdated",setup(s){const{theme:r,page:i,lang:t}=le(),e=K(()=>new Date(i.value.lastUpdated)),n=K(()=>e.value.toISOString()),a=de("");return De(()=>{In(()=>{var o,l,u;a.value=new Intl.DateTimeFormat((l=(o=r.value.lastUpdated)==null?void 0:o.formatOptions)!=null&&l.forceLocale?t.value:void 0,((u=r.value.lastUpdated)==null?void 0:u.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format(e.value)})}),(o,l)=>{var u;return p(),k("p",bo,[Me(ae(((u=w(r).lastUpdated)==null?void 0:u.text)||w(r).lastUpdatedText||"Last updated")+": ",1),S("time",{datetime:n.value},ae(a.value),9,ko)])}}}),To=U(Co,[["__scopeId","data-v-56d90968"]]),wo={key:0,class:"VPDocFooter"},Eo={key:0,class:"edit-info"},So={key:0,class:"edit-link"},Po={key:1,class:"last-updated"},Io={key:1,class:"prev-next","aria-labelledby":"doc-footer-aria-label"},xo={class:"pager"},Lo=["innerHTML"],Ao=["innerHTML"],Mo={class:"pager"},Do=["innerHTML"],Oo=["innerHTML"],Ro=N({__name:"VPDocFooter",setup(s){const{theme:r,page:i,frontmatter:t}=le(),e=mo(),n=yo(),a=K(()=>r.value.editLink&&t.value.editLink!==!1),o=K(()=>i.value.lastUpdated),l=K(()=>a.value||o.value||n.value.prev||n.value.next);return(u,c)=>{var f,h,v,g;return l.value?(p(),k("footer",wo,[P(u.$slots,"doc-footer-before",{},void 0,!0),a.value||o.value?(p(),k("div",Eo,[a.value?(p(),k("div",So,[V(Ge,{class:"edit-link-button",href:w(e).url,"no-icon":!0},{default:L(()=>[c[0]||(c[0]=S("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),Me(" "+ae(w(e).text),1)]),_:1},8,["href"])])):O("",!0),o.value?(p(),k("div",Po,[V(To)])):O("",!0)])):O("",!0),(f=w(n).prev)!=null&&f.link||(h=w(n).next)!=null&&h.link?(p(),k("nav",Io,[c[1]||(c[1]=S("span",{class:"visually-hidden",id:"doc-footer-aria-label"},"Pager",-1)),S("div",xo,[(v=w(n).prev)!=null&&v.link?(p(),j(Ge,{key:0,class:"pager-link prev",href:w(n).prev.link},{default:L(()=>{var m;return[S("span",{class:"desc",innerHTML:((m=w(r).docFooter)==null?void 0:m.prev)||"Previous page"},null,8,Lo),S("span",{class:"title",innerHTML:w(n).prev.text},null,8,Ao)]}),_:1},8,["href"])):O("",!0)]),S("div",Mo,[(g=w(n).next)!=null&&g.link?(p(),j(Ge,{key:0,class:"pager-link next",href:w(n).next.link},{default:L(()=>{var m;return[S("span",{class:"desc",innerHTML:((m=w(r).docFooter)==null?void 0:m.next)||"Next page"},null,8,Do),S("span",{class:"title",innerHTML:w(n).next.text},null,8,Oo)]}),_:1},8,["href"])):O("",!0)])])):O("",!0)])):O("",!0)}}}),No=U(Ro,[["__scopeId","data-v-8678e5fd"]]),Fo={class:"container"},Bo={class:"aside-container"},Ho={class:"aside-content"},$o={class:"content"},Vo={class:"content-container"},Uo={class:"main"},zo=N({__name:"VPDoc",setup(s){const{theme:r}=le(),i=Qt(),{hasSidebar:t,hasAside:e,leftAside:n}=ft(),a=K(()=>i.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(o,l)=>{const u=_t("Content");return p(),k("div",{class:me(["VPDoc",{"has-sidebar":w(t),"has-aside":w(e)}])},[P(o.$slots,"doc-top",{},void 0,!0),S("div",Fo,[w(e)?(p(),k("div",{key:0,class:me(["aside",{"left-aside":w(n)}])},[l[0]||(l[0]=S("div",{class:"aside-curtain"},null,-1)),S("div",Bo,[S("div",Ho,[V(po,null,{"aside-top":L(()=>[P(o.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":L(()=>[P(o.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":L(()=>[P(o.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":L(()=>[P(o.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":L(()=>[P(o.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":L(()=>[P(o.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):O("",!0),S("div",$o,[S("div",Vo,[P(o.$slots,"doc-before",{},void 0,!0),S("main",Uo,[V(u,{class:me(["vp-doc",[a.value,w(r).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),V(No,null,{"doc-footer-before":L(()=>[P(o.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),P(o.$slots,"doc-after",{},void 0,!0)])])]),P(o.$slots,"doc-bottom",{},void 0,!0)],2)}}}),jo=U(zo,[["__scopeId","data-v-aa4b9b34"]]),Wo=N({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{},target:{},rel:{}},setup(s){const r=s,i=K(()=>r.href&&Wr.test(r.href)),t=K(()=>r.tag||(r.href?"a":"button"));return(e,n)=>(p(),j(rt(t.value),{class:me(["VPButton",[e.size,e.theme]]),href:e.href?w(wi)(e.href):void 0,target:r.target??(i.value?"_blank":void 0),rel:r.rel??(i.value?"noreferrer":void 0)},{default:L(()=>[Me(ae(e.text),1)]),_:1},8,["class","href","target","rel"]))}}),Go=U(Wo,[["__scopeId","data-v-3e92c42d"]]),Ko=["src","alt"],Yo=N({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup(s){return(r,i)=>{const t=_t("VPImage",!0);return r.image?(p(),k(_e,{key:0},[typeof r.image=="string"||"src"in r.image?(p(),k("img",ot({key:0,class:"VPImage"},typeof r.image=="string"?r.$attrs:{...r.image,...r.$attrs},{src:w(Pn)(typeof r.image=="string"?r.image:r.image.src),alt:r.alt??(typeof r.image=="string"?"":r.image.alt||"")}),null,16,Ko)):(p(),k(_e,{key:1},[V(t,ot({class:"dark",image:r.image.dark,alt:r.image.alt},r.$attrs),null,16,["image","alt"]),V(t,ot({class:"light",image:r.image.light,alt:r.image.alt},r.$attrs),null,16,["image","alt"])],64))],64)):O("",!0)}}}),gn=U(Yo,[["__scopeId","data-v-b4657b41"]]),qo={class:"container"},Xo={class:"main"},Zo={class:"heading"},Jo=["innerHTML"],Qo=["innerHTML"],el=["innerHTML"],tl={key:0,class:"actions"},nl={key:0,class:"image"},il={class:"image-container"},rl=N({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(s){const r=Ln("hero-image-slot-exists");return(i,t)=>(p(),k("div",{class:me(["VPHero",{"has-image":i.image||w(r)}])},[S("div",qo,[S("div",Xo,[P(i.$slots,"home-hero-info-before",{},void 0,!0),P(i.$slots,"home-hero-info",{},()=>[S("h1",Zo,[i.name?(p(),k("span",{key:0,innerHTML:i.name,class:"name clip"},null,8,Jo)):O("",!0),i.text?(p(),k("span",{key:1,innerHTML:i.text,class:"text"},null,8,Qo)):O("",!0)]),i.tagline?(p(),k("p",{key:0,innerHTML:i.tagline,class:"tagline"},null,8,el)):O("",!0)],!0),P(i.$slots,"home-hero-info-after",{},void 0,!0),i.actions?(p(),k("div",tl,[(p(!0),k(_e,null,Oe(i.actions,e=>(p(),k("div",{key:e.link,class:"action"},[V(Go,{tag:"a",size:"medium",theme:e.theme,text:e.text,href:e.link,target:e.target,rel:e.rel},null,8,["theme","text","href","target","rel"])]))),128))])):O("",!0),P(i.$slots,"home-hero-actions-after",{},void 0,!0)]),i.image||w(r)?(p(),k("div",nl,[S("div",il,[t[0]||(t[0]=S("div",{class:"image-bg"},null,-1)),P(i.$slots,"home-hero-image",{},()=>[i.image?(p(),j(gn,{key:0,class:"image-src",image:i.image},null,8,["image"])):O("",!0)],!0)])])):O("",!0)])],2))}}),al=U(rl,[["__scopeId","data-v-9f4db948"]]),sl=N({__name:"VPHomeHero",setup(s){const{frontmatter:r}=le();return(i,t)=>w(r).hero?(p(),j(al,{key:0,class:"VPHomeHero",name:w(r).hero.name,text:w(r).hero.text,tagline:w(r).hero.tagline,image:w(r).hero.image,actions:w(r).hero.actions},{"home-hero-info-before":L(()=>[P(i.$slots,"home-hero-info-before")]),"home-hero-info":L(()=>[P(i.$slots,"home-hero-info")]),"home-hero-info-after":L(()=>[P(i.$slots,"home-hero-info-after")]),"home-hero-actions-after":L(()=>[P(i.$slots,"home-hero-actions-after")]),"home-hero-image":L(()=>[P(i.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):O("",!0)}}),ol={class:"box"},ll={key:0,class:"icon"},ul=["innerHTML"],cl=["innerHTML"],fl=["innerHTML"],dl={key:4,class:"link-text"},hl={class:"link-text-value"},gl=N({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(s){return(r,i)=>(p(),j(Ge,{class:"VPFeature",href:r.link,rel:r.rel,target:r.target,"no-icon":!0,tag:r.link?"a":"div"},{default:L(()=>[S("article",ol,[typeof r.icon=="object"&&r.icon.wrap?(p(),k("div",ll,[V(gn,{image:r.icon,alt:r.icon.alt,height:r.icon.height||48,width:r.icon.width||48},null,8,["image","alt","height","width"])])):typeof r.icon=="object"?(p(),j(gn,{key:1,image:r.icon,alt:r.icon.alt,height:r.icon.height||48,width:r.icon.width||48},null,8,["image","alt","height","width"])):r.icon?(p(),k("div",{key:2,class:"icon",innerHTML:r.icon},null,8,ul)):O("",!0),S("h2",{class:"title",innerHTML:r.title},null,8,cl),r.details?(p(),k("p",{key:3,class:"details",innerHTML:r.details},null,8,fl)):O("",!0),r.linkText?(p(),k("div",dl,[S("p",hl,[Me(ae(r.linkText)+" ",1),i[0]||(i[0]=S("span",{class:"vpi-arrow-right link-text-icon"},null,-1))])])):O("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),vl=U(gl,[["__scopeId","data-v-f3f41154"]]),pl={key:0,class:"VPFeatures"},ml={class:"container"},yl={class:"items"},_l=N({__name:"VPFeatures",props:{features:{}},setup(s){const r=s,i=K(()=>{const t=r.features.length;if(t){if(t===2)return"grid-2";if(t===3)return"grid-3";if(t%3===0)return"grid-6";if(t>3)return"grid-4"}else return});return(t,e)=>t.features?(p(),k("div",pl,[S("div",ml,[S("div",yl,[(p(!0),k(_e,null,Oe(t.features,n=>(p(),k("div",{key:n.title,class:me(["item",[i.value]])},[V(vl,{icon:n.icon,title:n.title,details:n.details,link:n.link,"link-text":n.linkText,rel:n.rel,target:n.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):O("",!0)}}),bl=U(_l,[["__scopeId","data-v-041541b9"]]),kl=N({__name:"VPHomeFeatures",setup(s){const{frontmatter:r}=le();return(i,t)=>w(r).features?(p(),j(bl,{key:0,class:"VPHomeFeatures",features:w(r).features},null,8,["features"])):O("",!0)}}),Cl=N({__name:"VPHomeContent",setup(s){const{width:r}=ks({initialWidth:0,includeScrollbar:!1});return(i,t)=>(p(),k("div",{class:"vp-doc container",style:Gr(w(r)?{"--vp-offset":`calc(50% - ${w(r)/2}px)`}:{})},[P(i.$slots,"default",{},void 0,!0)],4))}}),Tl=U(Cl,[["__scopeId","data-v-81710c81"]]),wl=N({__name:"VPHome",setup(s){const{frontmatter:r,theme:i}=le();return(t,e)=>{const n=_t("Content");return p(),k("div",{class:me(["VPHome",{"external-link-icon-enabled":w(i).externalLinkIcon}])},[P(t.$slots,"home-hero-before",{},void 0,!0),V(sl,null,{"home-hero-info-before":L(()=>[P(t.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":L(()=>[P(t.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":L(()=>[P(t.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":L(()=>[P(t.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":L(()=>[P(t.$slots,"home-hero-image",{},void 0,!0)]),_:3}),P(t.$slots,"home-hero-after",{},void 0,!0),P(t.$slots,"home-features-before",{},void 0,!0),V(kl),P(t.$slots,"home-features-after",{},void 0,!0),w(r).markdownStyles!==!1?(p(),j(Tl,{key:0},{default:L(()=>[V(n)]),_:1})):(p(),j(n,{key:1}))],2)}}}),El=U(wl,[["__scopeId","data-v-32c170b3"]]),Sl={},Pl={class:"VPPage"};function Il(s,r){const i=_t("Content");return p(),k("div",Pl,[P(s.$slots,"page-top"),V(i),P(s.$slots,"page-bottom")])}const xl=U(Sl,[["render",Il]]),Ll=N({__name:"VPContent",setup(s){const{page:r,frontmatter:i}=le(),{hasSidebar:t}=ft();return(e,n)=>(p(),k("div",{class:me(["VPContent",{"has-sidebar":w(t),"is-home":w(i).layout==="home"}]),id:"VPContent"},[w(r).isNotFound?P(e.$slots,"not-found",{key:0},()=>[V(Ks)],!0):w(i).layout==="page"?(p(),j(xl,{key:1},{"page-top":L(()=>[P(e.$slots,"page-top",{},void 0,!0)]),"page-bottom":L(()=>[P(e.$slots,"page-bottom",{},void 0,!0)]),_:3})):w(i).layout==="home"?(p(),j(El,{key:2},{"home-hero-before":L(()=>[P(e.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":L(()=>[P(e.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":L(()=>[P(e.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":L(()=>[P(e.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":L(()=>[P(e.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":L(()=>[P(e.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":L(()=>[P(e.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":L(()=>[P(e.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":L(()=>[P(e.$slots,"home-features-after",{},void 0,!0)]),_:3})):w(i).layout&&w(i).layout!=="doc"?(p(),j(rt(w(i).layout),{key:3})):(p(),j(jo,{key:4},{"doc-top":L(()=>[P(e.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":L(()=>[P(e.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":L(()=>[P(e.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":L(()=>[P(e.$slots,"doc-before",{},void 0,!0)]),"doc-after":L(()=>[P(e.$slots,"doc-after",{},void 0,!0)]),"aside-top":L(()=>[P(e.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":L(()=>[P(e.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":L(()=>[P(e.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":L(()=>[P(e.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":L(()=>[P(e.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":L(()=>[P(e.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),Al=U(Ll,[["__scopeId","data-v-7899bdbc"]]),Ml={class:"container"},Dl=["innerHTML"],Ol=["innerHTML"],Rl=N({__name:"VPFooter",setup(s){const{theme:r,frontmatter:i}=le(),{hasSidebar:t}=ft();return(e,n)=>w(r).footer&&w(i).footer!==!1?(p(),k("footer",{key:0,class:me(["VPFooter",{"has-sidebar":w(t)}])},[S("div",Ml,[w(r).footer.message?(p(),k("p",{key:0,class:"message",innerHTML:w(r).footer.message},null,8,Dl)):O("",!0),w(r).footer.copyright?(p(),k("p",{key:1,class:"copyright",innerHTML:w(r).footer.copyright},null,8,Ol)):O("",!0)])],2)):O("",!0)}}),Nl=U(Rl,[["__scopeId","data-v-8c9f2fb9"]]);function Fl(){const{theme:s,frontmatter:r}=le(),i=jr([]),t=K(()=>i.value.length>0);return xn(()=>{i.value=Ei(r.value.outline??s.value.outline)}),{headers:i,hasLocalNav:t}}const Bl={class:"menu-text"},Hl={class:"header"},$l={class:"outline"},Vl=N({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(s){const r=s,{theme:i}=le(),t=de(!1),e=de(0),n=de(),a=de();function o(f){var h;(h=n.value)!=null&&h.contains(f.target)||(t.value=!1)}Ke(t,f=>{if(f){document.addEventListener("click",o);return}document.removeEventListener("click",o)}),ci("Escape",()=>{t.value=!1}),xn(()=>{t.value=!1});function l(){t.value=!t.value,e.value=window.innerHeight+Math.min(window.scrollY-r.navHeight,0)}function u(f){f.target.classList.contains("outline-link")&&(a.value&&(a.value.style.transition="none"),en(()=>{t.value=!1}))}function c(){t.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(f,h)=>(p(),k("div",{class:"VPLocalNavOutlineDropdown",style:Gr({"--vp-vh":e.value+"px"}),ref_key:"main",ref:n},[f.headers.length>0?(p(),k("button",{key:0,onClick:l,class:me({open:t.value})},[S("span",Bl,ae(w(ea)(w(i))),1),h[0]||(h[0]=S("span",{class:"vpi-chevron-right icon"},null,-1))],2)):(p(),k("button",{key:1,onClick:c},ae(w(i).returnToTopLabel||"Return to top"),1)),V(Sn,{name:"flyout"},{default:L(()=>[t.value?(p(),k("div",{key:0,ref_key:"items",ref:a,class:"items",onClick:u},[S("div",Hl,[S("a",{class:"top-link",href:"#",onClick:c},ae(w(i).returnToTopLabel||"Return to top"),1)]),S("div",$l,[V(ta,{headers:f.headers},null,8,["headers"])])],512)):O("",!0)]),_:1})],4))}}),Ul=U(Vl,[["__scopeId","data-v-4144cb0e"]]),zl={class:"container"},jl=["aria-expanded"],Wl={class:"menu-text"},Gl=N({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(s){const{theme:r,frontmatter:i}=le(),{hasSidebar:t}=ft(),{headers:e}=Fl(),{y:n}=Kr(),a=de(0);De(()=>{a.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))}),xn(()=>{e.value=Ei(i.value.outline??r.value.outline)});const o=K(()=>e.value.length===0),l=K(()=>o.value&&!t.value),u=K(()=>({VPLocalNav:!0,"has-sidebar":t.value,empty:o.value,fixed:l.value}));return(c,f)=>w(i).layout!=="home"&&(!l.value||w(n)>=a.value)?(p(),k("div",{key:0,class:me(u.value)},[S("div",zl,[w(t)?(p(),k("button",{key:0,class:"menu","aria-expanded":c.open,"aria-controls":"VPSidebarNav",onClick:f[0]||(f[0]=h=>c.$emit("open-menu"))},[f[1]||(f[1]=S("span",{class:"vpi-align-left menu-icon"},null,-1)),S("span",Wl,ae(w(r).sidebarMenuLabel||"Menu"),1)],8,jl)):O("",!0),V(Ul,{headers:w(e),navHeight:a.value},null,8,["headers","navHeight"])])],2)):O("",!0)}}),Kl=U(Gl,[["__scopeId","data-v-bf3b182f"]]);function Yl(){const s=de(!1);function r(){s.value=!0,window.addEventListener("resize",e)}function i(){s.value=!1,window.removeEventListener("resize",e)}function t(){s.value?i():r()}function e(){window.outerWidth>=768&&i()}const n=Qt();return Ke(()=>n.path,i),{isScreenOpen:s,openScreen:r,closeScreen:i,toggleScreen:t}}const ql={},Xl={class:"VPSwitch",type:"button",role:"switch"},Zl={class:"check"},Jl={key:0,class:"icon"};function Ql(s,r){return p(),k("button",Xl,[S("span",Zl,[s.$slots.default?(p(),k("span",Jl,[P(s.$slots,"default",{},void 0,!0)])):O("",!0)])])}const eu=U(ql,[["render",Ql],["__scopeId","data-v-28aa33d8"]]),tu=N({__name:"VPSwitchAppearance",setup(s){const{isDark:r,theme:i}=le(),t=Ln("toggle-appearance",()=>{r.value=!r.value}),e=de("");return Ci(()=>{e.value=r.value?i.value.lightModeSwitchTitle||"Switch to light theme":i.value.darkModeSwitchTitle||"Switch to dark theme"}),(n,a)=>(p(),j(eu,{title:e.value,class:"VPSwitchAppearance","aria-checked":w(r),onClick:w(t)},{default:L(()=>a[0]||(a[0]=[S("span",{class:"vpi-sun sun"},null,-1),S("span",{class:"vpi-moon moon"},null,-1)])),_:1},8,["title","aria-checked","onClick"]))}}),Si=U(tu,[["__scopeId","data-v-2b7b491c"]]),nu={key:0,class:"VPNavBarAppearance"},iu=N({__name:"VPNavBarAppearance",setup(s){const{site:r}=le();return(i,t)=>w(r).appearance&&w(r).appearance!=="force-dark"&&w(r).appearance!=="force-auto"?(p(),k("div",nu,[V(Si)])):O("",!0)}}),ru=U(iu,[["__scopeId","data-v-a1875f98"]]),Pi=de();let na=!1,zn=0;function au(s){const r=de(!1);if(zt){!na&&su(),zn++;const i=Ke(Pi,t=>{var e,n,a;t===s.el.value||(e=s.el.value)!=null&&e.contains(t)?(r.value=!0,(n=s.onFocus)==null||n.call(s)):(r.value=!1,(a=s.onBlur)==null||a.call(s))});Jt(()=>{i(),zn--,zn||ou()})}return Cs(r)}function su(){document.addEventListener("focusin",ia),na=!0,Pi.value=document.activeElement}function ou(){document.removeEventListener("focusin",ia)}function ia(){Pi.value=document.activeElement}const lu={class:"VPMenuLink"},uu=["innerHTML"],cu=N({__name:"VPMenuLink",props:{item:{}},setup(s){const{page:r}=le();return(i,t)=>(p(),k("div",lu,[V(Ge,{class:me({active:w(Pt)(w(r).relativePath,i.item.activeMatch||i.item.link,!!i.item.activeMatch)}),href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon},{default:L(()=>[S("span",{innerHTML:i.item.text},null,8,uu)]),_:1},8,["class","href","target","rel","no-icon"])]))}}),Mn=U(cu,[["__scopeId","data-v-1c3acb42"]]),fu={class:"VPMenuGroup"},du={key:0,class:"title"},hu=N({__name:"VPMenuGroup",props:{text:{},items:{}},setup(s){return(r,i)=>(p(),k("div",fu,[r.text?(p(),k("p",du,ae(r.text),1)):O("",!0),(p(!0),k(_e,null,Oe(r.items,t=>(p(),k(_e,null,["link"in t?(p(),j(Mn,{key:0,item:t},null,8,["item"])):O("",!0)],64))),256))]))}}),gu=U(hu,[["__scopeId","data-v-cdeb1685"]]),vu={class:"VPMenu"},pu={key:0,class:"items"},mu=N({__name:"VPMenu",props:{items:{}},setup(s){return(r,i)=>(p(),k("div",vu,[r.items?(p(),k("div",pu,[(p(!0),k(_e,null,Oe(r.items,t=>(p(),k(_e,{key:JSON.stringify(t)},["link"in t?(p(),j(Mn,{key:0,item:t},null,8,["item"])):"component"in t?(p(),j(rt(t.component),ot({key:1,ref_for:!0},t.props),null,16)):(p(),j(gu,{key:2,text:t.text,items:t.items},null,8,["text","items"]))],64))),128))])):O("",!0),P(r.$slots,"default",{},void 0,!0)]))}}),yu=U(mu,[["__scopeId","data-v-dfe869d1"]]),_u=["aria-expanded","aria-label"],bu={key:0,class:"text"},ku=["innerHTML"],Cu={key:1,class:"vpi-more-horizontal icon"},Tu={class:"menu"},wu=N({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(s){const r=de(!1),i=de();au({el:i,onBlur:t});function t(){r.value=!1}return(e,n)=>(p(),k("div",{class:"VPFlyout",ref_key:"el",ref:i,onMouseenter:n[1]||(n[1]=a=>r.value=!0),onMouseleave:n[2]||(n[2]=a=>r.value=!1)},[S("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":r.value,"aria-label":e.label,onClick:n[0]||(n[0]=a=>r.value=!r.value)},[e.button||e.icon?(p(),k("span",bu,[e.icon?(p(),k("span",{key:0,class:me([e.icon,"option-icon"])},null,2)):O("",!0),e.button?(p(),k("span",{key:1,innerHTML:e.button},null,8,ku)):O("",!0),n[3]||(n[3]=S("span",{class:"vpi-chevron-down text-icon"},null,-1))])):(p(),k("span",Cu))],8,_u),S("div",Tu,[V(yu,{items:e.items},{default:L(()=>[P(e.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),Ii=U(wu,[["__scopeId","data-v-ae932457"]]),Eu=["href","aria-label","innerHTML"],Su=N({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{}},setup(s){const r=s,i=de();De(async()=>{var n;await en();const e=(n=i.value)==null?void 0:n.children[0];e instanceof HTMLElement&&e.className.startsWith("vpi-social-")&&(getComputedStyle(e).maskImage||getComputedStyle(e).webkitMaskImage)==="none"&&e.style.setProperty("--icon",`url('https://api.iconify.design/simple-icons/${r.icon}.svg')`)});const t=K(()=>typeof r.icon=="object"?r.icon.svg:`<span class="vpi-social-${r.icon}"></span>`);return(e,n)=>(p(),k("a",{ref_key:"el",ref:i,class:"VPSocialLink no-icon",href:e.link,"aria-label":e.ariaLabel??(typeof e.icon=="string"?e.icon:""),target:"_blank",rel:"noopener",innerHTML:t.value},null,8,Eu))}}),Pu=U(Su,[["__scopeId","data-v-1a8045d3"]]),Iu={class:"VPSocialLinks"},xu=N({__name:"VPSocialLinks",props:{links:{}},setup(s){return(r,i)=>(p(),k("div",Iu,[(p(!0),k(_e,null,Oe(r.links,({link:t,icon:e,ariaLabel:n})=>(p(),j(Pu,{key:t,icon:e,link:t,ariaLabel:n},null,8,["icon","link","ariaLabel"]))),128))]))}}),Dn=U(xu,[["__scopeId","data-v-48a9cee0"]]),Lu={key:0,class:"group translations"},Au={class:"trans-title"},Mu={key:1,class:"group"},Du={class:"item appearance"},Ou={class:"label"},Ru={class:"appearance-action"},Nu={key:2,class:"group"},Fu={class:"item social-links"},Bu=N({__name:"VPNavBarExtra",setup(s){const{site:r,theme:i}=le(),{localeLinks:t,currentLang:e}=tn({correspondingLink:!0}),n=K(()=>t.value.length&&e.value.label||r.value.appearance||i.value.socialLinks);return(a,o)=>n.value?(p(),j(Ii,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:L(()=>[w(t).length&&w(e).label?(p(),k("div",Lu,[S("p",Au,ae(w(e).label),1),(p(!0),k(_e,null,Oe(w(t),l=>(p(),j(Mn,{key:l.link,item:l},null,8,["item"]))),128))])):O("",!0),w(r).appearance&&w(r).appearance!=="force-dark"&&w(r).appearance!=="force-auto"?(p(),k("div",Mu,[S("div",Du,[S("p",Ou,ae(w(i).darkModeSwitchLabel||"Appearance"),1),S("div",Ru,[V(Si)])])])):O("",!0),w(i).socialLinks?(p(),k("div",Nu,[S("div",Fu,[V(Dn,{class:"social-links-list",links:w(i).socialLinks},null,8,["links"])])])):O("",!0)]),_:1})):O("",!0)}}),Hu=U(Bu,[["__scopeId","data-v-d1a36781"]]),$u=["aria-expanded"],Vu=N({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(s){return(r,i)=>(p(),k("button",{type:"button",class:me(["VPNavBarHamburger",{active:r.active}]),"aria-label":"mobile navigation","aria-expanded":r.active,"aria-controls":"VPNavScreen",onClick:i[0]||(i[0]=t=>r.$emit("click"))},i[1]||(i[1]=[S("span",{class:"container"},[S("span",{class:"top"}),S("span",{class:"middle"}),S("span",{class:"bottom"})],-1)]),10,$u))}}),Uu=U(Vu,[["__scopeId","data-v-02290808"]]),zu=["innerHTML"],ju=N({__name:"VPNavBarMenuLink",props:{item:{}},setup(s){const{page:r}=le();return(i,t)=>(p(),j(Ge,{class:me({VPNavBarMenuLink:!0,active:w(Pt)(w(r).relativePath,i.item.activeMatch||i.item.link,!!i.item.activeMatch)}),href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon,tabindex:"0"},{default:L(()=>[S("span",{innerHTML:i.item.text},null,8,zu)]),_:1},8,["class","href","target","rel","no-icon"]))}}),Wu=U(ju,[["__scopeId","data-v-9c86c8f7"]]),Gu=N({__name:"VPNavBarMenuGroup",props:{item:{}},setup(s){const r=s,{page:i}=le(),t=n=>"component"in n?!1:"link"in n?Pt(i.value.relativePath,n.link,!!r.item.activeMatch):n.items.some(t),e=K(()=>t(r.item));return(n,a)=>(p(),j(Ii,{class:me({VPNavBarMenuGroup:!0,active:w(Pt)(w(i).relativePath,n.item.activeMatch,!!n.item.activeMatch)||e.value}),button:n.item.text,items:n.item.items},null,8,["class","button","items"]))}}),Ku={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},Yu=N({__name:"VPNavBarMenu",setup(s){const{theme:r}=le();return(i,t)=>w(r).nav?(p(),k("nav",Ku,[t[0]||(t[0]=S("span",{id:"main-nav-aria-label",class:"visually-hidden"}," Main Navigation ",-1)),(p(!0),k(_e,null,Oe(w(r).nav,e=>(p(),k(_e,{key:JSON.stringify(e)},["link"in e?(p(),j(Wu,{key:0,item:e},null,8,["item"])):"component"in e?(p(),j(rt(e.component),ot({key:1,ref_for:!0},e.props),null,16)):(p(),j(Gu,{key:2,item:e},null,8,["item"]))],64))),128))])):O("",!0)}}),qu=U(Yu,[["__scopeId","data-v-ee98a575"]]);function Xu(s){const{localeIndex:r,theme:i}=le();function t(e){var g,m,y;const n=e.split("."),a=(g=i.value.search)==null?void 0:g.options,o=a&&typeof a=="object",l=o&&((y=(m=a.locales)==null?void 0:m[r.value])==null?void 0:y.translations)||null,u=o&&a.translations||null;let c=l,f=u,h=s;const v=n.pop();for(const x of n){let C=null;const b=h==null?void 0:h[x];b&&(C=h=b);const M=f==null?void 0:f[x];M&&(C=f=M);const B=c==null?void 0:c[x];B&&(C=c=B),b||(h=C),M||(f=C),B||(c=C)}return(c==null?void 0:c[v])??(f==null?void 0:f[v])??(h==null?void 0:h[v])??""}return t}const Zu=["aria-label"],Ju={class:"DocSearch-Button-Container"},Qu={class:"DocSearch-Button-Placeholder"},ir=N({__name:"VPNavBarSearchButton",setup(s){const i=Xu({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(t,e)=>(p(),k("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":w(i)("button.buttonAriaLabel")},[S("span",Ju,[e[0]||(e[0]=S("span",{class:"vp-icon DocSearch-Search-Icon"},null,-1)),S("span",Qu,ae(w(i)("button.buttonText")),1)]),e[1]||(e[1]=S("span",{class:"DocSearch-Button-Keys"},[S("kbd",{class:"DocSearch-Button-Key"}),S("kbd",{class:"DocSearch-Button-Key"},"K")],-1))],8,Zu))}}),ec={class:"VPNavBarSearch"},tc={id:"local-search"},nc={key:1,id:"docsearch"},ic=N({__name:"VPNavBarSearch",setup(s){const r=Ts(()=>Yr(()=>import("./VPLocalSearchBox.pVEOXP7N.js"),__vite__mapDeps([0,1]))),i=()=>null,{theme:t}=le(),e=de(!1),n=de(!1);De(()=>{});function a(){e.value||(e.value=!0,setTimeout(o,16))}function o(){const f=new Event("keydown");f.key="k",f.metaKey=!0,window.dispatchEvent(f),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||o()},16)}function l(f){const h=f.target,v=h.tagName;return h.isContentEditable||v==="INPUT"||v==="SELECT"||v==="TEXTAREA"}const u=de(!1);ci("k",f=>{(f.ctrlKey||f.metaKey)&&(f.preventDefault(),u.value=!0)}),ci("/",f=>{l(f)||(f.preventDefault(),u.value=!0)});const c="local";return(f,h)=>{var v;return p(),k("div",ec,[w(c)==="local"?(p(),k(_e,{key:0},[u.value?(p(),j(w(r),{key:0,onClose:h[0]||(h[0]=g=>u.value=!1)})):O("",!0),S("div",tc,[V(ir,{onClick:h[1]||(h[1]=g=>u.value=!0)})])],64)):w(c)==="algolia"?(p(),k(_e,{key:1},[e.value?(p(),j(w(i),{key:0,algolia:((v=w(t).search)==null?void 0:v.options)??w(t).algolia,onVnodeBeforeMount:h[2]||(h[2]=g=>n.value=!0)},null,8,["algolia"])):O("",!0),n.value?O("",!0):(p(),k("div",nc,[V(ir,{onClick:a})]))],64)):O("",!0)])}}}),rc=N({__name:"VPNavBarSocialLinks",setup(s){const{theme:r}=le();return(i,t)=>w(r).socialLinks?(p(),j(Dn,{key:0,class:"VPNavBarSocialLinks",links:w(r).socialLinks},null,8,["links"])):O("",!0)}}),ac=U(rc,[["__scopeId","data-v-63267f23"]]),sc=["href","rel","target"],oc=["innerHTML"],lc={key:2},uc=N({__name:"VPNavBarTitle",setup(s){const{site:r,theme:i}=le(),{hasSidebar:t}=ft(),{currentLang:e}=tn(),n=K(()=>{var l;return typeof i.value.logoLink=="string"?i.value.logoLink:(l=i.value.logoLink)==null?void 0:l.link}),a=K(()=>{var l;return typeof i.value.logoLink=="string"||(l=i.value.logoLink)==null?void 0:l.rel}),o=K(()=>{var l;return typeof i.value.logoLink=="string"||(l=i.value.logoLink)==null?void 0:l.target});return(l,u)=>(p(),k("div",{class:me(["VPNavBarTitle",{"has-sidebar":w(t)}])},[S("a",{class:"title",href:n.value??w(wi)(w(e).link),rel:a.value,target:o.value},[P(l.$slots,"nav-bar-title-before",{},void 0,!0),w(i).logo?(p(),j(gn,{key:0,class:"logo",image:w(i).logo},null,8,["image"])):O("",!0),w(i).siteTitle?(p(),k("span",{key:1,innerHTML:w(i).siteTitle},null,8,oc)):w(i).siteTitle===void 0?(p(),k("span",lc,ae(w(r).title),1)):O("",!0),P(l.$slots,"nav-bar-title-after",{},void 0,!0)],8,sc)],2))}}),cc=U(uc,[["__scopeId","data-v-2967266f"]]),fc={class:"items"},dc={class:"title"},hc=N({__name:"VPNavBarTranslations",setup(s){const{theme:r}=le(),{localeLinks:i,currentLang:t}=tn({correspondingLink:!0});return(e,n)=>w(i).length&&w(t).label?(p(),j(Ii,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:w(r).langMenuLabel||"Change language"},{default:L(()=>[S("div",fc,[S("p",dc,ae(w(t).label),1),(p(!0),k(_e,null,Oe(w(i),a=>(p(),j(Mn,{key:a.link,item:a},null,8,["item"]))),128))])]),_:1},8,["label"])):O("",!0)}}),gc=U(hc,[["__scopeId","data-v-7ed30b2a"]]),vc={class:"wrapper"},pc={class:"container"},mc={class:"title"},yc={class:"content"},_c={class:"content-body"},bc=N({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(s){const r=s,{y:i}=Kr(),{hasSidebar:t}=ft(),{frontmatter:e}=le(),n=de({});return Ci(()=>{n.value={"has-sidebar":t.value,home:e.value.layout==="home",top:i.value===0,"screen-open":r.isScreenOpen}}),(a,o)=>(p(),k("div",{class:me(["VPNavBar",n.value])},[S("div",vc,[S("div",pc,[S("div",mc,[V(cc,null,{"nav-bar-title-before":L(()=>[P(a.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":L(()=>[P(a.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),S("div",yc,[S("div",_c,[P(a.$slots,"nav-bar-content-before",{},void 0,!0),V(ic,{class:"search"}),V(qu,{class:"menu"}),V(gc,{class:"translations"}),V(ru,{class:"appearance"}),V(ac,{class:"social-links"}),V(Hu,{class:"extra"}),P(a.$slots,"nav-bar-content-after",{},void 0,!0),V(Uu,{class:"hamburger",active:a.isScreenOpen,onClick:o[0]||(o[0]=l=>a.$emit("toggle-screen"))},null,8,["active"])])])])]),o[1]||(o[1]=S("div",{class:"divider"},[S("div",{class:"divider-line"})],-1))],2))}}),kc=U(bc,[["__scopeId","data-v-99264b26"]]),Cc={key:0,class:"VPNavScreenAppearance"},Tc={class:"text"},wc=N({__name:"VPNavScreenAppearance",setup(s){const{site:r,theme:i}=le();return(t,e)=>w(r).appearance&&w(r).appearance!=="force-dark"&&w(r).appearance!=="force-auto"?(p(),k("div",Cc,[S("p",Tc,ae(w(i).darkModeSwitchLabel||"Appearance"),1),V(Si)])):O("",!0)}}),Ec=U(wc,[["__scopeId","data-v-d75204c0"]]),Sc=["innerHTML"],Pc=N({__name:"VPNavScreenMenuLink",props:{item:{}},setup(s){const r=Ln("close-screen");return(i,t)=>(p(),j(Ge,{class:"VPNavScreenMenuLink",href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon,onClick:w(r)},{default:L(()=>[S("span",{innerHTML:i.item.text},null,8,Sc)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),Ic=U(Pc,[["__scopeId","data-v-2f78a2ed"]]),xc=["innerHTML"],Lc=N({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(s){const r=Ln("close-screen");return(i,t)=>(p(),j(Ge,{class:"VPNavScreenMenuGroupLink",href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon,onClick:w(r)},{default:L(()=>[S("span",{innerHTML:i.item.text},null,8,xc)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),ra=U(Lc,[["__scopeId","data-v-be100c3b"]]),Ac={class:"VPNavScreenMenuGroupSection"},Mc={key:0,class:"title"},Dc=N({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup(s){return(r,i)=>(p(),k("div",Ac,[r.text?(p(),k("p",Mc,ae(r.text),1)):O("",!0),(p(!0),k(_e,null,Oe(r.items,t=>(p(),j(ra,{key:t.text,item:t},null,8,["item"]))),128))]))}}),Oc=U(Dc,[["__scopeId","data-v-71d2308a"]]),Rc=["aria-controls","aria-expanded"],Nc=["innerHTML"],Fc=["id"],Bc={key:0,class:"item"},Hc={key:1,class:"item"},$c={key:2,class:"group"},Vc=N({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(s){const r=s,i=de(!1),t=K(()=>`NavScreenGroup-${r.text.replace(" ","-").toLowerCase()}`);function e(){i.value=!i.value}return(n,a)=>(p(),k("div",{class:me(["VPNavScreenMenuGroup",{open:i.value}])},[S("button",{class:"button","aria-controls":t.value,"aria-expanded":i.value,onClick:e},[S("span",{class:"button-text",innerHTML:n.text},null,8,Nc),a[0]||(a[0]=S("span",{class:"vpi-plus button-icon"},null,-1))],8,Rc),S("div",{id:t.value,class:"items"},[(p(!0),k(_e,null,Oe(n.items,o=>(p(),k(_e,{key:JSON.stringify(o)},["link"in o?(p(),k("div",Bc,[V(ra,{item:o},null,8,["item"])])):"component"in o?(p(),k("div",Hc,[(p(),j(rt(o.component),ot({ref_for:!0},o.props,{"screen-menu":""}),null,16))])):(p(),k("div",$c,[V(Oc,{text:o.text,items:o.items},null,8,["text","items"])]))],64))),128))],8,Fc)],2))}}),Uc=U(Vc,[["__scopeId","data-v-5f7244f1"]]),zc={key:0,class:"VPNavScreenMenu"},jc=N({__name:"VPNavScreenMenu",setup(s){const{theme:r}=le();return(i,t)=>w(r).nav?(p(),k("nav",zc,[(p(!0),k(_e,null,Oe(w(r).nav,e=>(p(),k(_e,{key:JSON.stringify(e)},["link"in e?(p(),j(Ic,{key:0,item:e},null,8,["item"])):"component"in e?(p(),j(rt(e.component),ot({key:1,ref_for:!0},e.props,{"screen-menu":""}),null,16)):(p(),j(Uc,{key:2,text:e.text||"",items:e.items},null,8,["text","items"]))],64))),128))])):O("",!0)}}),Wc=N({__name:"VPNavScreenSocialLinks",setup(s){const{theme:r}=le();return(i,t)=>w(r).socialLinks?(p(),j(Dn,{key:0,class:"VPNavScreenSocialLinks",links:w(r).socialLinks},null,8,["links"])):O("",!0)}}),Gc={class:"list"},Kc=N({__name:"VPNavScreenTranslations",setup(s){const{localeLinks:r,currentLang:i}=tn({correspondingLink:!0}),t=de(!1);function e(){t.value=!t.value}return(n,a)=>w(r).length&&w(i).label?(p(),k("div",{key:0,class:me(["VPNavScreenTranslations",{open:t.value}])},[S("button",{class:"title",onClick:e},[a[0]||(a[0]=S("span",{class:"vpi-languages icon lang"},null,-1)),Me(" "+ae(w(i).label)+" ",1),a[1]||(a[1]=S("span",{class:"vpi-chevron-down icon chevron"},null,-1))]),S("ul",Gc,[(p(!0),k(_e,null,Oe(w(r),o=>(p(),k("li",{key:o.link,class:"item"},[V(Ge,{class:"link",href:o.link},{default:L(()=>[Me(ae(o.text),1)]),_:2},1032,["href"])]))),128))])],2)):O("",!0)}}),Yc=U(Kc,[["__scopeId","data-v-5497e9a7"]]),qc={class:"container"},Xc=N({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(s){const r=de(null),i=qr(zt?document.body:null);return(t,e)=>(p(),j(Sn,{name:"fade",onEnter:e[0]||(e[0]=n=>i.value=!0),onAfterLeave:e[1]||(e[1]=n=>i.value=!1)},{default:L(()=>[t.open?(p(),k("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:r,id:"VPNavScreen"},[S("div",qc,[P(t.$slots,"nav-screen-content-before",{},void 0,!0),V(jc,{class:"menu"}),V(Yc,{class:"translations"}),V(Ec,{class:"appearance"}),V(Wc,{class:"social-links"}),P(t.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):O("",!0)]),_:3}))}}),Zc=U(Xc,[["__scopeId","data-v-51c865b2"]]),Jc={key:0,class:"VPNav"},Qc=N({__name:"VPNav",setup(s){const{isScreenOpen:r,closeScreen:i,toggleScreen:t}=Yl(),{frontmatter:e}=le(),n=K(()=>e.value.navbar!==!1);return Ti("close-screen",i),In(()=>{zt&&document.documentElement.classList.toggle("hide-nav",!n.value)}),(a,o)=>n.value?(p(),k("header",Jc,[V(kc,{"is-screen-open":w(r),onToggleScreen:w(t)},{"nav-bar-title-before":L(()=>[P(a.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":L(()=>[P(a.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":L(()=>[P(a.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":L(()=>[P(a.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),V(Zc,{open:w(r)},{"nav-screen-content-before":L(()=>[P(a.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":L(()=>[P(a.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):O("",!0)}}),ef=U(Qc,[["__scopeId","data-v-1bfe7ca5"]]),tf=["role","tabindex"],nf={key:1,class:"items"},rf=N({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(s){const r=s,{collapsed:i,collapsible:t,isLink:e,isActiveLink:n,hasActiveLink:a,hasChildren:o,toggle:l}=Zs(K(()=>r.item)),u=K(()=>o.value?"section":"div"),c=K(()=>e.value?"a":"div"),f=K(()=>o.value?r.depth+2===7?"p":`h${r.depth+2}`:"p"),h=K(()=>e.value?void 0:"button"),v=K(()=>[[`level-${r.depth}`],{collapsible:t.value},{collapsed:i.value},{"is-link":e.value},{"is-active":n.value},{"has-active":a.value}]);function g(y){"key"in y&&y.key!=="Enter"||!r.item.link&&l()}function m(){r.item.link&&l()}return(y,x)=>{const C=_t("VPSidebarItem",!0);return p(),j(rt(u.value),{class:me(["VPSidebarItem",v.value])},{default:L(()=>[y.item.text?(p(),k("div",ot({key:0,class:"item",role:h.value},Es(y.item.items?{click:g,keydown:g}:{},!0),{tabindex:y.item.items&&0}),[x[1]||(x[1]=S("div",{class:"indicator"},null,-1)),y.item.link?(p(),j(Ge,{key:0,tag:c.value,class:"link",href:y.item.link,rel:y.item.rel,target:y.item.target},{default:L(()=>[(p(),j(rt(f.value),{class:"text",innerHTML:y.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(p(),j(rt(f.value),{key:1,class:"text",innerHTML:y.item.text},null,8,["innerHTML"])),y.item.collapsed!=null&&y.item.items&&y.item.items.length?(p(),k("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:m,onKeydown:ws(m,["enter"]),tabindex:"0"},x[0]||(x[0]=[S("span",{class:"vpi-chevron-right caret-icon"},null,-1)]),32)):O("",!0)],16,tf)):O("",!0),y.item.items&&y.item.items.length?(p(),k("div",nf,[y.depth<5?(p(!0),k(_e,{key:0},Oe(y.item.items,b=>(p(),j(C,{key:b.text,item:b,depth:y.depth+1},null,8,["item","depth"]))),128)):O("",!0)])):O("",!0)]),_:1},8,["class"])}}}),af=U(rf,[["__scopeId","data-v-7368aa26"]]),sf=N({__name:"VPSidebarGroup",props:{items:{}},setup(s){const r=de(!0);let i=null;return De(()=>{i=setTimeout(()=>{i=null,r.value=!1},300)}),Xr(()=>{i!=null&&(clearTimeout(i),i=null)}),(t,e)=>(p(!0),k(_e,null,Oe(t.items,n=>(p(),k("div",{key:n.text,class:me(["group",{"no-transition":r.value}])},[V(af,{item:n,depth:0},null,8,["item"])],2))),128))}}),of=U(sf,[["__scopeId","data-v-4c66d048"]]),lf={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},uf=N({__name:"VPSidebar",props:{open:{type:Boolean}},setup(s){const{sidebarGroups:r,hasSidebar:i}=ft(),t=s,e=de(null),n=qr(zt?document.body:null);Ke([t,e],()=>{var o;t.open?(n.value=!0,(o=e.value)==null||o.focus()):n.value=!1},{immediate:!0,flush:"post"});const a=de(0);return Ke(r,()=>{a.value+=1},{deep:!0}),(o,l)=>w(i)?(p(),k("aside",{key:0,class:me(["VPSidebar",{open:o.open}]),ref_key:"navEl",ref:e,onClick:l[0]||(l[0]=Ss(()=>{},["stop"]))},[l[2]||(l[2]=S("div",{class:"curtain"},null,-1)),S("nav",lf,[l[1]||(l[1]=S("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),P(o.$slots,"sidebar-nav-before",{},void 0,!0),(p(),j(of,{items:w(r),key:a.value},null,8,["items"])),P(o.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):O("",!0)}}),cf=U(uf,[["__scopeId","data-v-f7de89dc"]]),ff=N({__name:"VPSkipLink",setup(s){const{theme:r}=le(),i=Qt(),t=de();Ke(()=>i.path,()=>t.value.focus());function e({target:n}){const a=document.getElementById(decodeURIComponent(n.hash).slice(1));if(a){const o=()=>{a.removeAttribute("tabindex"),a.removeEventListener("blur",o)};a.setAttribute("tabindex","-1"),a.addEventListener("blur",o),a.focus(),window.scrollTo(0,0)}}return(n,a)=>(p(),k(_e,null,[S("span",{ref_key:"backToTop",ref:t,tabindex:"-1"},null,512),S("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:e},ae(w(r).skipToContentLabel||"Skip to content"),1)],64))}}),df=U(ff,[["__scopeId","data-v-2ca35f13"]]),hf=N({__name:"Layout",setup(s){const{isOpen:r,open:i,close:t}=ft(),e=Qt();Ke(()=>e.path,t),Xs(r,t);const{frontmatter:n}=le(),a=Ps(),o=K(()=>!!a["home-hero-image"]);return Ti("hero-image-slot-exists",o),(l,u)=>{const c=_t("Content");return w(n).layout!==!1?(p(),k("div",{key:0,class:me(["Layout",w(n).pageClass])},[P(l.$slots,"layout-top",{},void 0,!0),V(df),V(Fs,{class:"backdrop",show:w(r),onClick:w(t)},null,8,["show","onClick"]),V(ef,null,{"nav-bar-title-before":L(()=>[P(l.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":L(()=>[P(l.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":L(()=>[P(l.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":L(()=>[P(l.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":L(()=>[P(l.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":L(()=>[P(l.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),V(Kl,{open:w(r),onOpenMenu:w(i)},null,8,["open","onOpenMenu"]),V(cf,{open:w(r)},{"sidebar-nav-before":L(()=>[P(l.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":L(()=>[P(l.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),V(Al,null,{"page-top":L(()=>[P(l.$slots,"page-top",{},void 0,!0)]),"page-bottom":L(()=>[P(l.$slots,"page-bottom",{},void 0,!0)]),"not-found":L(()=>[P(l.$slots,"not-found",{},void 0,!0)]),"home-hero-before":L(()=>[P(l.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":L(()=>[P(l.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":L(()=>[P(l.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":L(()=>[P(l.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":L(()=>[P(l.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":L(()=>[P(l.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":L(()=>[P(l.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":L(()=>[P(l.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":L(()=>[P(l.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":L(()=>[P(l.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":L(()=>[P(l.$slots,"doc-before",{},void 0,!0)]),"doc-after":L(()=>[P(l.$slots,"doc-after",{},void 0,!0)]),"doc-top":L(()=>[P(l.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":L(()=>[P(l.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":L(()=>[P(l.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":L(()=>[P(l.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":L(()=>[P(l.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":L(()=>[P(l.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":L(()=>[P(l.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":L(()=>[P(l.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),V(Nl),P(l.$slots,"layout-bottom",{},void 0,!0)],2)):(p(),j(c,{key:1}))}}}),gf=U(hf,[["__scopeId","data-v-3b6b51f6"]]),vf={class:"profile"},pf={class:"avatar"},mf=["src","alt"],yf={class:"data"},_f={class:"name"},bf={key:0,class:"affiliation"},kf={key:0,class:"title"},Cf={key:1,class:"at"},Tf=["innerHTML"],wf={key:2,class:"links"},Ef={key:0,class:"sp"},Sf=N({__name:"VPTeamMembersItem",props:{size:{default:"medium"},member:{}},setup(s){return(r,i)=>(p(),k("article",{class:me(["VPTeamMembersItem",[r.size]])},[S("div",vf,[S("figure",pf,[S("img",{class:"avatar-img",src:r.member.avatar,alt:r.member.name},null,8,mf)]),S("div",yf,[S("h1",_f,ae(r.member.name),1),r.member.title||r.member.org?(p(),k("p",bf,[r.member.title?(p(),k("span",kf,ae(r.member.title),1)):O("",!0),r.member.title&&r.member.org?(p(),k("span",Cf," @ ")):O("",!0),r.member.org?(p(),j(Ge,{key:2,class:me(["org",{link:r.member.orgLink}]),href:r.member.orgLink,"no-icon":""},{default:L(()=>[Me(ae(r.member.org),1)]),_:1},8,["class","href"])):O("",!0)])):O("",!0),r.member.desc?(p(),k("p",{key:1,class:"desc",innerHTML:r.member.desc},null,8,Tf)):O("",!0),r.member.links?(p(),k("div",wf,[V(Dn,{links:r.member.links},null,8,["links"])])):O("",!0)])]),r.member.sponsor?(p(),k("div",Ef,[V(Ge,{class:"sp-link",href:r.member.sponsor,"no-icon":""},{default:L(()=>[i[0]||(i[0]=S("span",{class:"vpi-heart sp-icon"},null,-1)),Me(" "+ae(r.member.actionText||"Sponsor"),1)]),_:1},8,["href"])])):O("",!0)],2))}}),Pf=U(Sf,[["__scopeId","data-v-5aaaf16c"]]),If={class:"container"},xf=N({__name:"VPTeamMembers",props:{size:{default:"medium"},members:{}},setup(s){const r=s,i=K(()=>[r.size,`count-${r.members.length}`]);return(t,e)=>(p(),k("div",{class:me(["VPTeamMembers",i.value])},[S("div",If,[(p(!0),k(_e,null,Oe(t.members,n=>(p(),k("div",{key:n.name,class:"item"},[V(Pf,{size:t.size,member:n},null,8,["size","member"])]))),128))])],2))}}),Qv=U(xf,[["__scopeId","data-v-1d80c53f"]]),Lf={},Af={class:"VPTeamPage"};function Mf(s,r){return p(),k("div",Af,[P(s.$slots,"default")])}const ep=U(Lf,[["render",Mf],["__scopeId","data-v-94c13ea8"]]),Df={},Of={class:"VPTeamPageSection"},Rf={class:"title"},Nf={key:0,class:"title-text"},Ff={key:0,class:"lead"},Bf={key:1,class:"members"};function Hf(s,r){return p(),k("section",Of,[S("div",Rf,[r[0]||(r[0]=S("div",{class:"title-line"},null,-1)),s.$slots.title?(p(),k("h2",Nf,[P(s.$slots,"title",{},void 0,!0)])):O("",!0)]),s.$slots.lead?(p(),k("p",Ff,[P(s.$slots,"lead",{},void 0,!0)])):O("",!0),s.$slots.members?(p(),k("div",Bf,[P(s.$slots,"members",{},void 0,!0)])):O("",!0)])}const tp=U(Df,[["render",Hf],["__scopeId","data-v-b56b8adc"]]),$f={},Vf={class:"VPTeamPageTitle"},Uf={key:0,class:"title"},zf={key:1,class:"lead"};function jf(s,r){return p(),k("div",Vf,[s.$slots.title?(p(),k("h1",Uf,[P(s.$slots,"title",{},void 0,!0)])):O("",!0),s.$slots.lead?(p(),k("p",zf,[P(s.$slots,"lead",{},void 0,!0)])):O("",!0)])}const np=U($f,[["render",jf],["__scopeId","data-v-90e24936"]]),aa={Layout:gf,enhanceApp:({app:s})=>{s.component("Badge",Os)}},Wf=["id","host","repo","repoid","category","categoryid","mapping","term","strict","reactionsenabled","emitmetadata","inputposition","theme","lang","loading"],Gf=N({__name:"Giscus",props:{id:{},host:{},repo:{},repoId:{},category:{},categoryId:{},mapping:{},term:{},theme:{},strict:{},reactionsEnabled:{},emitMetadata:{},inputPosition:{},lang:{},loading:{}},setup(s){const r=de(!1);return De(()=>{r.value=!0,Yr(()=>import("./giscus-aTimukGI.CKTvSCx2.js"),[])}),(i,t)=>r.value?(p(),k("giscus-widget",{key:0,id:i.id,host:i.host,repo:i.repo,repoid:i.repoId,category:i.category,categoryid:i.categoryId,mapping:i.mapping,term:i.term,strict:i.strict,reactionsenabled:i.reactionsEnabled,emitmetadata:i.emitMetadata,inputposition:i.inputPosition,theme:i.theme,lang:i.lang,loading:i.loading},null,8,Wf)):O("",!0)}}),rr=(s,r,i=!0)=>{var u;const t={id:"comment",host:"https://giscus.app",category:"General",mapping:"pathname",term:"Welcome to giscus!",reactionsEnabled:"1",inputPosition:"top",lang:"zh-CN",loading:"lazy",repo:"xxx/xxx",repoId:"",homePageShowComment:!1};if(s.locales){const f=document.querySelector("html").getAttribute("lang");f&&s.locales[f]&&(s.lang=s.locales[f])}const e=s.lightTheme||"light",n=s.darkTheme||"transparent_dark";let a=document.getElementById("giscus");if(a&&a.parentNode.removeChild(a),(r==null?void 0:r.value.comment)!==void 0){if(!(r!=null&&r.value.comment))return}else if(!i)return;if(!s.homePageShowComment&&(!location.pathname||location.pathname==="/"))return;const o=((u=document.querySelector("html"))==null?void 0:u.className.indexOf("dark"))!==-1,l=document.getElementsByClassName("content-container")[0];if(l){const c=document.createElement("div");c.setAttribute("id","giscus"),c.style.height="auto",c.style.marginTop="40px",c.style.borderTop="1px solid var(--vp-c-divider)",c.style.paddingTop="20px",l.append(c),Is({render:()=>Zr(Gf,{...t,theme:o?n:e,...s})}).mount("#giscus")}},Kf=s=>{const r=document.querySelector("html"),i=s.lightTheme||"light",t=s.darkTheme||"transparent_dark";new MutationObserver(n=>{n.forEach(a=>{if(a.type=="attributes"){let o=document.getElementById("comment");o==null||o.setAttribute("theme",r.className.indexOf("dark")!==-1?t:i)}})}).observe(r,{attributeFilter:["class"]})},Yf=(s,r,i=!0)=>{De(()=>{rr(s,r.frontmatter,i),Kf(s)}),Ke(()=>r.route.path,()=>en(()=>{rr(s,r.frontmatter,i)}))};var xi=Object.defineProperty,qf=Object.getOwnPropertyDescriptor,Xf=Object.getOwnPropertyNames,Zf=Object.prototype.hasOwnProperty,Jf=(s,r)=>{for(var i in r)xi(s,i,{get:r[i],enumerable:!0})},Qf=(s,r,i,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of Xf(r))!Zf.call(s,e)&&e!==i&&xi(s,e,{get:()=>r[e],enumerable:!(t=qf(r,e))||t.enumerable});return s},ed=s=>Qf(xi({},"__esModule",{value:!0}),s),sa={};Jf(sa,{NProgress:()=>td});var jn=ed(sa);function ar(s,r,i){return Math.max(r,Math.min(s,i))}function Wn(s,r){return r==="rtl"?(1-s)*100:(-1+s)*100}function Gt(s,r,i){if(typeof r!="string"){for(const t in r)if(r.hasOwnProperty(t)){const e=r[t];e!==void 0&&(s.style[t]=e)}}}function Kt(s,r){s.classList.add(r)}function sr(s,r){s.classList.remove(r)}function Gn(s){s&&s.parentNode&&s.parentNode.removeChild(s)}var $t,td=($t=class{static configure(s){return Object.assign(this.settings,s),this}static isStarted(){return typeof this.status=="number"}static set(s){if(this.isPaused)return this;const r=this.isStarted();s=ar(s,this.settings.minimum,this.settings.maximum),this.status=s===this.settings.maximum?null:s;const i=this.render(!r),t=this.settings.speed,e=this.settings.easing;return i.forEach(n=>n.offsetWidth),this.queue(n=>{i.forEach(a=>{const o=a.querySelector(this.settings.barSelector);Gt(o,this.barPositionCSS({n:s,speed:t,ease:e}))}),s===this.settings.maximum?(i.forEach(a=>{Gt(a,{transition:"none",opacity:"1"}),a.offsetWidth}),setTimeout(()=>{i.forEach(a=>{Gt(a,{transition:`all ${t}ms ${e}`,opacity:"0"})}),setTimeout(()=>{i.forEach(a=>{this.remove(a),this.settings.template===null&&Gt(a,{transition:"none",opacity:"1"})}),n()},t)},t)):setTimeout(n,t)}),this}static start(){this.status||this.set(0);const s=()=>{this.isPaused||setTimeout(()=>{this.status&&(this.trickle(),s())},this.settings.trickleSpeed)};return this.settings.trickle&&s(),this}static done(s){return!s&&!this.status?this:this.inc(.3+.5*Math.random()).set(1)}static inc(s){if(this.isPaused)return this;let r=this.status;return r?r>1?this:(typeof s!="number"&&(r>=0&&r<.2?s=.1:r>=.2&&r<.5?s=.04:r>=.5&&r<.8?s=.02:r>=.8&&r<.99?s=.005:s=0),r=ar(r+s,0,.994),this.set(r)):this.start()}static trickle(){return this.isPaused?this:this.inc()}static promise(s){if(!s||s.state()==="resolved")return this;let r=0,i=0;return i===0&&this.start(),r++,i++,s.always(()=>{i--,i===0?(r=0,this.done()):this.set((r-i)/r)}),this}static render(s=!1){const r=typeof this.settings.parent=="string"?document.querySelector(this.settings.parent):this.settings.parent;let i=r?Array.from(r.querySelectorAll(".nprogress")):[];if(this.settings.template!==null&&i.length===0){Kt(document.documentElement,"nprogress-busy");const t=document.createElement("div");Kt(t,"nprogress"),t.innerHTML=this.settings.template,r!==document.body&&Kt(r,"nprogress-custom-parent"),r.appendChild(t),i.push(t)}return i.forEach(t=>{this.settings.template===null&&(t.style.display=""),Kt(document.documentElement,"nprogress-busy"),r!==document.body&&Kt(r,"nprogress-custom-parent");const e=t.querySelector(this.settings.barSelector),n=s?Wn(0,this.settings.direction):Wn(this.status||0,this.settings.direction);if(Gt(e,this.barPositionCSS({n:this.status||0,speed:this.settings.speed,ease:this.settings.easing,perc:n})),!this.settings.showSpinner){const a=t.querySelector(this.settings.spinnerSelector);a&&Gn(a)}}),i}static remove(s){s?this.settings.template===null?s.style.display="none":Gn(s):(sr(document.documentElement,"nprogress-busy"),(typeof this.settings.parent=="string"?document.querySelectorAll(this.settings.parent):[this.settings.parent]).forEach(t=>{sr(t,"nprogress-custom-parent")}),document.querySelectorAll(".nprogress").forEach(t=>{const e=t;this.settings.template===null?e.style.display="none":Gn(e)}))}static pause(){return this.isPaused=!0,this}static resume(){return this.isPaused=!1,this}static isRendered(){return document.querySelectorAll(".nprogress").length>0}static getPositioningCSS(){const s=document.body.style,r="WebkitTransform"in s?"Webkit":"MozTransform"in s?"Moz":"msTransform"in s?"ms":"OTransform"in s?"O":"";return`${r}Perspective`in s?"translate3d":`${r}Transform`in s?"translate":"margin"}static queue(s){this.pending.push(s),this.pending.length===1&&this.next()}static next(){const s=this.pending.shift();s&&s(this.next.bind(this))}static initPositionUsing(){this.settings.positionUsing===""&&(this.settings.positionUsing=this.getPositioningCSS())}static barPositionCSS({n:s,speed:r,ease:i,perc:t}){this.initPositionUsing();let e={};const n=t??Wn(s,this.settings.direction);return this.settings.positionUsing==="translate3d"?e={transform:`translate3d(${n}%,0,0)`}:this.settings.positionUsing==="translate"?e={transform:`translate(${n}%,0)`}:this.settings.positionUsing==="width"?e={width:`${this.settings.direction==="rtl"?100-n:n+100}%`,...this.settings.direction==="rtl"?{right:"0",left:"auto"}:{}}:this.settings.positionUsing==="margin"&&(e=this.settings.direction==="rtl"?{"margin-left":`${-n}%`}:{"margin-right":`${-n}%`}),e.transition=`all ${r}ms ${i}`,e}},Wt($t,"settings",{minimum:.08,maximum:1,template:`<div class="bar" role="bar"><div class="peg"></div></div>
               <div class="spinner" role="spinner"><div class="spinner-icon"></div></div>`,easing:"linear",positionUsing:"",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",direction:"ltr"}),Wt($t,"status",null),Wt($t,"pending",[]),Wt($t,"isPaused",!1),$t);/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var wt=Object.assign||function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(s[t]=i[t])}return s},an=function(r){return r.tagName==="IMG"},nd=function(r){return NodeList.prototype.isPrototypeOf(r)},hn=function(r){return r&&r.nodeType===1},or=function(r){var i=r.currentSrc||r.src;return i.substr(-4).toLowerCase()===".svg"},lr=function(r){try{return Array.isArray(r)?r.filter(an):nd(r)?[].slice.call(r).filter(an):hn(r)?[r].filter(an):typeof r=="string"?[].slice.call(document.querySelectorAll(r)).filter(an):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},id=function(r){var i=document.createElement("div");return i.classList.add("medium-zoom-overlay"),i.style.background=r,i},rd=function(r){var i=r.getBoundingClientRect(),t=i.top,e=i.left,n=i.width,a=i.height,o=r.cloneNode(),l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,u=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return o.removeAttribute("id"),o.style.position="absolute",o.style.top=t+l+"px",o.style.left=e+u+"px",o.style.width=n+"px",o.style.height=a+"px",o.style.transform="",o},At=function(r,i){var t=wt({bubbles:!1,cancelable:!1,detail:void 0},i);if(typeof window.CustomEvent=="function")return new CustomEvent(r,t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(r,t.bubbles,t.cancelable,t.detail),e},ad=function s(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=window.Promise||function(z){function $(){}z($,$)},e=function(z){var $=z.target;if($===pe){g();return}b.indexOf($)!==-1&&m({target:$})},n=function(){if(!(B||!A.original)){var z=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(H-z)>F.scrollOffset&&setTimeout(g,150)}},a=function(z){var $=z.key||z.keyCode;($==="Escape"||$==="Esc"||$===27)&&g()},o=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=z;if(z.background&&(pe.style.background=z.background),z.container&&z.container instanceof Object&&($.container=wt({},F.container,z.container)),z.template){var ce=hn(z.template)?z.template:document.querySelector(z.template);$.template=ce}return F=wt({},F,$),b.forEach(function(Ce){Ce.dispatchEvent(At("medium-zoom:update",{detail:{zoom:R}}))}),R},l=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return s(wt({},F,z))},u=function(){for(var z=arguments.length,$=Array(z),ce=0;ce<z;ce++)$[ce]=arguments[ce];var Ce=$.reduce(function(oe,Se){return[].concat(oe,lr(Se))},[]);return Ce.filter(function(oe){return b.indexOf(oe)===-1}).forEach(function(oe){b.push(oe),oe.classList.add("medium-zoom-image")}),M.forEach(function(oe){var Se=oe.type,xe=oe.listener,Be=oe.options;Ce.forEach(function(T){T.addEventListener(Se,xe,Be)})}),R},c=function(){for(var z=arguments.length,$=Array(z),ce=0;ce<z;ce++)$[ce]=arguments[ce];A.zoomed&&g();var Ce=$.length>0?$.reduce(function(oe,Se){return[].concat(oe,lr(Se))},[]):b;return Ce.forEach(function(oe){oe.classList.remove("medium-zoom-image"),oe.dispatchEvent(At("medium-zoom:detach",{detail:{zoom:R}}))}),b=b.filter(function(oe){return Ce.indexOf(oe)===-1}),R},f=function(z,$){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b.forEach(function(Ce){Ce.addEventListener("medium-zoom:"+z,$,ce)}),M.push({type:"medium-zoom:"+z,listener:$,options:ce}),R},h=function(z,$){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b.forEach(function(Ce){Ce.removeEventListener("medium-zoom:"+z,$,ce)}),M=M.filter(function(Ce){return!(Ce.type==="medium-zoom:"+z&&Ce.listener.toString()===$.toString())}),R},v=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=z.target,ce=function(){var oe={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},Se=void 0,xe=void 0;if(F.container)if(F.container instanceof Object)oe=wt({},oe,F.container),Se=oe.width-oe.left-oe.right-F.margin*2,xe=oe.height-oe.top-oe.bottom-F.margin*2;else{var Be=hn(F.container)?F.container:document.querySelector(F.container),T=Be.getBoundingClientRect(),_=T.width,W=T.height,X=T.left,te=T.top;oe=wt({},oe,{width:_,height:W,left:X,top:te})}Se=Se||oe.width-F.margin*2,xe=xe||oe.height-F.margin*2;var J=A.zoomedHd||A.original,se=or(J)?Se:J.naturalWidth||Se,Z=or(J)?xe:J.naturalHeight||xe,re=J.getBoundingClientRect(),Te=re.top,Pe=re.left,ke=re.width,we=re.height,Le=Math.min(Math.max(ke,se),Se)/ke,he=Math.min(Math.max(we,Z),xe)/we,Ae=Math.min(Le,he),$e=(-Pe+(Se-ke)/2+F.margin+oe.left)/Ae,Ve=(-Te+(xe-we)/2+F.margin+oe.top)/Ae,We="scale("+Ae+") translate3d("+$e+"px, "+Ve+"px, 0)";A.zoomed.style.transform=We,A.zoomedHd&&(A.zoomedHd.style.transform=We)};return new t(function(Ce){if($&&b.indexOf($)===-1){Ce(R);return}var oe=function _(){B=!1,A.zoomed.removeEventListener("transitionend",_),A.original.dispatchEvent(At("medium-zoom:opened",{detail:{zoom:R}})),Ce(R)};if(A.zoomed){Ce(R);return}if($)A.original=$;else if(b.length>0){var Se=b;A.original=Se[0]}else{Ce(R);return}if(A.original.dispatchEvent(At("medium-zoom:open",{detail:{zoom:R}})),H=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,B=!0,A.zoomed=rd(A.original),document.body.appendChild(pe),F.template){var xe=hn(F.template)?F.template:document.querySelector(F.template);A.template=document.createElement("div"),A.template.appendChild(xe.content.cloneNode(!0)),document.body.appendChild(A.template)}if(A.original.parentElement&&A.original.parentElement.tagName==="PICTURE"&&A.original.currentSrc&&(A.zoomed.src=A.original.currentSrc),document.body.appendChild(A.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),A.original.classList.add("medium-zoom-image--hidden"),A.zoomed.classList.add("medium-zoom-image--opened"),A.zoomed.addEventListener("click",g),A.zoomed.addEventListener("transitionend",oe),A.original.getAttribute("data-zoom-src")){A.zoomedHd=A.zoomed.cloneNode(),A.zoomedHd.removeAttribute("srcset"),A.zoomedHd.removeAttribute("sizes"),A.zoomedHd.removeAttribute("loading"),A.zoomedHd.src=A.zoomed.getAttribute("data-zoom-src"),A.zoomedHd.onerror=function(){clearInterval(Be),console.warn("Unable to reach the zoom image target "+A.zoomedHd.src),A.zoomedHd=null,ce()};var Be=setInterval(function(){A.zoomedHd.complete&&(clearInterval(Be),A.zoomedHd.classList.add("medium-zoom-image--opened"),A.zoomedHd.addEventListener("click",g),document.body.appendChild(A.zoomedHd),ce())},10)}else if(A.original.hasAttribute("srcset")){A.zoomedHd=A.zoomed.cloneNode(),A.zoomedHd.removeAttribute("sizes"),A.zoomedHd.removeAttribute("loading");var T=A.zoomedHd.addEventListener("load",function(){A.zoomedHd.removeEventListener("load",T),A.zoomedHd.classList.add("medium-zoom-image--opened"),A.zoomedHd.addEventListener("click",g),document.body.appendChild(A.zoomedHd),ce()})}else ce()})},g=function(){return new t(function(z){if(B||!A.original){z(R);return}var $=function ce(){A.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(A.zoomed),A.zoomedHd&&document.body.removeChild(A.zoomedHd),document.body.removeChild(pe),A.zoomed.classList.remove("medium-zoom-image--opened"),A.template&&document.body.removeChild(A.template),B=!1,A.zoomed.removeEventListener("transitionend",ce),A.original.dispatchEvent(At("medium-zoom:closed",{detail:{zoom:R}})),A.original=null,A.zoomed=null,A.zoomedHd=null,A.template=null,z(R)};B=!0,document.body.classList.remove("medium-zoom--opened"),A.zoomed.style.transform="",A.zoomedHd&&(A.zoomedHd.style.transform=""),A.template&&(A.template.style.transition="opacity 150ms",A.template.style.opacity=0),A.original.dispatchEvent(At("medium-zoom:close",{detail:{zoom:R}})),A.zoomed.addEventListener("transitionend",$)})},m=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=z.target;return A.original?g():v({target:$})},y=function(){return F},x=function(){return b},C=function(){return A.original},b=[],M=[],B=!1,H=0,F=i,A={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(r)==="[object Object]"?F=r:(r||typeof r=="string")&&u(r),F=wt({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},F);var pe=id(F.background);document.addEventListener("click",e),document.addEventListener("keyup",a),document.addEventListener("scroll",n),window.addEventListener("resize",g);var R={open:v,close:g,toggle:m,update:o,clone:l,attach:u,detach:c,on:f,off:h,getOptions:y,getImages:x,getZoomedImage:C};return R};function sd(s,r){r===void 0&&(r={});var i=r.insertAt;if(!(typeof document>"u")){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",i==="top"&&t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}}var od=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";sd(od);const ld=/[\u0000-\u001f]/g,ud=/[\s~`!@#$%^&*()\-_+=[\]{}|\\;:"'“”‘’<>,.?/]+/g,cd=/[\u0300-\u036F]/g,oa=s=>s.normalize("NFKD").replace(cd,"").replace(ld,"").replace(ud,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/^(\d)/,"_$1").toLowerCase(),fd=["href"],dd={class:"box-header"},hd=["innerHTML"],gd={key:1,class:"icon"},vd=["src","alt"],pd=["id"],md={key:1,class:"desc"},yd=N({__name:"MNavLink",props:{noIcon:{type:Boolean},icon:{},badge:{},title:{},desc:{},link:{}},setup(s){const r=s,i=K(()=>r.title?oa(r.title):""),t=K(()=>typeof r.icon=="object"?r.icon.svg:""),e=K(()=>typeof r.badge=="string"?{text:r.badge,type:"info"}:r.badge);return(n,a)=>{const o=_t("Badge");return n.link?(p(),k("a",{key:0,class:"m-nav-link",href:n.link,target:"_blank",rel:"noreferrer"},[S("article",{class:me(["box",{"has-badge":e.value}])},[S("div",dd,[n.noIcon?O("",!0):(p(),k(_e,{key:0},[t.value?(p(),k("div",{key:0,class:"icon",innerHTML:t.value},null,8,hd)):n.icon&&typeof n.icon=="string"?(p(),k("div",gd,[S("img",{src:w(Pn)(n.icon),alt:n.title,onerror:"this.parentElement.style.display='none'"},null,8,vd)])):O("",!0)],64)),n.title?(p(),k("h5",{key:1,id:i.value,class:me(["title",{"no-icon":n.noIcon}])},ae(n.title),11,pd)):O("",!0)]),e.value?(p(),j(o,{key:0,class:"badge",type:e.value.type,text:e.value.text},null,8,["type","text"])):O("",!0),n.desc?(p(),k("p",md,ae(n.desc),1)):O("",!0)],2)],8,fd)):O("",!0)}}}),_d=U(yd,[["__scopeId","data-v-f76187a4"]]),bd=["id"],kd=["href"],Cd={class:"m-nav-links"},Td=N({__name:"MNavLinks",props:{title:{},noIcon:{type:Boolean},items:{}},setup(s){const r=s,i=K(()=>oa(r.title));return(t,e)=>(p(),k(_e,null,[t.title?(p(),k("h2",{key:0,id:i.value,tabindex:"-1"},[Me(ae(t.title)+" ",1),S("a",{class:"header-anchor",href:`#${i.value}`,"aria-hidden":"true"},null,8,kd)],8,bd)):O("",!0),S("div",Cd,[(p(!0),k(_e,null,Oe(t.items,n=>(p(),j(_d,ot({noIcon:t.noIcon,ref_for:!0},n),null,16,["noIcon"]))),256))])],64))}}),wd=U(Td,[["__scopeId","data-v-1d92e716"]]),Ed={id:"hero-text"},Sd={style:{display:"inline-block",position:"relative"}},Pd={style:{color:"var(--vp-c-brand)",position:"absolute","z-index":"-1",top:"1em",left:"0.2em",width:"calc(100% - 0.7em)",height:"auto"},width:"240",height:"11",viewBox:"0 0 240 11",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},Id=N({__name:"HomeUnderline",setup(s){const{frontmatter:r}=St();return De(()=>{const i=document.querySelector(".VPHero .text"),t=document.querySelector("#hero-text");if(!(!i||!t)){for(;i.lastChild;)i.lastChild.remove();i.append(t)}}),(i,t)=>(p(),k("div",Ed,[S("span",Sd,[Me(ae(w(r).hero.text)+" ",1),(p(),k("svg",Pd,t[0]||(t[0]=[S("path",{d:"M20.766 10.187c.939-.024.386-.885.552-1.401 1.105-.301.553.626.962 1.061.685-.263 1.171-1.1 1.696-1.085.044.144.15.191.044.378.697-.736 2.21-.134 2.995-1.052a.55.55 0 0 1 .127.215 3.35 3.35 0 0 1-.204-1.204c.42-.034.751-.593.94 0-.255 0-.266.23-.377.416l.426-.273c.448.813-.586.316-.553.927.84-.306 1.802-1.037 2.476-.831.182.803-1.525.339-.608 1.023l-1.033-.268c.85 1.248-.625-.057.171 1.276 1.348.177 1.47-.478 2.818-.3.276-.479-.132-.66.144-1.124 1.857-.885 1.602 1.984 2.94.846.337-.555.42-1.582 1.442-1.08l-.276.889c1.298.038.668-1.348 2.06-.784-.226.368-1.005.344-.8.444.917.689.59-.545 1.27-.569l.16.827c1.371-.181 2.863-.827 4.388-1.037-.072.249-.326.512.044.746 1.912-.478 4.123-.058 6.007.368l.68-.727c.05.015.095.04.132.074a.275.275 0 0 1 .077.118c.014.044.015.091.004.136a.27.27 0 0 1-.07.122c.74.243 0-.445.354-.732.414-.062.552.383.315.603 1.248-.636 3.586-1.401 4.973-.694l-.254.22c1.06.249 1.105-1.477 2.127-.855l-.182.129c2.293.23 4.785-.478 6.564.52.293-1.017 2.272.393 2.365-1.022 1.327.664.967.927 2.813 1.348.492.052.702-.899 1.299-1.061l.044.731.79-.794.47.87.552-.205a.66.66 0 0 1-.332-.2.517.517 0 0 1-.132-.33c.873-.354 2.177.477 2.21.831l2.078-.679c-.039.301-.387.411-.657.607 1.105-.779.226.77 1.232.053-.144-.163.06-.44.077-.588.553.435 1.691.416 2.547.205l-.149.512c1.558.1 3.271-.31 5.018-.335-.636-.224-.514-1.109 0-1.204l.226.774c.32-.478-.552-.282.122-.884.652.076.464.875.094 1.138l.784-.287c.056.23-.127.358-.165.655.309-.478 1.387.75 1.834-.096l.05.23c1.746-.03 2.53-.316 3.95-.383 0-.674.553-.535.984-1.085 1.05.196 2.21.707 3.482.63.878-.343.243-.568.635-.955.077.612 1.332.535.69.985a15.353 15.353 0 0 0 3.83-.68c-.21-.243-.447-.353-.331-.563a.738.738 0 0 1 .275.01c.09.02.173.058.245.11a.58.58 0 0 1 .169.188c.04.072.061.151.062.232l-.088.067c2.127-.956 4.973 1.706 6.669.41l-.099.068 1.763-.684c.817.1-.481.478.127.842 1.9-1.043 3.022.12 4.586-.574 1.243 1.793 4.327-.167 5.979.956l-.1-.42c.426-.421.52.234.835.33-.05-.33-.464-.378-.205-.613 3.598-.545 7.438.598 11.129.956 1.348.11.757-2.203 2.465-1.195l-.481.794c2.719-.956 5.564 0 8.233-.77-.154.182-.16.416-.425.416.552.574 2.083.034 2.094-.435.42.053.1.425.354.665.552.339 1.42-.732 1.718-.158.05.09-.16.186-.265.23.37-.278 1.719.076 1.365-.589 1 .32 1.917-.287 2.713.105.553-.736 1.713.364 1.884-.683-.077 1.08 1.752.875 2.387.377-.215.326.553.345.299.794.718 0 1.381-.206 1.265-.76 1.315 1.305 2.686-1.018 3.415.645a45.888 45.888 0 0 1 6.078-1.17c-.082 1.075-2.138.09-2.066 1.218 1.834-.425 2.906-1.343 4.719-1.066.47.153-.276.478-.437.65 1.835-.43 3.537.148 5.172-.42 0 .1-.182.21-.348.291.321-.033.741.167.713-.325l-.315.13c-.497-.718 1.304-1.468 1.365-1.841-.553 1.396 1.602.377.707 2.137a.73.73 0 0 0 .337-.263.58.58 0 0 0 .1-.383c.315.1.409.297.083.665 1.155-.254.757-.78 1.801-.75 0 .233-.221.324-.337.601.553-.478 1.078-.908 1.951-.697-.056.143.044.33-.216.325 1.509-.048 2.603-1.195 4.249-.722-.513 1.023.553.349.625 1.243l.895-.254-.348-.44c.785.034 1.492-.602 2.155-.296l-.591.354 1.47-.139-.824-.354c.807-.444-.055-1.132.978-.86-.21.086.785.029 1.177.56.398-.278.801-.57 1.376-.335.138.291-.149.984-.055 1.176.398-.736 1.834-.168 2.337-.956-.143.227-.192.49-.138.745l.337-.597c.359.2.409.296.337.669 1.105.134-.309-1.138.967-.626-.105.048-.055.138-.27.23 1.287.277 2.519-.335 3.702 0 .326.903-1.05.195-.669.955 1.724-.129 3.592-.999 5.25-.74l-.31-.106c.277-1.262 1.221.66 2.083.086-.21.086-.298.693-.237.555 1.105.234 2.343-.249 4.083-.603l-.226.32c.657.311 1.763.216 2.481.383.226-.315.641-.253.403-.731 2.166 1.912 4.305-.89 6.228.726-.238 0-.553.268-.387.273l1.702-.244c-.111-.554-.21-.34-.553-.784.124-.163.292-.298.489-.392.198-.094.419-.145.644-.148-.774.34-.028.884.287 1.205-.049-.173.072-.354.05-.526.846 1.008.199-1.11 1.376-.407l-.077.287c.458-.134.889-.478 1.37-.401.177.645-.492.282-.552.803.685 0 1.403-1.162 1.994-.507-.298.167-.718.158-1.016.325.641.77.729.583 1.221.717h-.044l1.138.378-.282-.21c.928-1.635 1.752-.25 2.951-1.3-1.166.994-.21.592-.332 1.309.288.21.724.454.586.65.553-.564.89.478 1.696-.34 0 .235.581.044.431.627.713-.163-.149-.411-.077-.703 1.133-.76 2.514 1.061 4.139.029 1.376-.397 1.658-1.171 2.94-1.515.403.392-.393.836-.393.836.267.161.581.255.906.27a1.97 1.97 0 0 0 .934-.184c-.138.196 0 .373.172.64.519-.038.386-.831 1.05-.477a3.24 3.24 0 0 1-.553.918c.619-.192 1.243-.603 1.884-.79.149.412-.409.603-.646.856.718-.153 1.851-.296 2.105-.927l-.442-.248c.26 0 .105.559-.094.669-.63.478-.862-.258-.884-.478l.459-.134c-.387-1.382-1.818.148-2.719.033l.431-.956-.973.784c-.182-.263-.287-.822.166-.956-.624-.516-.591.33-1.105-.239-.055-.086-.028-.134.033-.172l-.646.273c.132-.201-.072-.703.309-.545-1.105-.617-1.873.674-2.26-.096l.099-.057c-1.596.272-.193.721-1.414 1.534l-.713-1.83-.188.721c-.16-.033-.481-.1-.409-.387-.63.478.089.32-.287.78-.752-.699-2.172.229-2.293-.957-.31.545.729.478-.127.813-.183-1.258-.978.181-1.658-.416.254-.636.917-.273.226-.875-.486 1.076-1.386-.282-2-.096-.066.87-1.332.32-2.354.579.078-.292-1.89-.54-2.818-.885l.033-.148c-.221.87-1.182.674-1.901.832a.906.906 0 0 1 .132-.55c.102-.169.258-.31.449-.406h-.669a.979.979 0 0 1-.34.327 1.167 1.167 0 0 1-.478.151l.194-.65c-.885 0-1.813.712-2.94.244-.083.607.84 1.725-.381 2.103-.034-.335-.056-.899.27-1.028-.105.043-.381.263-.585.12l.502-.545c-.508-.258-.287.478-.701.397 0-.478-.293-.35-.221-.722.11-.038.359.205.525 0a1.931 1.931 0 0 1-.691-.264 1.649 1.649 0 0 1-.503-.487c.028.268-.028.636-.37.684-.89 0-.282-.574-.79-.832-.227.325-.78-.033-.824.674-.259 0-.293-.34-.387-.535-.469.3-2.149.033-1.657.793l.116.053s-.05 0-.078.033c-1.525.66-3.105-.478-4.608-.224V3.34c-.895.244-1.984.106-2.636.593a.711.711 0 0 1-.402-.28.553.553 0 0 1-.084-.442c-.691.158-.774.416-1.746 0 .701-.396-.221-.373.713-.287-.879-.224-1.067-.607-2.039 0 .342-.597-.641-.774-1.067-.602l.608.445c-.436.053-.88.039-1.31-.043l.254-.794c-1.784-1.004-3.315 1.578-4.647-.067-.497.545.973.411.553 1.052-.829-.124-1.658-1.286-1.929-1.29-1.132-.479-1.105 1.137-2.282.812a.818.818 0 0 1 .031.774.938.938 0 0 1-.264.323 1.11 1.11 0 0 1-.397.198c-.829-.124-.994-1.214-.464-1.434.205 0 .299.072.288.168.27-.096.629-.21.303-.526l-.116.282c-.403-.297-1.552-.292-1.271-.75-.635.257-.281.477.183.616-1.061-.435-1.658-.053-2.763-.344.171.162.326.478.155.478-1.608-.378-.724.526-1.824.636-.608-.445.249-1.033-.862-.684-.668-.306-.127-.755.149-.985-1.016.536-1.867-.387-2.442-.478l.553-.22a1.892 1.892 0 0 1-.846.12l.293.573c-.309-.105-.553-.11-.553-.348-.326.368.227.956-.42 1.434-.403-.297-1.265.286-1.392-.478 1.298.272-.127-.76.978-.866a1.102 1.102 0 0 1-.851.024c-.044-.086.044-.157.133-.2-1.233-.689-.592.846-1.879.807.171-.42-.287-.808-.497-.721.519 0 .237.712-.249 1.027-.823-.34-.906.235-1.337.187l.491.162c-.176.426-.585.364-1.165.478-.045-.33.524-.22.326-.368-.652.736-1.437-.793-2.338-.306-.409-.291-.027-.798-.387-.999-1.011.54-1.077-.588-2.133-.148.293.574.349.435-.403.985l1.735-.387-1.105.822c.525 0 1.105-.35 1.42-.249-.553.478-.481.316-.238.794-.701-.86-1.425.478-2.21-.1l.044-1.41c-1.232-.641-2.21.702-3.823.334l.513.248c-.221.56-.994.072-1.519.292.055-.478-.271-.645-.492-.956.028.349-1.177-.043-1.337.899l-.707-.627c-1.305-.267-1.503 1.33-2.763 1.157.381-.507-.183-.846.657-1.21-.414 0-.79-.095-.801.23-.276-.263-1.199.646-1.575.215-.182.206-.243.698-.713.655a.337.337 0 0 1 0-.234c0 .234-.735.31-.331.837-1.271-1.478-3.592.095-4.708-1.172-.936.165-1.883.277-2.835.335.05-.139 0-.234.16-.186-1.143-.44-.707 1.352-2.005.86-.664-.765.69-.411.276-.703-.171-1.553-1.564.21-2.437-.702l.21-.091c-.663-.555-1.608.564-2.713.454a.326.326 0 0 0 0-.234c-.746.784-2.155 1.051-3.205 1.271.326-.607.475-.32.276-.956-.47.091.138.99-.801 1.167-.304-.33-.984-.622-1.078-1.282l.89-.019c-.459-.85-1.149.034-1.613-.114l.055-.368c-1.36.124-1.376 1.06-2.835.999l.155.282c-.796.956-.674-.521-1.465.172l-.248-.956c-.871.453-1.797.82-2.763 1.094.552-.698 1.658-1.06 2.315-1.477-.519 0-1.774.072-2.044.54.21-.09.475-.325.685-.181a2.832 2.832 0 0 1-1.094.83 3.298 3.298 0 0 1-1.42.27c.171-1.832-2.713-.455-3.482-1.865-1.834.693-3.652-.258-5.796-.13.774 1.435-.625.049-.481 1.507-.497.1-.685.076-.729 0l-1.525-.86c-.365-.421.469-.326.42-.65-1.106-.106-.465-.618-1.194-1 .155.521-.37.75-1 .56l.901.659c-1.52.793-1.338-1.214-2.868-.43l.48-.478c-.79.277-2.917 0-3.674 1.204-.144-.167-.332-.564 0-.674-1.89-.148-4.183 1.31-5.664.612l.138-.358c-.348.105-.602.678-1.05.325 0-.148.138-.359 0-.378-.182.124-.923.64-1.392.44l.386-.411c-1.85-.44-2.807 1.023-4.343 1.29 0-1.051-1.475-1.376-2.21-1.53V.685c-2.15-.086-3.625.956-5.598 1.4-1.265-1.118-4.188-.392-6.194-.99.31.182 0 .818-.37.957-.475-.206-1.266.755-1.221-.21h.165c-.375-.957-1.326-.67-2.072-.675l-.083 1.267c-2.006-1.778-5.106.813-6.227-.803-.459.33-1.045.34-1.498.67v-.68a12.396 12.396 0 0 0-3.575 0l.31-.478c-.912 0-1.072 1.98-1.912 2.042l-.288-1c-1.591.053-3.232-.774-4.763.192 0-.148.055-.445.31-.478-.746 0-2.918-.588-2.587.788-.06-.903-1.657-.038-2.48.388l.104-.689c-.685.875-.701 1.11-1.696 1.377-.243-.076-.238-.526.088-.368-.812-.32-.59.655-1.574.33l.342-.435c-.823-.029-.746.2-1.177.707-.503.287-1.564-.114-1.713-.712-.094.368-.52.875-1.011.717a.38.38 0 0 1 .013-.245.442.442 0 0 1 .164-.2c-1.393-.406-2 .851-2.973.235a.553.553 0 0 0-.182-.392 9.431 9.431 0 0 1 1.89.028c0-.616-.912-.688-.255-1.563-.685.478-1.845 1.54-2.713 1.286a.84.84 0 0 1-.1-.215l.061-.072a.668.668 0 0 0-.295 0 .61.61 0 0 0-.257.125 1.992 1.992 0 0 0-.718-.158c-.128-.507-1.023-.234-1.465-.244.072.67-.508.583.06 1.119-.07-.048.078-.086.366-.125a.528.528 0 0 0 .188-.076l-.028.062c.287-.033.663-.062 1.105-.09-.332.358-.68.654-1.183.3-.204.445-.43.894-.552 1.11-.647-.914-1.83-1.377-2.022-1.946-1.321.43-3.145.368-3.918 1.663-.376.177-.459-.344-.614-.535.216-.139.476-.13.586-.316-.74.354-2.249.216-2.381 1.105-.984-.364.491-.837-.818-.636l.166-.277c-2.675-1.291-4.09 2.433-7.068.755.204.105.304.148.354.296-3.316-.645-6.709 1.038-10.018-.062-.94-.205-1 .359-1.531.818l-.249-.713-.906.88c-1.315.679-2.47-1.65-4.117-.411l.254.478c-.624-.058-1.939.387-1.873-.177-.055.09-.166.516-.425.272l-.044-.372-1.487.712c-1.199-.215.078-1.506-1.658-1.492C.895 5.105-.22 6.114.04 6.362c.178.01.347.073.478.179a.645.645 0 0 1 .24.4l-.558.225C.17 8.279-.194 9.44 1.304 10.144l.917-.732.36.521-.818.1c.513.479.784 0 1.105-.305.07.225.233.42.458.55l.907-1.114c.149.43-.376.884.292 1.094.426-.516-.502-.956.233-1.314.513.478.403.898.933.44a.447.447 0 0 1 .012.336.525.525 0 0 1-.233.27c.476-.367 1.304-.214 1.525-.817.553.598 1.658-.248 1.691.808.29-.433.74-.77 1.277-.956-.752 1.3 1.724 0 1.591 1.348.553-1.162 2.21-.617 3.255-1.3-.055.095-.16.282-.265.23.624.061.823.391 1.237.592 0-.956.967-1.195 1.448-1.797.812.87-.392 1.118-.1 1.974-.082-.755 1.272-.813.973-1.434.614.53.514.248.862 1.008.028-1.17.553-.22.962-.956.873.54.282 1.086 1.182.689.453.354-.342.808-.342.808Zm21.793-2.93-.447.057.447-.058Zm1.818-.091a7.552 7.552 0 0 0-.801 0c-.072-.23 0-.478.171-.478-.083.186.348.305.63.478Zm-4.128-4.49c.288-.109.393 0 .442.159-.172.02-.343.053-.508.1v.081a.973.973 0 0 1 .066-.34Z"},null,-1)])))])]))}});var Li={};(function s(r,i,t,e){var n=!!(r.Worker&&r.Blob&&r.Promise&&r.OffscreenCanvas&&r.OffscreenCanvasRenderingContext2D&&r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype.transferControlToOffscreen&&r.URL&&r.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!r.OffscreenCanvas)return!1;var T=new OffscreenCanvas(1,1),_=T.getContext("2d");_.fillRect(0,0,1,1);var W=T.transferToImageBitmap();try{_.createPattern(W,"no-repeat")}catch{return!1}return!0}();function l(){}function u(T){var _=i.exports.Promise,W=_!==void 0?_:r.Promise;return typeof W=="function"?new W(T):(T(l,l),null)}var c=function(T,_){return{transform:function(W){if(T)return W;if(_.has(W))return _.get(W);var X=new OffscreenCanvas(W.width,W.height),te=X.getContext("2d");return te.drawImage(W,0,0),_.set(W,X),X},clear:function(){_.clear()}}}(o,new Map),f=function(){var T=Math.floor(16.666666666666668),_,W,X={},te=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(J){var se=Math.random();return X[se]=requestAnimationFrame(function Z(re){te===re||te+T-1<re?(te=re,delete X[se],J()):X[se]=requestAnimationFrame(Z)}),se},W=function(J){X[J]&&cancelAnimationFrame(X[J])}):(_=function(J){return setTimeout(J,T)},W=function(J){return clearTimeout(J)}),{frame:_,cancel:W}}(),h=function(){var T,_,W={};function X(te){function J(se,Z){te.postMessage({options:se||{},callback:Z})}te.init=function(Z){var re=Z.transferControlToOffscreen();te.postMessage({canvas:re},[re])},te.fire=function(Z,re,Te){if(_)return J(Z,null),_;var Pe=Math.random().toString(36).slice(2);return _=u(function(ke){function we(Le){Le.data.callback===Pe&&(delete W[Pe],te.removeEventListener("message",we),_=null,c.clear(),Te(),ke())}te.addEventListener("message",we),J(Z,Pe),W[Pe]=we.bind(null,{data:{callback:Pe}})}),_},te.reset=function(){te.postMessage({reset:!0});for(var Z in W)W[Z](),delete W[Z]}}return function(){if(T)return T;if(!t&&n){var te=["var CONFETTI, SIZE = {}, module = {};","("+s.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([te])))}catch(J){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",J),null}X(T)}return T}}(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(T,_){return _?_(T):T}function m(T){return T!=null}function y(T,_,W){return g(T&&m(T[_])?T[_]:v[_],W)}function x(T){return T<0?0:Math.floor(T)}function C(T,_){return Math.floor(Math.random()*(_-T))+T}function b(T){return parseInt(T,16)}function M(T){return T.map(B)}function B(T){var _=String(T).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:b(_.substring(0,2)),g:b(_.substring(2,4)),b:b(_.substring(4,6))}}function H(T){var _=y(T,"origin",Object);return _.x=y(_,"x",Number),_.y=y(_,"y",Number),_}function F(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function A(T){var _=T.getBoundingClientRect();T.width=_.width,T.height=_.height}function pe(T){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=T,_}function R(T,_,W,X,te,J,se,Z,re){T.save(),T.translate(_,W),T.rotate(J),T.scale(X,te),T.arc(0,0,1,se,Z,re),T.restore()}function ue(T){var _=T.angle*(Math.PI/180),W=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-_+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function z(T,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var W=_.tick++/_.totalTicks,X=_.x+_.random*_.tiltCos,te=_.y+_.random*_.tiltSin,J=_.wobbleX+_.random*_.tiltCos,se=_.wobbleY+_.random*_.tiltSin;if(T.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-W)+")",T.beginPath(),a&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))T.fill(Se(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(J-X)*.1,Math.abs(se-te)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var Z=Math.PI/10*_.wobble,re=Math.abs(J-X)*.1,Te=Math.abs(se-te)*.1,Pe=_.shape.bitmap.width*_.scalar,ke=_.shape.bitmap.height*_.scalar,we=new DOMMatrix([Math.cos(Z)*re,Math.sin(Z)*re,-Math.sin(Z)*Te,Math.cos(Z)*Te,_.x,_.y]);we.multiplySelf(new DOMMatrix(_.shape.matrix));var Le=T.createPattern(c.transform(_.shape.bitmap),"no-repeat");Le.setTransform(we),T.globalAlpha=1-W,T.fillStyle=Le,T.fillRect(_.x-Pe/2,_.y-ke/2,Pe,ke),T.globalAlpha=1}else if(_.shape==="circle")T.ellipse?T.ellipse(_.x,_.y,Math.abs(J-X)*_.ovalScalar,Math.abs(se-te)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):R(T,_.x,_.y,Math.abs(J-X)*_.ovalScalar,Math.abs(se-te)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var he=Math.PI/2*3,Ae=4*_.scalar,$e=8*_.scalar,Ve=_.x,We=_.y,kt=5,Ze=Math.PI/kt;kt--;)Ve=_.x+Math.cos(he)*$e,We=_.y+Math.sin(he)*$e,T.lineTo(Ve,We),he+=Ze,Ve=_.x+Math.cos(he)*Ae,We=_.y+Math.sin(he)*Ae,T.lineTo(Ve,We),he+=Ze;else T.moveTo(Math.floor(_.x),Math.floor(_.y)),T.lineTo(Math.floor(_.wobbleX),Math.floor(te)),T.lineTo(Math.floor(J),Math.floor(se)),T.lineTo(Math.floor(X),Math.floor(_.wobbleY));return T.closePath(),T.fill(),_.tick<_.totalTicks}function $(T,_,W,X,te){var J=_.slice(),se=T.getContext("2d"),Z,re,Te=u(function(Pe){function ke(){Z=re=null,se.clearRect(0,0,X.width,X.height),c.clear(),te(),Pe()}function we(){t&&!(X.width===e.width&&X.height===e.height)&&(X.width=T.width=e.width,X.height=T.height=e.height),!X.width&&!X.height&&(W(T),X.width=T.width,X.height=T.height),se.clearRect(0,0,X.width,X.height),J=J.filter(function(Le){return z(se,Le)}),J.length?Z=f.frame(we):ke()}Z=f.frame(we),re=ke});return{addFettis:function(Pe){return J=J.concat(Pe),Te},canvas:T,promise:Te,reset:function(){Z&&f.cancel(Z),re&&re()}}}function ce(T,_){var W=!T,X=!!y(_||{},"resize"),te=!1,J=y(_,"disableForReducedMotion",Boolean),se=n&&!!y(_||{},"useWorker"),Z=se?h():null,re=W?F:A,Te=T&&Z?!!T.__confetti_initialized:!1,Pe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ke;function we(he,Ae,$e){for(var Ve=y(he,"particleCount",x),We=y(he,"angle",Number),kt=y(he,"spread",Number),Ze=y(he,"startVelocity",Number),os=y(he,"decay",Number),ls=y(he,"gravity",Number),us=y(he,"drift",Number),Qi=y(he,"colors",M),cs=y(he,"ticks",Number),er=y(he,"shapes"),fs=y(he,"scalar"),ds=!!y(he,"flat"),tr=H(he),nr=Ve,Un=[],hs=T.width*tr.x,gs=T.height*tr.y;nr--;)Un.push(ue({x:hs,y:gs,angle:We,spread:kt,startVelocity:Ze,color:Qi[nr%Qi.length],shape:er[C(0,er.length)],ticks:cs,decay:os,gravity:ls,drift:us,scalar:fs,flat:ds}));return ke?ke.addFettis(Un):(ke=$(T,Un,re,Ae,$e),ke.promise)}function Le(he){var Ae=J||y(he,"disableForReducedMotion",Boolean),$e=y(he,"zIndex",Number);if(Ae&&Pe)return u(function(Ze){Ze()});W&&ke?T=ke.canvas:W&&!T&&(T=pe($e),document.body.appendChild(T)),X&&!Te&&re(T);var Ve={width:T.width,height:T.height};Z&&!Te&&Z.init(T),Te=!0,Z&&(T.__confetti_initialized=!0);function We(){if(Z){var Ze={getBoundingClientRect:function(){if(!W)return T.getBoundingClientRect()}};re(Ze),Z.postMessage({resize:{width:Ze.width,height:Ze.height}});return}Ve.width=Ve.height=null}function kt(){ke=null,X&&(te=!1,r.removeEventListener("resize",We)),W&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,Te=!1)}return X&&!te&&(te=!0,r.addEventListener("resize",We,!1)),Z?Z.fire(he,Ve,kt):we(he,Ve,kt)}return Le.reset=function(){Z&&Z.reset(),ke&&ke.reset()},Le}var Ce;function oe(){return Ce||(Ce=ce(null,{useWorker:!0,resize:!0})),Ce}function Se(T,_,W,X,te,J,se){var Z=new Path2D(T),re=new Path2D;re.addPath(Z,new DOMMatrix(_));var Te=new Path2D;return Te.addPath(re,new DOMMatrix([Math.cos(se)*te,Math.sin(se)*te,-Math.sin(se)*J,Math.cos(se)*J,W,X])),Te}function xe(T){if(!a)throw new Error("path confetti are not supported in this browser");var _,W;typeof T=="string"?_=T:(_=T.path,W=T.matrix);var X=new Path2D(_),te=document.createElement("canvas"),J=te.getContext("2d");if(!W){for(var se=1e3,Z=se,re=se,Te=0,Pe=0,ke,we,Le=0;Le<se;Le+=2)for(var he=0;he<se;he+=2)J.isPointInPath(X,Le,he,"nonzero")&&(Z=Math.min(Z,Le),re=Math.min(re,he),Te=Math.max(Te,Le),Pe=Math.max(Pe,he));ke=Te-Z,we=Pe-re;var Ae=10,$e=Math.min(Ae/ke,Ae/we);W=[$e,0,0,$e,-Math.round(ke/2+Z)*$e,-Math.round(we/2+re)*$e]}return{type:"path",path:_,matrix:W}}function Be(T){var _,W=1,X="#000000",te='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?_=T:(_=T.text,W="scalar"in T?T.scalar:W,te="fontFamily"in T?T.fontFamily:te,X="color"in T?T.color:X);var J=10*W,se=""+J+"px "+te,Z=new OffscreenCanvas(J,J),re=Z.getContext("2d");re.font=se;var Te=re.measureText(_),Pe=Math.ceil(Te.actualBoundingBoxRight+Te.actualBoundingBoxLeft),ke=Math.ceil(Te.actualBoundingBoxAscent+Te.actualBoundingBoxDescent),we=2,Le=Te.actualBoundingBoxLeft+we,he=Te.actualBoundingBoxAscent+we;Pe+=we+we,ke+=we+we,Z=new OffscreenCanvas(Pe,ke),re=Z.getContext("2d"),re.font=se,re.fillStyle=X,re.fillText(_,Le,he);var Ae=1/W;return{type:"bitmap",bitmap:Z.transferToImageBitmap(),matrix:[Ae,0,0,Ae,-Pe*Ae/2,-ke*Ae/2]}}i.exports=function(){return oe().apply(this,arguments)},i.exports.reset=function(){oe().reset()},i.exports.create=ce,i.exports.shapeFromPath=xe,i.exports.shapeFromText=Be})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Li,!1);const xd=Li.exports;Li.exports.create;const Ld=N({__name:"confetti",setup(s){if(zt){let e=function(n,a){return Math.random()*(a-n)+n};var r=15e3,i=Date.now()+r,t=1;(function n(){var a=i-Date.now(),o=Math.max(200,500*(a/r));t=Math.max(.8,t-.001),xd({particleCount:1,startVelocity:0,ticks:o,origin:{x:Math.random(),y:Math.random()*t-.2},colors:["#ffffff"],shapes:["circle"],gravity:e(.4,.6),scalar:e(.4,1),drift:e(-.4,.4)}),a>0&&requestAnimationFrame(n)})()}return()=>{}}}),Ad={class:"LastUpdated"},Md=N({__name:"update",setup(s){const{page:r}=St(),i=K(()=>new Date(r.value.lastUpdated));return(t,e)=>(p(),k("div",Ad,[S("p",null,"更新时间: "+ae(i.value.toLocaleString()),1)]))}});function ur(s,r){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(s);r&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})),i.push.apply(i,t)}return i}function Ie(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?ur(Object(i),!0).forEach(function(t){I(s,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ur(Object(i)).forEach(function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(i,t))})}return s}function Fe(s){"@babel/helpers - typeof";return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fe(s)}function Y(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}function cr(s,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,la(t.key),t)}}function q(s,r,i){return r&&cr(s.prototype,r),i&&cr(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}function I(s,r,i){return r=la(r),r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function Q(s,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),r&&gi(s,r)}function ne(s){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ne(s)}function gi(s,r){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gi(s,r)}function Dd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Ai(s,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(s)}function ee(s){var r=Dd();return function(){var t=ne(s),e;if(r){var n=ne(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ai(this,e)}}function Od(s,r){for(;!Object.prototype.hasOwnProperty.call(s,r)&&(s=ne(s),s!==null););return s}function ie(){return typeof Reflect<"u"&&Reflect.get?ie=Reflect.get.bind():ie=function(r,i,t){var e=Od(r,i);if(e){var n=Object.getOwnPropertyDescriptor(e,i);return n.get?n.get.call(arguments.length<3?r:t):n.value}},ie.apply(this,arguments)}function qe(s){return Rd(s)||Nd(s)||Fd(s)||Bd()}function Rd(s){if(Array.isArray(s))return vi(s)}function Nd(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function Fd(s,r){if(s){if(typeof s=="string")return vi(s,r);var i=Object.prototype.toString.call(s).slice(8,-1);if(i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set")return Array.from(s);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vi(s,r)}}function vi(s,r){(r==null||r>s.length)&&(r=s.length);for(var i=0,t=new Array(r);i<r;i++)t[i]=s[i];return t}function Bd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hd(s,r){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var t=i.call(s,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function la(s){var r=Hd(s,"string");return typeof r=="symbol"?r:String(r)}var ua={exports:{}};(function(s){var r=Object.prototype.hasOwnProperty,i="~";function t(){}Object.create&&(t.prototype=Object.create(null),new t().__proto__||(i=!1));function e(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function n(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var v=new e(c,f||l,h),g=i?i+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],v]:l._events[g].push(v):(l._events[g]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new t:delete l._events[u]}function o(){this._events=new t,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)r.call(c,f)&&u.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=i?i+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,v=f.length,g=new Array(v);h<v;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var c=i?i+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,h,v,g){var m=i?i+u:u;if(!this._events[m])return!1;var y=this._events[m],x=arguments.length,C,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,h),!0;case 5:return y.fn.call(y.context,c,f,h,v),!0;case 6:return y.fn.call(y.context,c,f,h,v,g),!0}for(b=1,C=new Array(x-1);b<x;b++)C[b-1]=arguments[b];y.fn.apply(y.context,C)}else{var M=y.length,B;for(b=0;b<M;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,f);break;case 4:y[b].fn.call(y[b].context,c,f,h);break;default:if(!C)for(B=1,C=new Array(x-1);B<x;B++)C[B-1]=arguments[B];y[b].fn.apply(y[b].context,C)}}return!0},o.prototype.on=function(u,c,f){return n(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return n(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,h){var v=i?i+u:u;if(!this._events[v])return this;if(!c)return a(this,v),this;var g=this._events[v];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&a(this,v);else{for(var m=0,y=[],x=g.length;m<x;m++)(g[m].fn!==c||h&&!g[m].once||f&&g[m].context!==f)&&y.push(g[m]);y.length?this._events[v]=y.length===1?y[0]:y:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=i?i+u:u,this._events[c]&&a(this,c)):(this._events=new t,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,s.exports=o})(ua);var ca=ua.exports;const fa=An(ca);var $d=typeof window<"u"&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,Kn={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},Yn="%c[xgplayer]",ve={config:{debug:$d?3:0},logInfo:function(r){for(var i,t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];this.config.debug>=3&&(i=console).log.apply(i,[Yn,Kn.info,r].concat(e))},logWarn:function(r){for(var i,t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];this.config.debug>=1&&(i=console).warn.apply(i,[Yn,Kn.warn,r].concat(e))},logError:function(r){var i;if(!(this.config.debug<1)){for(var t=this.config.debug>=2?"trace":"error",e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];(i=console)[t].apply(i,[Yn,Kn.error,r].concat(n))}}};function Vd(s){s.logInfo=ve.logInfo.bind(s),s.logWarn=ve.logWarn.bind(s),s.logError=ve.logError.bind(s)}var Ud=function(){function s(r){Y(this,s),this.bufferedList=r}return q(s,[{key:"start",value:function(i){return this.bufferedList[i].start}},{key:"end",value:function(i){return this.bufferedList[i].end}},{key:"length",get:function(){return this.bufferedList.length}}]),s}(),d={};d.createDom=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",e=document.createElement(s);return e.className=t,e.innerHTML=r,Object.keys(i).forEach(function(n){var a=n,o=i[n];s==="video"||s==="audio"||s==="live-video"?o&&e.setAttribute(a,o):e.setAttribute(a,o)}),e};d.createDomFromHtml=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";try{var t=document.createElement("div");t.innerHTML=s;var e=t.children;return t=null,e.length>0?(e=e[0],i&&d.addClass(e,i),r&&Object.keys(r).forEach(function(n){e.setAttribute(n,r[n])}),e):null}catch(n){return ve.logError("util.createDomFromHtml",n),null}};d.hasClass=function(s,r){if(!s||!r)return!1;try{return Array.prototype.some.call(s.classList,function(t){return t===r})}catch{var i=s.className&&Fe(s.className)==="object"?s.getAttribute("class"):s.className;return i&&!!i.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}};d.addClass=function(s,r){if(!(!s||!r))try{r.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(i){i&&s.classList.add(i)})}catch{d.hasClass(s,r)||(s.className&&Fe(s.className)==="object"?s.setAttribute("class",s.getAttribute("class")+" "+r):s.className+=" "+r)}};d.removeClass=function(s,r){if(!(!s||!r))try{r.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(i){i&&s.classList.remove(i)})}catch{d.hasClass(s,r)&&r.split(/\s+/g).forEach(function(t){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");s.className&&Fe(s.className)==="object"?s.setAttribute("class",s.getAttribute("class").replace(e," ")):s.className=s.className.replace(e," ")})}};d.toggleClass=function(s,r){s&&r.split(/\s+/g).forEach(function(i){d.hasClass(s,i)?d.removeClass(s,i):d.addClass(s,i)})};d.classNames=function(){for(var s=arguments,r=[],i=function(n){d.typeOf(s[n])==="String"?r.push(s[n]):d.typeOf(s[n])==="Object"&&Object.keys(s[n]).map(function(a){s[n][a]&&r.push(a)})},t=0;t<arguments.length;t++)i(t);return r.join(" ")};d.findDom=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,r=arguments.length>1?arguments[1]:void 0,i;try{i=s.querySelector(r)}catch(t){ve.logError("util.findDom",t),r.indexOf("#")===0&&(i=s.getElementById(r.slice(1)))}return i};d.getCss=function(s,r){return s.currentStyle?s.currentStyle[r]:document.defaultView.getComputedStyle(s,!1)[r]};d.padStart=function(s,r,i){for(var t=String(i),e=r>>0,n=Math.ceil(e/t.length),a=[],o=String(s);n--;)a.push(t);return a.join("").substring(0,e-o.length)+o};d.format=function(s){if(window.isNaN(s))return"";s=Math.round(s);var r=d.padStart(Math.floor(s/3600),2,0),i=d.padStart(Math.floor((s-r*3600)/60),2,0),t=d.padStart(Math.floor(s-r*3600-i*60),2,0);return(r==="00"?[i,t]:[r,i,t]).join(":")};d.event=function(s){if(s.touches){var r=s.touches[0]||s.changedTouches[0];s.clientX=r.clientX||0,s.clientY=r.clientY||0,s.offsetX=r.pageX-r.target.offsetLeft,s.offsetY=r.pageY-r.target.offsetTop}s._target=s.target||s.srcElement};d.typeOf=function(s){return Object.prototype.toString.call(s).match(/([^\s.*]+)(?=]$)/g)[0]};d.deepCopy=function(s,r){if(d.typeOf(r)==="Object"&&d.typeOf(s)==="Object")return Object.keys(r).forEach(function(i){d.typeOf(r[i])==="Object"&&!(r[i]instanceof Node)?s[i]===void 0||s[i]===void 0?s[i]=r[i]:d.deepCopy(s[i],r[i]):d.typeOf(r[i])==="Array"?s[i]=d.typeOf(s[i])==="Array"?s[i].concat(r[i]):r[i]:s[i]=r[i]}),s};d.deepMerge=function(s,r){return Object.keys(r).map(function(i){if(d.typeOf(r[i])==="Array"&&d.typeOf(s[i])==="Array"){if(d.typeOf(s[i])==="Array"){var t;(t=s[i]).push.apply(t,qe(r[i]))}}else d.typeOf(s[i])===d.typeOf(r[i])&&s[i]!==null&&d.typeOf(s[i])==="Object"&&!(r[i]instanceof window.Node)?d.deepMerge(s[i],r[i]):r[i]!==null&&(s[i]=r[i])}),s};d.getBgImage=function(s){var r=(s.currentStyle||window.getComputedStyle(s,null)).backgroundImage;if(!r||r==="none")return"";var i=document.createElement("a");return i.href=r.replace(/url\("|"\)/g,""),i.href};d.copyDom=function(s){if(s&&s.nodeType===1){var r=document.createElement(s.tagName);return Array.prototype.forEach.call(s.attributes,function(i){r.setAttribute(i.name,i.value)}),s.innerHTML&&(r.innerHTML=s.innerHTML),r}else return""};d.setInterval=function(s,r,i,t){s._interval[r]||(s._interval[r]=window.setInterval(i.bind(s),t))};d.clearInterval=function(s,r){clearInterval(s._interval[r]),s._interval[r]=null};d.setTimeout=function(s,r,i){s._timers||(s._timers=[]);var t=setTimeout(function(){r(),d.clearTimeout(s,t)},i);return s._timers.push(t),t};d.clearTimeout=function(s,r){var i=s._timers;if(d.typeOf(i)==="Array"){for(var t=0;t<i.length;t++)if(i[t]===r){i.splice(t,1),clearTimeout(r);break}}else clearTimeout(r)};d.clearAllTimers=function(s){var r=s._timers;d.typeOf(r)==="Array"&&(r.map(function(i){clearTimeout(i)}),s._timerIds=[])};d.createImgBtn=function(s,r,i,t){var e=d.createDom("xg-".concat(s),"",{},"xgplayer-".concat(s,"-img"));if(e.style.backgroundImage='url("'.concat(r,'")'),i&&t){var n,a,o;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(l){return i.indexOf(l)>-1&&t.indexOf(l)>-1?(n=parseFloat(i.slice(0,i.indexOf(l)).trim()),a=parseFloat(t.slice(0,t.indexOf(l)).trim()),o=l,!1):!0}),e.style.width="".concat(n).concat(o),e.style.height="".concat(a).concat(o),e.style.backgroundSize="".concat(n).concat(o," ").concat(a).concat(o),s==="start"?e.style.margin="-".concat(a/2).concat(o," auto auto -").concat(n/2).concat(o):e.style.margin="auto 5px auto 5px"}return e};d.Hex2RGBA=function(s,r){var i=[];if(/^\#[0-9A-F]{3}$/i.test(s)){var t="#";s.replace(/[0-9A-F]/ig,function(e){t+=e+e}),s=t}return/^#[0-9A-F]{6}$/i.test(s)?(s.replace(/[0-9A-F]{2}/ig,function(e){i.push(parseInt(e,16))}),"rgba(".concat(i.join(","),", ").concat(r,")")):"rgba(255, 255, 255, 0.1)"};d.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};d.checkIsFunction=function(s){return s&&typeof s=="function"};d.checkIsObject=function(s){return s!==null&&Fe(s)==="object"};d.hide=function(s){s.style.display="none"};d.show=function(s,r){s.style.display=r||"block"};d.isUndefined=function(s){if(typeof s>"u"||s===null)return!0};d.isNotNull=function(s){return s!=null};d.setStyleFromCsstext=function(s,r){if(r)if(d.typeOf(r)==="String"){var i=r.replace(/\s+/g,"").split(";");i.map(function(t){if(t){var e=t.split(":");e.length>1&&(s.style[e[0]]=e[1])}})}else Object.keys(r).map(function(t){s.style[t]=r[t]})};function zd(s,r){for(var i=0,t=r.length;i<t;i++)if(s.indexOf(r[i])>-1)return!0;return!1}d.filterStyleFromText=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],i=s.style.cssText;if(!i)return{};var t=i.replace(/\s+/g,"").split(";"),e={},n={};return t.map(function(a){if(a){var o=a.split(":");o.length>1&&(zd(o[0],r)?e[o[0]]=o[1]:n[o[0]]=o[1])}}),s.setAttribute("style",""),Object.keys(n).map(function(a){s.style[a]=n[a]}),e};d.getStyleFromCsstext=function(s){var r=s.style.cssText;if(!r)return{};var i=r.replace(/\s+/g,"").split(";"),t={};return i.map(function(e){if(e){var n=e.split(":");n.length>1&&(t[n[0]]=n[1])}}),t};d.preloadImg=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(s){var t=new window.Image;t.onload=function(e){t=null,r&&r(e)},t.onerror=function(e){t=null,i&&i(e)},t.src=s}};d.stopPropagation=function(s){s&&s.stopPropagation()};d.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};d.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};d.checkTouchSupport=function(){return"ontouchstart"in window};d.getBuffered2=function(s){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,i=[],t=0;t<s.length;t++)i.push({start:s.start(t)<.5?0:s.start(t),end:s.end(t)});i.sort(function(l,u){var c=l.start-u.start;return c||u.end-l.end});var e=[];if(r)for(var n=0;n<i.length;n++){var a=e.length;if(a){var o=e[a-1].end;i[n].start-o<r?i[n].end>o&&(e[a-1].end=i[n].end):e.push(i[n])}else e.push(i[n])}else e=i;return new Ud(e)};d.getEventPos=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return s.touches&&s.touches.length>0&&(s=s.touches[0]),{x:s.x/r,y:s.y/r,clientX:s.clientX/r,clientY:s.clientY/r,offsetX:s.offsetX/r,offsetY:s.offsetY/r,pageX:s.pageX/r,pageY:s.pageY/r}};d.requestAnimationFrame=function(s){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(r)return r(s)};d.getHostFromUrl=function(s){if(d.typeOf(s)!=="String")return"";var r=s.split("/"),i="";return r.length>3&&r[2]&&(i=r[2]),i};d.cancelAnimationFrame=function(s){var r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;r&&r(s)};d.isMSE=function(s){return s.media&&(s=s.media),!s||!(s instanceof HTMLMediaElement)?!1:/^blob/.test(s.currentSrc)||/^blob/.test(s.src)};d.isBlob=function(s){return typeof s=="string"&&/^blob/.test(s)};d.generateSessionId=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=new Date().getTime();try{s=parseInt(s)}catch{s=0}r+=s,window.performance&&typeof window.performance.now=="function"&&(r+=parseInt(window.performance.now()));var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(t==="x"?e:e&3|8).toString(16)});return i};d.createEvent=function(s){var r;return typeof window.Event=="function"?r=new Event(s):(r=document.createEvent("Event"),r.initEvent(s,!0,!0)),r};d.adjustTimeByDuration=function(s,r,i){return!r||!s?s:s>r||i&&s<r?r:s};d.createPositionBar=function(s,r){var i=d.createDom("xg-bar","",{"data-index":-1},s);return r.appendChild(i),i};d.getTransformStyle=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{x:0,y:0,scale:1,rotate:0},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i={scale:"".concat(s.scale||1),translate:"".concat(s.x||0,"%, ").concat(s.y||0,"%"),rotate:"".concat(s.rotate||0,"deg")},t=Object.keys(i);return t.forEach(function(e){var n=new RegExp("".concat(e,"\\([^\\(]+\\)"),"g"),a="".concat(e,"(").concat(i[e],")");n.test(r)?(n.lastIndex=-1,r=r.replace(n,a)):r+="".concat(a," ")}),r};d.convertDeg=function(s){return Math.abs(s)<=1?s*360:s%360};d.getIndexByTime=function(s,r){var i=r.length,t=-1;if(i<1)return t;if(s<=r[0].end||i<2)t=0;else if(s>r[i-1].end)t=i-1;else for(var e=1;e<i;e++)if(s>r[e-1].end&&s<=r[e].end){t=e;break}return t};d.getOffsetCurrentTime=function(s,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,t=-1;if(i>=0&&i<r.length?t=i:t=d.getIndexByTime(s,r),t<0)return-1;var e=r.length,n=r[t],a=n.start,o=n.end,l=n.cTime,u=n.offset;return s<a?l:s>=a&&s<=o?s-u:s>o&&t>=e-1?o:-1};d.getCurrentTimeByOffset=function(s,r){var i=-1;if(!r||r.length<0)return s;for(var t=0;t<r.length;t++)if(s<=r[t].duration){i=t;break}if(i!==-1){var e=r[i].start;return i-1<0?e+s:e+(s-r[i-1].duration)}return s};function da(s){var r=Fe(s);return s!==null&&(r==="object"||r==="function")}function jd(s,r,i){var t,e,n,a,o,l,u=0,c=!1,f=!1,h=!0,v=!r&&r!==0&&typeof window.requestAnimationFrame=="function";if(typeof s!="function")throw new TypeError("Expected a function");r=+r||0,da(i)&&(c=!!i.leading,f="maxWait"in i,n=f?Math.max(+i.maxWait||0,r):n,h="trailing"in i?!!i.trailing:h);function g(R){var ue=t,z=e;return t=e=void 0,u=R,a=s.apply(z,ue),a}function m(R,ue){return v?(window.cancelAnimationFrame(o),window.requestAnimationFrame(R)):setTimeout(R,ue)}function y(R){if(v)return window.cancelAnimationFrame(R);clearTimeout(R)}function x(R){return u=R,o=m(M,r),c?g(R):a}function C(R){var ue=R-l,z=R-u,$=r-ue;return f?Math.min($,n-z):$}function b(R){var ue=R-l,z=R-u;return l===void 0||ue>=r||ue<0||f&&z>=n}function M(){var R=Date.now();if(b(R))return B(R);o=m(M,C(R))}function B(R){return o=void 0,h&&t?g(R):(t=e=void 0,a)}function H(){o!==void 0&&y(o),u=0,t=l=e=o=void 0}function F(){return o===void 0?a:B(Date.now())}function A(){return o!==void 0}function pe(){for(var R=Date.now(),ue=b(R),z=arguments.length,$=new Array(z),ce=0;ce<z;ce++)$[ce]=arguments[ce];if(t=$,e=this,l=R,ue){if(o===void 0)return x(l);if(f)return o=m(M,r),g(l)}return o===void 0&&(o=m(M,r)),a}return pe.cancel=H,pe.flush=F,pe.pending=A,pe}function Wd(s,r,i){var t=!0,e=!0;if(typeof s!="function")throw new TypeError("Expected a function");return da(i)&&(t="leading"in i?!!i.leading:t,e="trailing"in i?!!i.trailing:e),jd(s,r,{leading:t,trailing:e,maxWait:r})}function Gd(){var s=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return s==="zh-cn"&&(s="zh"),s}function Kd(s,r,i){if(s){var t=s.getAttribute(i);return!!(t&&t===r&&(s.tagName==="VIDEO"||s.tagName==="AUDIO"))}}var fr={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},Yd=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],fe={get device(){var s=fe.os;return s.isPc?"pc":"mobile"},get browser(){if(typeof navigator>"u")return"";var s=navigator.userAgent.toLowerCase(),r={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(r).filter(function(i){return r[i].test(s)}))[0]},get os(){if(typeof navigator>"u")return{};var s=navigator.userAgent,r=/(?:Windows Phone)/.test(s),i=/(?:SymbianOS)/.test(s)||r,t=/(?:Android)/.test(s),e=/(?:Firefox)/.test(s),n=/(?:iPad|PlayBook)/.test(s)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,a=n||t&&!/(?:Mobile)/.test(s)||e&&/(?:Tablet)/.test(s),o=/(?:iPhone)/.test(s)&&!a,l=!o&&!t&&!i&&!a;return{isTablet:a,isPhone:o,isIpad:n,isIos:o||n,isAndroid:t,isPc:l,isSymbian:i,isWindowsPhone:r,isFireFox:e}},get osVersion(){if(typeof navigator>"u")return 0;var s=navigator.userAgent,r="";/(?:iPhone)|(?:iPad|PlayBook)/.test(s)?r=fr.ios:r=fr.android;var i=r?r.exec(s):[];if(i&&i.length>=3){var t=i[2].split(".");return t.length>0?parseInt(t[0]):0}return 0},get isWeixin(){if(typeof navigator>"u")return!1;var s=/(micromessenger)\/([\d.]+)/,r=s.exec(navigator.userAgent.toLocaleLowerCase());return!!r},isSupportMP4:function(){var r={isSupport:!1,mime:""};if(typeof document>"u")return r;if(this.supportResult)return this.supportResult;var i=document.createElement("video");return typeof i.canPlayType=="function"&&Yd.map(function(t){i.canPlayType('video/mp4; codecs="'.concat(t,'"'))==="probably"&&(r.isSupport=!0,r.mime+="||".concat(t))}),this.supportResult=r,i=null,r},isMSESupport:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(typeof MediaSource>"u"||!MediaSource)return!1;try{return MediaSource.isTypeSupported(r)}catch(i){return this._logger.error(r,i),!1}},isHevcSupported:function(){return typeof MediaSource>"u"||!MediaSource.isTypeSupported?!1:MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"')},probeConfigSupported:function(r){var i={supported:!1,smooth:!1,powerEfficient:!1};if(!r||typeof navigator>"u")return Promise.resolve(i);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(r);var t=r.video||{},e=r.audio||{};try{var n=MediaSource.isTypeSupported(t.contentType),a=MediaSource.isTypeSupported(e.contentType);return Promise.resolve({supported:n&&a,smooth:!1,powerEfficient:!1})}catch{return Promise.resolve(i)}}},pi="3.0.21",dr={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},hr={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},vn=q(function s(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};Y(this,s);var t=r&&r.i18n?r.i18n.ERROR_TYPES:null;if(r.media){var e=i.mediaError?i.mediaError:r.media.error||{},n=r.duration,a=r.currentTime,o=r.ended,l=r.src,u=r.currentSrc,c=r.media,f=c.readyState,h=c.networkState,v=i.errorCode||e.code;hr[v]&&(v=hr[v]);var g={playerVersion:pi,currentTime:a,duration:n,ended:o,readyState:f,networkState:h,src:l||u,errorType:i.errorType,errorCode:v,message:i.errorMessage||e.message,mediaError:e,originError:i.originError?i.originError.stack:"",host:d.getHostFromUrl(l||u)};return i.ext&&Object.keys(i.ext).map(function(C){g[C]=i.ext[C]}),g}else if(arguments.length>1){for(var m={playerVersion:pi,domain:document.domain},y=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],x=0;x<arguments.length;x++)m[y[x]]=arguments[x];return m.ex=t?(t[arguments[0]]||{}).msg:"",m}}),je="play",Mi="playing",It="ended",jt="pause",nn="error",On="seeking",lt="seeked",ze="timeupdate",rn="waiting",st="canplay",qd="canplaythrough",dt="durationchange",ha="volumechange",ct="loadeddata",Xd="loadedmetadata",ga="ratechange",va="progress",Di="loadstart",xt="emptied",Zd="stalled",Jd="suspend",Qd="abort",eh="bufferedChange",Oi="focus",pa="blur",Ri="ready",ma="urlNull",Et="autoplay_started",Ni="autoplay_was_prevented",Rn="complete",pn="replay",Fi="destroy",Nn="urlchange",mi="download_speed_change",ya="leaveplayer",_a="enterplayer",ba="loading",at="fullscreen_change",mn="cssFullscreen_change",yn="mini_state_change",Bi="definition_change",th="before_definition_change",yi="after_definition_change",nh="SEI_PARSED",ih="retry",mt="video_resize",_i="pip_change",ka="rotate",Ca="screenShot",_n="playnext",Ta="shortcut",wa="xglog",bn="user_action",Fn="reset",Ea="source_error",Sa="source_success",rh="switch_subtitle",Pa=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],Ia={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},xa="fps_stuck";const ah=Object.freeze(Object.defineProperty({__proto__:null,ABORT:Qd,AFTER_DEFINITION_CHANGE:yi,AUTOPLAY_PREVENTED:Ni,AUTOPLAY_STARTED:Et,BEFORE_DEFINITION_CHANGE:th,BUFFER_CHANGE:eh,CANPLAY:st,CANPLAY_THROUGH:qd,COMPLETE:Rn,CSS_FULLSCREEN_CHANGE:mn,DEFINITION_CHANGE:Bi,DESTROY:Fi,DOWNLOAD_SPEED_CHANGE:mi,DURATION_CHANGE:dt,EMPTIED:xt,ENDED:It,ENTER_PLAYER:_a,ERROR:nn,FPS_STUCK:xa,FULLSCREEN_CHANGE:at,LEAVE_PLAYER:ya,LOADED_DATA:ct,LOADED_METADATA:Xd,LOADING:ba,LOAD_START:Di,MINI_STATE_CHANGE:yn,PAUSE:jt,PIP_CHANGE:_i,PLAY:je,PLAYER_BLUR:pa,PLAYER_FOCUS:Oi,PLAYING:Mi,PLAYNEXT:_n,PROGRESS:va,RATE_CHANGE:ga,READY:Ri,REPLAY:pn,RESET:Fn,RETRY:ih,ROTATE:ka,SCREEN_SHOT:Ca,SEEKED:lt,SEEKING:On,SEI_PARSED:nh,SHORTCUT:Ta,SOURCE_ERROR:Ea,SOURCE_SUCCESS:Sa,STALLED:Zd,STATS_EVENTS:Ia,SUSPEND:Jd,SWITCH_SUBTITLE:rh,TIME_UPDATE:ze,URL_CHANGE:Nn,URL_NULL:ma,USER_ACTION:bn,VIDEO_EVENTS:Pa,VIDEO_RESIZE:mt,VOLUME_CHANGE:ha,WAITING:rn,XGLOG:wa},Symbol.toStringTag,{value:"Module"}));function qn(s,r){!this||!this.emit||(s==="error"?this.errorHandler(s,r.error):this.emit(s,r))}function sh(s,r){return function(i,t){var e={player:r,eventName:s,originalEvent:i,detail:i.detail||{},timeStamp:i.timeStamp,currentTime:r.currentTime,duration:r.duration,paused:r.paused,ended:r.ended,isInternalOp:!!r._internalOp[i.type],muted:r.muted,volume:r.volume,host:d.getHostFromUrl(r.currentSrc),vtype:r.vtype};if(r.removeInnerOP(i.type),s==="timeupdate"&&(r._currentTime=r.media&&r.media.currentTime),s==="ratechange"){var n=r.media?r.media.playbackRate:0;if(n&&r._rate===n)return;r._rate=r.media&&r.media.playbackRate}if(s==="durationchange"&&(r._duration=r.media.duration),s==="volumechange"&&(e.isMutedChange=r._lastMuted!==r.muted,r._lastMuted=r.muted),s==="error"&&(e.error=t||r.video.error),r.mediaEventMiddleware[s]){var a=qn.bind(r,s,e);try{r.mediaEventMiddleware[s].call(r,e,a)}catch(o){throw qn.call(r,s,e),o}}else qn.call(r,s,e)}}var oh=function(s){Q(i,s);var r=ee(i);function i(t){var e;Y(this,i),e=r.call(this,t),e._hasStart=!1,e._currentTime=0,e._duration=0,e._internalOp={},e._lastMuted=!1,e.vtype="MP4",e._rate=-1,e.mediaConfig=Object.assign({},{controls:!1,autoplay:t.autoplay,playsinline:t.playsinline,"x5-playsinline":t.playsinline,"webkit-playsinline":t.playsinline,"x5-video-player-fullscreen":t["x5-video-player-fullscreen"]||t.x5VideoPlayerFullscreen,"x5-video-orientation":t["x5-video-orientation"]||t.x5VideoOrientation,airplay:t.airplay,"webkit-airplay":t.airplay,tabindex:t.tabindex|0,mediaType:t.mediaType||"video","data-index":-1},t.videoConfig,t.videoAttributes);var n=t["x5-video-player-type"]||t.x5VideoPlayerType;return fe.isWeixin&&fe.os.isAndroid&&n&&(e.mediaConfig["x5-video-player-type"]=n,delete e.mediaConfig.playsinline,delete e.mediaConfig["webkit-playsinline"],delete e.mediaConfig["x5-playsinline"]),t.loop&&(e.mediaConfig.loop="loop"),t.autoplayMuted&&!Object.prototype.hasOwnProperty.call(e.mediaConfig,"muted")&&(e.mediaConfig.muted=!0),e.media=t.mediaEl instanceof HTMLMediaElement?t.mediaEl:typeof t.mediaEl=="function"?t.mediaEl(e.mediaConfig):d.createDom(e.mediaConfig.mediaType,"",e.mediaConfig,""),t.defaultPlaybackRate&&(e.media.defaultPlaybackRate=e.media.playbackRate=t.defaultPlaybackRate),d.typeOf(t.volume)==="Number"&&(e.volume=t.volume),t.autoplayMuted&&(e.media.muted=!0,e._lastMuted=!0),t.autoplay&&(e.media.autoplay=!0),t.playsinline&&(e.media.playsinline=!0),e._interval={},e.mediaEventMiddleware={},e.attachVideoEvents(),e}return q(i,[{key:"setEventsMiddleware",value:function(e){var n=this;Object.keys(e).map(function(a){n.mediaEventMiddleware[a]=e[a]})}},{key:"removeEventsMiddleware",value:function(e){var n=this;Object.keys(e).map(function(a){delete n.mediaEventMiddleware[a]})}},{key:"attachVideoEvents",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers||(this._evHandlers=Pa.map(function(a){var o="on".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));return typeof e[o]=="function"&&e.on(a,e[o]),I({},a,sh(a,e))})),this._evHandlers.forEach(function(a){var o=Object.keys(a)[0];n.addEventListener(o,a[o],!1)})}},{key:"detachVideoEvents",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers.forEach(function(a){var o=Object.keys(a)[0];n.removeEventListener(o,a[o],!1)}),this._evHandlers.forEach(function(a){var o=Object.keys(a)[0],l="on".concat(o.charAt(0).toUpperCase()).concat(o.slice(1));typeof e[l]=="function"&&e.off(o,e[l])}),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(e,n){var a=this;e.removeAttribute("src"),e.load(),n.forEach(function(f,h){a.media.appendChild(d.createDom("source","",{src:"".concat(f.src),type:"".concat(f.type||""),"data-index":h+1}))});var o=e.children;if(o){this._videoSourceCount=o.length,this._videoSourceIndex=o.length,this._vLoadeddata=function(f){a.emit(Sa,{src:f.target.currentSrc,host:d.getHostFromUrl(f.target.currentSrc)})};for(var l=null,u=0;u<this._evHandlers.length;u++)if(Object.keys(this._evHandlers[u])[0]==="error"){l=this._evHandlers[u];break}!this._sourceError&&(this._sourceError=function(f){var h=parseInt(f.target.getAttribute("data-index"),10);if(a._videoSourceIndex--,a._videoSourceIndex===0||h>=a._videoSourceCount){var v={code:4,message:"sources_load_error"};l?l.error(f,v):a.errorHandler("error",v)}var g=dr[4];a.emit(Ea,new vn(a,{errorType:g,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:f.target.src}))});for(var c=0;c<o.length;c++)o[c].addEventListener("error",this._sourceError);e.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(e){var n=e.children;if(!(!n||n.length===0||!this._sourceError)){for(var a=0;a<n.length;a++)n[a].removeEventListener("error",this._sourceError);for(;n.length>0;)e.removeChild(n[0]);this._vLoadeddata&&e.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.media&&(this.media.error||n)){var a=this.media.error||n,o=a.code?dr[a.code]:"other",l=a.message;this.media.currentSrc||this.media.srcObject||(l="empty_src",a={code:6,message:l}),this.emit(e,new vn(this,{errorType:o,errorCode:a.code,errorMessage:a.message||"",mediaError:a}))}}},{key:"destroy",value:function(){this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null;for(var e in this._interval)Object.prototype.hasOwnProperty.call(this._interval,e)&&(clearInterval(this._interval[e]),this._interval[e]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(e){this.media=e}},{key:"play",value:function(){var e=this.media?this.media.play():null;return e}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(e){return this.media?this.media.canPlayType(e):!1}},{key:"getBufferedRange",value:function(e){var n=[0,0];if(!this.media)return n;e||(e=this.media.buffered);var a=this.media.currentTime;if(e)for(var o=0,l=e.length;o<l&&(n[0]=e.start(o),n[1]=e.end(o),!(n[0]<=a&&a<=n[1]));o++);return n[0]-a<=0&&a-n[1]<=0?n:[0,0]}},{key:"autoplay",get:function(){return this.media?this.media.autoplay:!1},set:function(e){this.media&&(this.media.autoplay=e)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?d.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.media)return e;var n=this.media.buffered;if(!n||n.length===0)return e;for(var a=0;a<n.length;a++)if((n.start(a)<=this.currentTime||n.start(a)<.1)&&n.end(a)>=this.currentTime)return{start:n.start(a),end:n.end(a)};return e}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(e){this.media&&(this.media.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(e){this.media&&(this.media.currentSrc=e)}},{key:"currentTime",get:function(){return this.media?this.media.currentTime!==void 0?this.media.currentTime:this._currentTime:0},set:function(e){this.media&&(this.media.currentTime=e)}},{key:"defaultMuted",get:function(){return this.media?this.media.defaultMuted:!1},set:function(e){this.media&&(this.media.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return this.media?this.media.ended:!1}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){var e=this.media.error;if(!e)return"";var n=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];return n[this.media.error.code-1]}},{key:"loop",get:function(){return this.media?this.media.loop:!1},set:function(e){this.media&&(this.media.loop=e)}},{key:"muted",get:function(){return this.media?this.media.muted:!1},set:function(e){!this.media||this.media.muted===e||(this._lastMuted=this.media.muted,this.media.muted=e)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return this.media?this.media.paused:!0}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(e){!this.media||e===1/0||(this.media.defaultPlaybackRate=e,this.media.playbackRate=e)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return this.media?this.media.preload:!1},set:function(e){this.media&&(this.media.preload=e)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return this.media?this.media.seekable:!1}},{key:"seeking",get:function(){return this.media?this.media.seeking:!1}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(e){if(this.media){if(this.emit(Nn,e),this.emit(rn),this._currentTime=0,this._duration=0,d.isMSE(this.media)){this.onWaiting();return}this._detachSourceEvents(this.media),d.typeOf(e)==="Array"?this._attachSourceEvents(this.media,e):e?this.media.src=e:this.media.removeAttribute("src"),this.load()}}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(e){e===1/0||!this.media||(this.media.volume=e)}},{key:"aspectRatio",get:function(){return this.media?this.media.videoWidth/this.media.videoHeight:0}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,n){for(var a,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(a=ie(ne(i.prototype),"emit",this)).call.apply(a,[this,e,n].concat(l))}},{key:"on",value:function(e,n){for(var a,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(a=ie(ne(i.prototype),"on",this)).call.apply(a,[this,e,n].concat(l))}},{key:"once",value:function(e,n){for(var a,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(a=ie(ne(i.prototype),"once",this)).call.apply(a,[this,e,n].concat(l))}},{key:"off",value:function(e,n){for(var a,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(a=ie(ne(i.prototype),"off",this)).call.apply(a,[this,e,n].concat(l))}},{key:"offAll",value:function(){ie(ne(i.prototype),"removeAllListeners",this).call(this)}}]),i}(fa),lh=function(){function s(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};Y(this,s),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=r}return q(s,[{key:"openDB",value:function(i){var t=this,e=this,n=this.myDB.version||1,a=e.indexedDB.open(e.myDB.name,n);a.onerror=function(o){},a.onsuccess=function(o){t.myDB.db=o.target.result,i.call(e)},a.onupgradeneeded=function(o){var l=o.target.result;o.target.transaction,l.objectStoreNames.contains(e.myDB.ojstore.name)||l.createObjectStore(e.myDB.ojstore.name,{keyPath:e.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){var i=this;i.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(i,t){for(var e=this.myDB.db.transaction(i,"readwrite").objectStore(i),n,a=0;a<t.length;a++)n=e.add(t[a]),n.onerror=function(){},n.onsuccess=function(){}}},{key:"putData",value:function(i,t){for(var e=this.myDB.db.transaction(i,"readwrite").objectStore(i),n,a=0;a<t.length;a++)n=e.put(t[a]),n.onerror=function(){},n.onsuccess=function(){}}},{key:"getDataByKey",value:function(i,t,e){var n=this,a=this.myDB.db.transaction(i,"readwrite").objectStore(i),o=a.get(t);o.onerror=function(){e.call(n,null)},o.onsuccess=function(l){var u=l.target.result;e.call(n,u)}}},{key:"deleteData",value:function(i,t){var e=this.myDB.db.transaction(i,"readwrite").objectStore(i);e.delete(t)}},{key:"clearData",value:function(i){var t=this.myDB.db.transaction(i,"readwrite").objectStore(i);t.clear()}}]),s}(),gr=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],vr=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],pr=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],pt="data-xgplayerid";function sn(s,r,i){for(var t=arguments.length,e=new Array(t>3?t-3:0),n=3;n<t;n++)e[n-3]=arguments[n];var a=r.call.apply(r,[s].concat(e));!i||typeof i!="function"||(a&&a.then?a.then(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];i.call.apply(i,[s].concat(l))}):i.call.apply(i,[s].concat(e)))}function kn(s,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[s]&&(this.__hooks[s]=null),(function(){var t=arguments,e=this;if(i.pre)try{var n;(n=i.pre).call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))}catch(o){throw o.message="[pluginName: ".concat(this.pluginName,":").concat(s,":pre error] >> ").concat(o.message),o}if(this.__hooks&&this.__hooks[s])try{var a=tt(this,s,r);a?a.then?a.then(function(o){o!==!1&&sn.apply(void 0,[e,r,i.next].concat(qe(t)))}).catch(function(o){throw o}):sn.apply(void 0,[this,r,i.next].concat(Array.prototype.slice.call(arguments))):a===void 0&&sn.apply(void 0,[this,r,i.next].concat(Array.prototype.slice.call(arguments)))}catch(o){throw o.message="[pluginName: ".concat(this.pluginName,":").concat(s,"] >> ").concat(o.message),o}else sn.apply(void 0,[this,r,i.next].concat(Array.prototype.slice.call(arguments)))}).bind(this)}function La(s,r){var i=this.__hooks;if(!i||!Array.isArray(i[s]))return-1;for(var t=i[s],e=0;e<t.length;e++)if(t[e]===r)return e;return-1}function Cn(s,r){var i=this.__hooks;if(i)return i.hasOwnProperty(s)?(Array.isArray(i[s])||(i[s]=[]),La.call(this,s,r)===-1&&i[s].push(r),!0):(console.warn("has no supported hook which name [".concat(s,"]")),!1)}function Tn(s,r){var i=this.__hooks;if(i)if(Array.isArray(i[s])){var t=i[s],e=La.call(this,s,r);e!==-1&&t.splice(e,1)}else i[s]&&(i[s]=null)}function mr(s){if(!(!this.plugins||!this.plugins[s.toLowerCase()])){for(var r=this.plugins[s.toLowerCase()],i=arguments.length,t=new Array(i>1?i-1:0),e=1;e<i;e++)t[e-1]=arguments[e];return r.useHooks&&r.useHooks.apply(r,t)}}function yr(s){if(!(!this.plugins||!this.plugins[s.toLowerCase()])){var r=this.plugins[s.toLowerCase()];if(r){for(var i=arguments.length,t=new Array(i>1?i-1:0),e=1;e<i;e++)t[e-1]=arguments[e];return r.removeHooks&&r.removeHooks.apply(r,t)}}}function Aa(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];s.__hooks={},r&&r.map(function(i){s.__hooks[i]=null}),Object.defineProperty(s,"hooks",{get:function(){return s.__hooks&&Object.keys(s.__hooks).map(function(t){if(s.__hooks[t])return t})}})}function Ma(s){s.__hooks=null}function tt(s,r,i){for(var t=arguments.length,e=new Array(t>3?t-3:0),n=3;n<t;n++)e[n-3]=arguments[n];if(s.__hooks&&Array.isArray(s.__hooks[r])){var a=s.__hooks[r],o=-1,l=function u(c,f,h){for(var v=arguments.length,g=new Array(v>3?v-3:0),m=3;m<v;m++)g[m-3]=arguments[m];if(o++,a.length===0||o===a.length)return h.call.apply(h,[c,c].concat(g));var y=a[o],x=y.call.apply(y,[c,c].concat(g));if(x&&x.then)return x.then(function(C){return C===!1?null:u.apply(void 0,[c,f,h].concat(g))}).catch(function(C){console.warn("[runHooks]".concat(f," reject"),C.message)});if(x!==!1)return u.apply(void 0,[c,f,h].concat(g))};return l.apply(void 0,[s,r,i].concat(e))}else return i.call.apply(i,[s,s].concat(e))}function Xn(s,r){ve.logError("[".concat(s,"] event or callback cant be undefined or null when call ").concat(r))}var yt=function(){function s(r){Y(this,s),d.checkIsFunction(this.beforeCreate)&&this.beforeCreate(r),Aa(this),this.__args=r,this.__events={},this.__onceEvents={},this.config=r.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(r)}return q(s,[{key:"beforeCreate",value:function(i){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(i){this.player=i.player,this.playerConfig=i.player&&i.player.config,this.pluginName=i.pluginName?i.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=i.player&&i.player.logger}},{key:"updateLang",value:function(i){i||(i=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var i=d.checkTouchSupport()?"touch":"mouse";return this.playerConfig&&(this.playerConfig.domEventType==="touch"||this.playerConfig.domEventType==="mouse")&&(i=this.playerConfig.domEventType),i}},{key:"on",value:function(i,t){var e=this;if(!i||!t||!this.player){Xn(this.pluginName,"plugin.on(event, callback)");return}typeof i=="string"?(this.__events[i]=t,this.player.on(i,t)):Array.isArray(i)&&i.forEach(function(n){e.__events[n]=t,e.player.on(n,t)})}},{key:"once",value:function(i,t){var e=this;if(!i||!t||!this.player){Xn(this.pluginName,"plugin.once(event, callback)");return}typeof i=="string"?(this.__onceEvents[i]=t,this.player.once(i,t)):Array.isArray(i)&&i.forEach(function(n){e.__onceEvents[n]=t,e.player.once(i,t)})}},{key:"off",value:function(i,t){var e=this;if(!i||!t||!this.player){Xn(this.pluginName,"plugin.off(event, callback)");return}typeof i=="string"?(delete this.__events[i],this.player.off(i,t)):Array.isArray(i)&&i.forEach(function(n){delete e.__events[i],e.player.off(n,t)})}},{key:"offAll",value:function(){var i=this;["__events","__onceEvents"].forEach(function(t){Object.keys(i[t]).forEach(function(e){i[t][e]&&i.off(e,i[t][e]),e&&delete i[t][e]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(i){var t;if(this.player){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];(t=this.player).emit.apply(t,[i].concat(n))}}},{key:"emitUserAction",value:function(i,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.player){var n=Ie(Ie({},e),{},{pluginName:this.pluginName});this.player.emitUserAction(i,t,n)}}},{key:"hook",value:function(i,t){return kn.call.apply(kn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(i,t){for(var e=arguments.length,n=new Array(e>2?e-2:0),a=2;a<e;a++)n[a-2]=arguments[a];return Cn.call.apply(Cn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(i,t){for(var e=arguments.length,n=new Array(e>2?e-2:0),a=2;a<e;a++)n[a-2]=arguments[a];return Tn.call.apply(Tn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(this.player)return e&&(t.pluginName=e),this.player.registerPlugin({plugin:i,options:t})}},{key:"getPlugin",value:function(i){return this.player?this.player.getPlugin(i):null}},{key:"__destroy",value:function(){var i=this,t=this.player,e=this.pluginName;this.offAll(),d.clearAllTimers(this),d.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(n){i[n]=null}),t.unRegisterPlugin(e),Ma(this)}}],[{key:"defineGetterOrSetter",value:function(i,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(i,e,t[e])}},{key:"defineMethod",value:function(i,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&typeof t[e]=="function"&&Object.defineProperty(i,e,{configurable:!0,value:t[e]})}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),s}(),uh=9;if(typeof Element<"u"&&!Element.prototype.matches){var Mt=Element.prototype;Mt.matches=Mt.matchesSelector||Mt.mozMatchesSelector||Mt.msMatchesSelector||Mt.oMatchesSelector||Mt.webkitMatchesSelector}function ch(s,r){for(;s&&s.nodeType!==uh;){if(typeof s.matches=="function"&&s.matches(r))return s;s=s.parentNode}}var fh=ch,dh=fh;function Zn(s,r,i,t,e){var n=gh.apply(this,arguments);return s.addEventListener(i,n,e),{destroy:function(){s.removeEventListener(i,n,e)}}}function hh(s,r,i,t,e){return typeof s.addEventListener=="function"?Zn.apply(null,arguments):typeof i=="function"?Zn.bind(null,document).apply(null,arguments):(typeof s=="string"&&(s=document.querySelectorAll(s)),Array.prototype.map.call(s,function(n){return Zn(n,r,i,t,e)}))}function gh(s,r,i,t){return function(e){e.delegateTarget=dh(e.target,r),e.delegateTarget&&t.call(s,e)}}var vh=hh;const _r=An(vh);var ph={CONTROLS:"controls",ROOT:"root"},Ee={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"},br={ICON_DISABLE:"xg-icon-disable",ICON_HIDE:"xg-icon-hide"};function Jn(s){return s?s.indexOf&&/^(?:http|data:|\/)/.test(s):!1}function mh(s,r){return Fe(s)==="object"&&s.class&&typeof s.class=="string"?"".concat(r," ").concat(s.class):r}function yh(s,r){return Fe(s)==="object"&&s.attr&&Fe(s.attr)==="object"&&Object.keys(s.attr).map(function(i){r[i]=s.attr[i]}),r}function kr(s,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",n=null;if(s instanceof window.Element)return d.addClass(s,i),Object.keys(t).map(function(a){s.setAttribute(a,t[a])}),s;if(Jn(s)||Jn(s.url))return t.src=Jn(s)?s:s.url||"",n=d.createDom(s.tag||"img","",t,"xg-img ".concat(i)),n;if(typeof s=="function")try{return n=s(),n instanceof window.Element?(d.addClass(n,i),Object.keys(t).map(function(a){n.setAttribute(a,t[a])}),n):(ve.logWarn("warn>>icons.".concat(r," in config of plugin named [").concat(e,"] is a function mast return an Element Object")),null)}catch(a){return ve.logError("Plugin named [".concat(e,"]:createIcon"),a),null}return typeof s=="string"?d.createDomFromHtml(s,t,i):(ve.logWarn("warn>>icons.".concat(r," in config of plugin named [").concat(e,"] is invalid")),null)}function _h(s,r){var i=r.config.icons||r.playerConfig.icons;Object.keys(s).map(function(t){var e=s[t],n=e&&e.class?e.class:"",a=e&&e.attr?e.attr:{},o=null;i&&i[t]&&(n=mh(i[t],n),a=yh(i[t],a),o=kr(i[t],t,n,a,r.pluginName)),!o&&e&&(o=kr(e.icon?e.icon:e,a,n,{},r.pluginName)),r.icons[t]=o})}function bh(s,r){Object.keys(s).map(function(i){Object.defineProperty(r.langText,i,{get:function(){var e=r.lang,n=r.i18n;return n[i]?n[i]:s[i]&&s[i][e]||""}})})}var be=function(s){Q(i,s);var r=ee(i);function i(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Y(this,i),t=r.call(this,e),t.__delegates=[],t}return q(i,[{key:"__init",value:function(e){if(ie(ne(i.prototype),"__init",this).call(this,e),!!e.root){var n=e.root,a=null;this.icons={},this.root=null,this.parent=null;var o=this.registerIcons()||{};_h(o,this),this.langText={};var l=this.registerLanguageTexts()||{};bh(l,this);var u="";try{u=this.render()}catch(h){throw ve.logError("Plugin:".concat(this.pluginName,":render"),h),new Error("Plugin:".concat(this.pluginName,":render:").concat(h.message))}if(u)a=i.insert(u,n,e.index),a.setAttribute("data-index",e.index);else if(e.tag)a=d.createDom(e.tag,"",e.attr,e.name),a.setAttribute("data-index",e.index),n.appendChild(a);else return;this.root=a,this.parent=n;var c=this.config.attr||{},f=this.config.style||{};this.setAttr(c),this.setStyle(f),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(this.root){this._children=[];var n=this.children();n&&Fe(n)==="object"&&Object.keys(n).length>0&&Object.keys(n).map(function(a){var o=a,l=n[o],u={root:e.root},c,f;typeof l=="function"?(c=e.config[o]||{},f=l):Fe(l)==="object"&&typeof l.plugin=="function"&&(c=l.options?d.deepCopy(e.config[o]||{},l.options):e.config[o]||{},f=l.plugin),u.config=c,c.index!==void 0&&(u.index=c.index),c.root&&(u.root=c.root),e.registerPlugin(f,u,o)})}}},{key:"updateLang",value:function(e){e||(e=this.lang);function n(u,c){for(var f=0;f<u.children.length;f++)u.children[f].children.length>0?n(u.children[f],c):c(u.children[f])}var a=this.root,o=this.i18n,l=this.langText;a&&n(a,function(u){var c=u.getAttribute&&u.getAttribute("lang-key");if(c){var f=o[c.toUpperCase()]||l[c];f&&(u.innerHTML=typeof f=="function"?f(e):f)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=this.i18n||{},o=this.langText;e.setAttribute&&e.setAttribute("lang-key",n);var l=a[n]||o[n]||"";l&&(e.innerHTML=l)}},{key:"plugins",value:function(){return this._children}},{key:"disable",value:function(){this.config.disable=!0,d.addClass(this.find(".xgplayer-icon"),br.ICON_DISABLE)}},{key:"enable",value:function(){this.config.disable=!1,d.removeClass(this.find(".xgplayer-icon"),br.ICON_DISABLE)}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";n.root=n.root||this.root;var o=ie(ne(i.prototype),"registerPlugin",this).call(this,e,n,a);return this._children.push(o),o}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,n,a){var o=this;if(arguments.length<3&&typeof n=="function")Array.isArray(e)?e.forEach(function(u){o.bindEL(u,n)}):this.bindEL(e,n);else{var l=i.delegate.call(this,this.root,e,n,a);this.__delegates=this.__delegates.concat(l)}}},{key:"unbind",value:function(e,n){var a=this;if(arguments.length<3&&typeof n=="function")Array.isArray(e)?e.forEach(function(u){a.unbindEL(u,n)}):this.unbindEL(e,n);else for(var o="".concat(e,"_").concat(n),l=0;l<this.__delegates.length;l++)if(this.__delegates[l].key===o){this.__delegates[l].destroy(),this.__delegates.splice(l,1);break}}},{key:"setStyle",value:function(e,n){var a=this;if(this.root){if(d.typeOf(e)==="String")return this.root.style[e]=n;d.typeOf(e)==="Object"&&Object.keys(e).map(function(o){a.root.style[o]=e[o]})}}},{key:"setAttr",value:function(e,n){var a=this;if(this.root){if(d.typeOf(e)==="String")return this.root.setAttribute(e,n);d.typeOf(e)==="Object"&&Object.keys(e).map(function(o){a.root.setAttribute(o,e[o])})}}},{key:"setHtml",value:function(e,n){this.root&&(this.root.innerHTML=e,typeof n=="function"&&n())}},{key:"bindEL",value:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(e)in this.root&&typeof n=="function"&&this.root.addEventListener(e,n,a)}},{key:"unbindEL",value:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(e)in this.root&&typeof n=="function"&&this.root.removeEventListener(e,n,a)}},{key:"show",value:function(e){if(this.root){this.root.style.display=e!==void 0?e:"block";var n=window.getComputedStyle(this.root,null),a=n.getPropertyValue("display");if(a==="none")return this.root.style.display="block"}}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,n){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!n||!(n instanceof window.Element))return null;try{return typeof e=="string"?this.find(e).appendChild(n):e.appendChild(n)}catch(a){return ve.logError("Plugin:appendChild",a),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,n=this.player;this.__delegates.map(function(a){a.destroy()}),this.__delegates=[],this._children instanceof Array&&(this._children.map(function(a){n.unRegisterPlugin(a.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),ie(ne(i.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(a){e[a]=null})}}],[{key:"insert",value:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=n.children.length,l=Number(a),u=e instanceof window.Node;if(o){for(var c=0,f=null,h="";c<o;c++){f=n.children[c];var v=Number(f.getAttribute("data-index"));if(v>=l){h="beforebegin";break}else v<l&&(h="afterend")}return u?h==="afterend"?n.appendChild(e):n.insertBefore(e,f):f.insertAdjacentHTML(h,e),h==="afterend"?n.children[n.children.length-1]:n.children[c]}else return u?n.appendChild(e):n.insertAdjacentHTML("beforeend",e),n.children[n.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,n,a,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,u=[];if(e instanceof window.Node&&typeof o=="function")if(Array.isArray(a))a.forEach(function(f){var h=_r(e,n,f,o,l);h.key="".concat(n,"_").concat(f),u.push(h)});else{var c=_r(e,n,a,o,l);c.key="".concat(n,"_").concat(a),u.push(c)}return u}},{key:"ROOT_TYPES",get:function(){return ph}},{key:"POSITIONS",get:function(){return Ee}}]),i}(yt),kh=function(){function s(){var r=this;if(Y(this,s),I(this,"__trigger",function(i){var t=new Date().getTime();r.timeStamp=t;for(var e=0;e<i.length;e++)r.__runHandler(i[e].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,!!window.ResizeObserver)try{this.observer=new window.ResizeObserver(Wd(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(i){console.error(i)}}return q(s,[{key:"addObserver",value:function(i,t){if(this.observer){this.observer.observe(i);for(var e=i.getAttribute(pt),n=this.__handlers,a=-1,o=0;o<n.length;o++)n[o]&&i===n[o].target&&(a=o);a>-1?this.__handlers[a].handler=t:this.__handlers.push({target:i,handler:t,playerId:e})}}},{key:"unObserver",value:function(i){var t=-1;this.__handlers.map(function(n,a){i===n.target&&(t=a)});try{var e;(e=this.observer)===null||e===void 0||e.unobserve(i)}catch{}t>-1&&this.__handlers.splice(t,1)}},{key:"destroyObserver",value:function(){var i;(i=this.observer)===null||i===void 0||i.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(i){for(var t=this.__handlers,e=0;e<t.length;e++)if(t[e]&&i===t[e].target){try{t[e].handler(i)}catch(n){console.error(n)}return!0}return!1}}]),s}(),qt=null;function Ch(s,r){return qt||(qt=new kh),qt.addObserver(s,r),qt}function Th(s,r){var i;(i=qt)===null||i===void 0||i.unObserver(s,r)}var Re={pluginGroup:{},init:function(r){var i=r._pluginInfoId;i||(i=new Date().getTime(),r._pluginInfoId=i),!r.config.closeResizeObserver&&Ch(r.root,function(){r.resize()}),this.pluginGroup[i]={_originalOptions:r.config||{},_plugins:{}}},formatPluginInfo:function(r,i){var t=null,e=null;return r.plugin&&typeof r.plugin=="function"?(t=r.plugin,e=r.options):(t=r,e={}),i&&(e.config=i||{}),{PLUFGIN:t,options:e}},checkPluginIfExits:function(r,i){for(var t=0;t<i.length;t++)if(r.toLowerCase()===i[t].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(r,i){for(var t=Object.keys(i),e=null,n=0;n<t.length;n++)if(r.toLowerCase()===t[n].toLowerCase()){e=i[t[n]];break}return d.typeOf(e)==="Object"?{root:e.root,position:e.position}:{}},lazyRegister:function(r,i){var t=this,e=i.timeout||1500;return Promise.race([i.loader().then(function(n){var a;n&&n.__esModule?a=n.default:a=n,t.register(r,a,n.options)}),new Promise(function(n,a){setTimeout(function(){a(new Error("timeout"))},e)})])},register:function(r,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!r||!i||typeof i!="function"||i.prototype===void 0)){var e=r._pluginInfoId;if(!(!e||!this.pluginGroup[e])){this.pluginGroup[e]._plugins||(this.pluginGroup[e]._plugins={});var n=this.pluginGroup[e]._plugins,a=this.pluginGroup[e]._originalOptions;t.player=r;var o=t.pluginName||i.pluginName;if(!o)throw new Error("The property pluginName is necessary");if(i.isSupported&&!i.isSupported(r.config.mediaType,r.config.codecType)){console.warn("not supported plugin [".concat(o,"]"));return}t.config||(t.config={});for(var l=Object.keys(a),u=0;u<l.length;u++)if(o.toLowerCase()===l[u].toLowerCase()){var c=a[l[u]];d.typeOf(c)==="Object"?t.config=Object.assign({},t.config,a[l[u]]):d.typeOf(c)==="Boolean"&&(t.config.disable=!c);break}i.defaultConfig&&Object.keys(i.defaultConfig).forEach(function(h){typeof t.config[h]>"u"&&(t.config[h]=i.defaultConfig[h])}),t.root?typeof t.root=="string"&&(t.root=r[t.root]):t.root=r.root,t.index=t.config.index||0;try{n[o.toLowerCase()]&&(this.unRegister(e,o.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(o,"] exist, destroy the old instance")));var f=new i(t);return n[o.toLowerCase()]=f,n[o.toLowerCase()].func=i,f&&typeof f.afterCreate=="function"&&f.afterCreate(),f}catch(h){throw console.error(h),h}}}},unRegister:function(r,i){r._pluginInfoId&&(r=r._pluginInfoId),i=i.toLowerCase();try{var t=this.pluginGroup[r]._plugins[i];t&&(t.pluginName&&t.__destroy(),delete this.pluginGroup[r]._plugins[i])}catch(e){console.error("[unRegister:".concat(i,"] cgid:[").concat(r,"] error"),e)}},deletePlugin:function(r,i){var t=r._pluginInfoId;t&&this.pluginGroup[t]&&this.pluginGroup[t]._plugins&&delete this.pluginGroup[t]._plugins[i]},getPlugins:function(r){var i=r._pluginInfoId;return i&&this.pluginGroup[i]?this.pluginGroup[i]._plugins:{}},findPlugin:function(r,i){var t=r._pluginInfoId;if(!t||!this.pluginGroup[t])return null;var e=i.toLowerCase();return this.pluginGroup[t]._plugins[e]},beforeInit:function(r){var i=this;function t(e){return!e||!e.then?new Promise(function(n){n()}):e}return new Promise(function(e){if(i.pluginGroup){var n;return r._loadingPlugins&&r._loadingPlugins.length?n=Promise.all(r._loadingPlugins):n=Promise.resolve(),n.then(function(){var a=r._pluginInfoId;if(!i.pluginGroup[a]){e();return}var o=i.pluginGroup[a]._plugins,l=[];Object.keys(o).forEach(function(u){if(o[u]&&o[u].beforePlayerInit)try{var c=o[u].beforePlayerInit();l.push(t(c))}catch(f){throw l.push(t(null)),f}}),Promise.all([].concat(l)).then(function(){e()}).catch(function(u){console.error(u),e()})})}})},afterInit:function(r){var i=r._pluginInfoId;if(!(!i||!this.pluginGroup[i])){var t=this.pluginGroup[i]._plugins;Object.keys(t).forEach(function(e){t[e]&&t[e].afterPlayerInit&&t[e].afterPlayerInit()})}},setLang:function(r,i){var t=i._pluginInfoId;if(!(!t||!this.pluginGroup[t])){var e=this.pluginGroup[t]._plugins;Object.keys(e).forEach(function(n){if(e[n].updateLang)e[n].updateLang(r);else try{e[n].lang=r}catch{console.warn("".concat(n," setLang"))}})}},reRender:function(r){var i=this,t=r._pluginInfoId;if(!(!t||!this.pluginGroup[t])){var e=[],n=this.pluginGroup[t]._plugins;Object.keys(n).forEach(function(a){a!=="controls"&&n[a]&&(e.push({plugin:n[a].func,options:n[a].__args}),i.unRegister(t,a))}),e.forEach(function(a){i.register(r,a.plugin,a.options)})}},onPluginsReady:function(r){var i=r._pluginInfoId;if(!(!i||!this.pluginGroup[i])){var t=this.pluginGroup[i]._plugins||{};Object.keys(t).forEach(function(e){t[e].onPluginsReady&&typeof t[e].onPluginsReady=="function"&&t[e].onPluginsReady()})}},destroy:function(r){var i=r._pluginInfoId;if(this.pluginGroup[i]){Th(r.root);for(var t=this.pluginGroup[i]._plugins,e=0,n=Object.keys(t);e<n.length;e++){var a=n[e];this.unRegister(i,a)}delete this.pluginGroup[i],delete r._pluginInfoId}}},D={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function Cr(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:Gd(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}var wh=function(r,i){var t,e,n;i.preset&&i.options?n=new i.preset(i.options,r.config):n=new i({},r.config);var a=n,o=a.plugins,l=o===void 0?[]:o,u=a.ignores,c=u===void 0?[]:u,f=a.icons,h=f===void 0?{}:f,v=a.i18n,g=v===void 0?[]:v;r.config.plugins||(r.config.plugins=[]),r.config.ignores||(r.config.ignores=[]),(t=r.config.plugins).push.apply(t,qe(l)),(e=r.config.ignores).push.apply(e,qe(c)),Object.keys(h).map(function(y){r.config.icons[y]||(r.config.icons[y]=h[y])});var m=r.config.i18n||[];g.push.apply(g,qe(m)),r.config.i18n=g},Eh=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"onMouseEnter",function(o){var l=E(t),u=l.player,c=l.playerConfig;c.closeControlsBlur&&u.focus({autoHide:!1})}),I(E(t),"onMouseLeave",function(o){var l=E(t),u=l.player;u.focus()}),t}return q(i,[{key:"beforeCreate",value:function(e){!e.config.mode&&fe.device==="mobile"&&(e.config.mode="flex"),e.player.config.marginControls&&(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,n=this.config,a=n.disable,o=n.height,l=n.mode;if(!a){l==="flex"&&this.player.addClass(D.FLEX_CONTROLS);var u={height:"".concat(o,"px")};Object.keys(u).map(function(f){e.root.style[f]=u[f]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(yn,function(f){f?d.addClass(e.root,"mini-controls"):d.removeClass(e.root,"mini-controls")});var c=this.playerConfig.isMobileSimulateMode;fe.device!=="mobile"&&c!=="mobile"&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&d.addClass(this.root,D.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){d.removeClass(this.root,D.CONTROLS_AUTOHIDE)}},{key:"show",value:function(e){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;if(this.root){var o=e.defaultConfig||{};if(!n.root){var l=n.position?n.position:n.config&&n.config.position?n.config.position:o.position;switch(l){case Ee.CONTROLS_LEFT:n.root=this.left;break;case Ee.CONTROLS_RIGHT:n.root=this.right;break;case Ee.CONTROLS_CENTER:n.root=this.center;break;case Ee.CONTROLS:n.root=this.root;break;default:n.root=this.left}return ie(ne(i.prototype),"registerPlugin",this).call(this,e,n,a)}}}},{key:"destroy",value:function(){fe.device!=="mobile"&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave)),this.left=null,this.center=null,this.right=null,this.innerRoot=null}},{key:"render",value:function(){var e=this.config,n=e.mode,a=e.autoHide,o=e.initShow,l=e.disable;if(!l){var u=d.classNames({"xgplayer-controls":!0},{"flex-controls":n==="flex"},{"bottom-controls":n==="bottom"},I({},D.CONTROLS_AUTOHIDE,a),{"xgplayer-controls-initshow":o||!a});return'<xg-controls class="'.concat(u,`" unselectable="on">
    <xg-inner-controls class="xg-inner-controls xg-pos">
      <xg-left-grid class="xg-left-grid">
      </xg-left-grid>
      <xg-center-grid class="xg-center-grid"></xg-center-grid>
      <xg-right-grid class="xg-right-grid">
      </xg-right-grid>
    </xg-inner-controls>
    </xg-controls>`)}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),i}(be),Sh={LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}},Ue={lang:{},langKeys:[],textKeys:[]};function Zt(s,r){return Object.keys(r).forEach(function(i){var t=d.typeOf(r[i]),e=d.typeOf(s[i]);if(t==="Array"){var n;e!=="Array"&&(s[i]=[]),(n=s[i]).push.apply(n,qe(r[i]))}else t==="Object"?(e!=="Object"&&(s[i]={}),Zt(s[i],r[i])):s[i]=r[i]}),s}function Da(){Object.keys(Ue.lang.en).map(function(s){Ue.textKeys[s]=s})}function Ph(s,r){var i=[];if(r||(r=Ue),!!r.lang){d.typeOf(s)!=="Array"?i=Object.keys(s).map(function(n){var a=n==="zh"?"zh-cn":n;return{LANG:a,TEXT:s[n]}}):i=s;var t=r,e=t.lang;i.map(function(n){n.LANG==="zh"&&(n.LANG="zh-cn"),e[n.LANG]?Zt(e[n.LANG]||{},n.TEXT||{}):Hi(n,r)}),Da()}}function Hi(s,r){var i=s.LANG;if(r||(r=Ue),!!r.lang){var t=s.TEXT||{};i==="zh"&&(i="zh-cn"),r.lang[i]?Zt(r.lang[i],t):(r.langKeys.push(i),r.lang[i]=t),Da()}}function Ih(s){var r,i={lang:{},langKeys:[],textKeys:{},pId:s};return Zt(i.lang,Ue.lang),(r=i.langKeys).push.apply(r,qe(Ue.langKeys)),Zt(i.textKeys,Ue.textKeys),i}Hi(Sh);var Vt={get textKeys(){return Ue.textKeys},get langKeys(){return Ue.langKeys},get lang(){var s={};return Ue.langKeys.map(function(r){s[r]=Ue.lang[r]}),Ue.lang["zh-cn"]&&(s.zh=Ue.lang["zh-cn"]||{}),s},extend:Ph,use:Hi,init:Ih},ye={INITIAL:1,READY:2,ATTACHING:3,ATTACHED:4,NOTALLOW:5,RUNNING:6,ENDED:7,DESTROYED:8},Tr=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],He={},Qn=null,Oa=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"add",value:function(e){e&&(He[e.playerId]=e,Object.keys(He).length===1&&this.setActive(e.playerId,!0))}},{key:"remove",value:function(e){e&&(e.isUserActive,delete He[e.playerId])}},{key:"_iterate",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(var a in He)if(Object.prototype.hasOwnProperty.call(He,a)){var o=He[a];if(n){if(e(o))break}else e(o)}}},{key:"forEach",value:function(e){this._iterate(e)}},{key:"find",value:function(e){var n=null;return this._iterate(function(a){var o=e(a);return o&&(n=a),o},!0),n}},{key:"findAll",value:function(e){var n=[];return this._iterate(function(a){e(a)&&n.push(a)}),n}},{key:"setActive",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(He[e])return n?this.forEach(function(a){e===a.playerId?(a.isUserActive=!0,a.isInstNext=!1):a.isUserActive=!1}):He[e].isUserActive=n,e}},{key:"getActiveId",value:function(){for(var e=Object.keys(He),n=0;n<e.length;n++){var a=He[e[n]];if(a&&a.isUserActive)return e[n]}return null}},{key:"setNext",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(He[e])return n?this.forEach(function(a){e===a.playerId?(a.isUserActive=!1,a.isInstNext=!0):a.isInstNext=!1}):He[e].isInstNext=n,e}}],[{key:"getInstance",value:function(){return Qn||(Qn=new i),Qn}}]),i}(ca.EventEmitter);function xh(s){for(var r=Object.keys(He),i=0;i<r.length;i++){var t=He[r[i]];if(t.root===s)return t}return null}var Lh=["play","pause","replay","retry"],wr=0,Er=0,ht=null,Bn=function(s){Q(i,s);var r=ee(i);function i(t){var e;Y(this,i);var n=d.deepMerge(Cr(),t);e=r.call(this,n),I(E(e),"canPlayFunc",function(){if(e.config){var g=e.config,m=g.autoplay,y=g.defaultPlaybackRate;ve.logInfo("player","canPlayFunc, startTime",e.__startTime),e._seekToStartTime(),e.playbackRate=y,(m||e._useAutoplay)&&e.mediaPlay(),e.off(st,e.canPlayFunc),e.removeClass(D.ENTER)}}),I(E(e),"onFullscreenChange",function(g,m){var y=function(){d.setTimeout(E(e),function(){e.resize()},100)},x=d.getFullScreenEl();e._fullActionFrom?e._fullActionFrom="":e.emit(bn,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:e.currentTime,duration:e.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var C=Kd(x,e.playerId,pt);if(m||x&&(x===e._fullscreenEl||C))y(),!e.config.closeFocusVideoFocus&&e.media.focus(),e.fullscreen=!0,e.changeFullStyle(e.root,x,D.FULLSCREEN),e.emit(at,!0,e._fullScreenOffset),e.cssfullscreen&&e.exitCssFullscreen();else if(e.fullscreen){y();var b=E(e),M=b._fullScreenOffset,B=b.config;if(B.needFullscreenScroll?(window.scrollTo(M.left,M.top),d.setTimeout(E(e),function(){e.fullscreen=!1,e._fullScreenOffset=null},100)):(!e.config.closeFocusVideoFocus&&e.media.focus(),e.fullscreen=!1,e._fullScreenOffset=null),e.cssfullscreen)e.removeClass(D.FULLSCREEN);else{var H=e._fullscreenEl;!H&&(e.root.contains(g.target)||g.target===e.root)&&(H=g.target),e.recoverFullStyle(e.root,H,D.FULLSCREEN)}e._fullscreenEl=null,e.emit(at,!1)}}),I(E(e),"_onWebkitbeginfullscreen",function(g){e._fullscreenEl=e.media,e.onFullscreenChange(g,!0)}),I(E(e),"_onWebkitendfullscreen",function(g){e.onFullscreenChange(g,!1)}),Aa(E(e),Lh),e.config=n,e._pluginInfoId=d.generateSessionId(),Vd(E(e));var a=e.constructor.defaultPreset;if(e.config.presets.length){var o=e.config.presets.indexOf("default");o>=0&&a&&(e.config.presets[o]=a)}else a&&e.config.presets.push(a);e.userTimer=null,e.waitTimer=null,e.handleSource=!0,e._state=ye.INITIAL,e.isAd=!1,e.isError=!1,e._hasStart=!1,e.isSeeking=!1,e.isCanplay=!1,e._useAutoplay=!1,e.__startTime=-1,e.rotateDeg=0,e.isActive=!1,e.fullscreen=!1,e.cssfullscreen=!1,e.isRotateFullscreen=!1,e._fullscreenEl=null,e.timeSegments=[],e._cssfullscreenEl=null,e.curDefinition=null,e._orgCss="",e._fullScreenOffset=null,e._videoHeight=0,e._videoWidth=0,e.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},e.sizeInfo={width:0,height:0,left:0,top:0},e._accPlayed={t:0,acc:0,loopAcc:0},e._offsetInfo={currentTime:-1,duration:0},e.innerContainer=null,e.controls=null,e.topBar=null,e.root=null,e.__i18n=Vt.init(e._pluginInfoId),fe.os.isAndroid&&fe.osVersion>0&&fe.osVersion<6&&(e.config.autoplay=!1),e.database=new lh,e.isUserActive=!1,e._onceSeekCanplay=null,e._isPauseBeforeSeek=0,e.innerStates={isActiveLocked:!1},e.instManager=ht;var l=e._initDOM();if(!l)return console.error(new Error("can't find the dom which id is ".concat(e.config.id," or this.config.el does not exist"))),Ai(e);var u=e.config,c=u.definition,f=c===void 0?{}:c,h=u.url;if(!h&&f.list&&f.list.length>0){var v=f.list.find(function(g){return g.definition&&g.definition===f.defaultDefinition});v||(f.defaultDefinition=f.list[0].definition,v=f.list[0]),e.config.url=v.url,e.curDefinition=v}return e._bindEvents(),e._registerPresets(),e._registerPlugins(),Re.onPluginsReady(E(e)),e.getInitDefinition(),e.setState(ye.READY),d.setTimeout(E(e),function(){e.emit(Ri)},0),e.onReady&&e.onReady(),(e.config.videoInit||e.config.autoplay)&&(!e.hasStart||e.state<ye.ATTACHED)&&e.start(),e}return q(i,[{key:"_initDOM",value:function(){var e,n=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var a=this.config.el;if(a&&a.nodeType===1)this.root=a;else return this.emit(nn,new vn("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1}var o=xh(this.root);if(o&&(ve.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),o.destroy()),this.root.setAttribute(pt,this.playerId),this.media.setAttribute(pt,this.playerId),(e=ht)===null||e===void 0||e.add(this),Re.init(this),this._initBaseDoms(),this.config.controls){var l=this.config.controls.root||null,u=Re.register(this,Eh,{root:l});this.controls=u}var c=this.config.isMobileSimulateMode==="mobile"?"mobile":fe.device;if(this.addClass("".concat(D.DEFAULT," ").concat(D.INACTIVE," xgplayer-").concat(c," ").concat(this.config.controls?"":D.NO_CONTROLS)),this.config.autoplay?this.addClass(D.ENTER):this.addClass(D.NO_START),this.config.fluid){var f=this.config,h=f.width,v=f.height;(typeof h!="number"||typeof v!="number")&&(h=600,v=337.5);var g={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(v*100/h,"%")};Object.keys(g).forEach(function(M){n.root.style[M]=g[M]})}else["width","height"].forEach(function(M){n.config[M]&&(typeof n.config[M]!="number"?n.root.style[M]=n.config[M]:n.root.style[M]="".concat(n.config[M],"px"))});var m=this.root.getBoundingClientRect(),y=m.width,x=m.height,C=m.left,b=m.top;return this.sizeInfo.width=y,this.sizeInfo.height=x,this.sizeInfo.left=C,this.sizeInfo.top=b,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=d.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach(function(n){e.on(n,e["on"+n.charAt(0).toUpperCase()+n.slice(1)])}),gr.forEach(function(n){document&&document.addEventListener(n,e.onFullscreenChange)}),fe.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(ct,this.resize),this.playFunc=function(){e.config.closeFocusVideoFocus||e.media.focus()},this.once(je,this.playFunc)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),gr.forEach(function(n){document.removeEventListener(n,e.onFullscreenChange)}),this.playFunc&&this.off(je,this.playFunc),this.off(st,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_clearUserTimer",value:function(){this.userTimer&&(d.clearTimeout(this,this.userTimer),this.userTimer=null)}},{key:"_startInit",value:function(e){var n=this;if(this.media&&!((!e||e===""||d.typeOf(e)==="Array"&&e.length===0)&&(e="",this.emit(ma),ve.logWarn("config.url is null, please get url and run player._startInit(url)"),this.config.nullUrlStart))){this.handleSource&&(this._detachSourceEvents(this.media),d.typeOf(e)==="Array"&&e.length>0?this._attachSourceEvents(this.media,e):!this.media.src||this.media.src!==e?this.media.src=e:e||this.media.removeAttribute("src")),d.typeOf(this.config.volume)==="Number"&&(this.volume=this.config.volume);var a=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!a.contains(this.media)&&a.insertBefore(this.media,a.firstChild);var o=this.media.readyState;ve.logInfo("_startInit readyState",o),this.config.autoplay&&(!d.isMSE(this.media)&&this.load(),(fe.os.isIpad||fe.os.isPhone)&&this.mediaPlay());var l=this.config.startTime;this.__startTime=l>0?l:-1,this.config.startTime=0,o>=2&&this.duration>0?this.canPlayFunc():this.on(st,this.canPlayFunc),(!this.hasStart||this.state<ye.ATTACHED)&&Re.afterInit(this),this.hasStart=!0,this.setState(ye.ATTACHED),d.setTimeout(this,function(){n.emit(Rn)},0)}}},{key:"_registerPlugins",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._loadingPlugins=[];var a=this.config.ignores||[],o=this.config.plugins||[],l=this.config.i18n||[];n&&Vt.extend(l,this.__i18n);var u=a.join("||").toLowerCase().split("||"),c=this.plugins;o.forEach(function(f){try{var h=f.plugin?f.plugin.pluginName:f.pluginName;if(h&&u.indexOf(h.toLowerCase())>-1)return null;if(!n&&c[h.toLowerCase()])return;if(f.lazy&&f.loader){var v=Re.lazyRegister(e,f);f.forceBeforeInit&&(v.then(function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(v),1)}).catch(function(g){ve.logError("_registerPlugins:loadingPlugin",g),e._loadingPlugins.splice(e._loadingPlugins.indexOf(v),1)}),e._loadingPlugins.push(v));return}return e.registerPlugin(f)}catch(g){ve.logError("_registerPlugins:",g)}})}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach(function(n){wh(e,n)})}},{key:"_getRootByPosition",value:function(e){var n=null;switch(e){case Ee.ROOT_RIGHT:this.rightBar||(this.rightBar=d.createPositionBar("xg-right-bar",this.root)),n=this.rightBar;break;case Ee.ROOT_LEFT:this.leftBar||(this.leftBar=d.createPositionBar("xg-left-bar",this.root)),n=this.leftBar;break;case Ee.ROOT_TOP:this.topBar||(this.topBar=d.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&d.addClass(this.topBar,D.TOP_BAR_AUTOHIDE)),n=this.topBar;break;default:n=this.innerContainer||this.root;break}return n}},{key:"registerPlugin",value:function(e,n){var a=Re.formatPluginInfo(e,n),o=a.PLUFGIN,l=a.options,u=this.config.plugins,c=Re.checkPluginIfExits(o.pluginName,u);!c&&u.push(o);var f=Re.getRootByConfig(o.pluginName,this.config);f.root&&(l.root=f.root),f.position&&(l.position=f.position);var h=l.position?l.position:l.config&&l.config.position||o.defaultConfig&&o.defaultConfig.position;if(!l.root&&typeof h=="string"&&h.indexOf("controls")>-1){var v;return(v=this.controls)===null||v===void 0?void 0:v.registerPlugin(o,l,o.pluginName)}return l.root||(l.root=this._getRootByPosition(h)),Re.register(this,o,l)}},{key:"deregister",value:function(e){typeof e=="string"?Re.unRegister(this,e):e instanceof yt&&Re.unRegister(this,e.pluginName)}},{key:"unRegisterPlugin",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.deregister(e),n&&this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var n;if(typeof e=="string"?n=e:e instanceof yt&&(n=e.pluginName),!!n)for(var a=this.config.plugins.length-1;a>-1;a--){var o=this.config.plugins[a];if(o.pluginName.toLowerCase()===n.toLowerCase()){this.config.plugins.splice(a,1);break}}}},{key:"plugins",get:function(){return Re.getPlugins(this)}},{key:"getPlugin",value:function(e){var n=Re.findPlugin(this,e);return n&&n.pluginName?n:null}},{key:"addClass",value:function(e){this.root&&(d.hasClass(this.root,e)||d.addClass(this.root,e))}},{key:"removeClass",value:function(e){this.root&&d.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(this.root)return d.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,n){this.root&&this.root.setAttribute(e,n)}},{key:"removeAttribute",value:function(e,n){this.root&&this.root.removeAttribute(e,n)}},{key:"start",value:function(e){var n=this;if(!(this.state>ye.ATTACHING))return!e&&!this.config.url&&this.getInitDefinition(),this.hasStart=!0,this.setState(ye.ATTACHING),this._registerPlugins(!1),Re.beforeInit(this).then(function(){if(n.config){e||(e=n.url||n.config.url);var a=n.preProcessUrl(e),o=n._startInit(a.url);return o}}).catch(function(a){throw a.fileName="player",a.lineNumber="236",ve.logError("start:beforeInit:",a),a})}},{key:"switchURL",value:function(e,n){var a=this,o=e;d.typeOf(e)==="Object"&&(o=e.url),o=this.preProcessUrl(o).url;var l=this.currentTime;this.__startTime=l;var u=this.paused&&!this.isError;return this.src=o,new Promise(function(c,f){var h=function(m){a.off("timeupdate",v),a.off("canplay",v),f(m)},v=function(){a._seekToStartTime(),u&&a.pause(),a.off("error",h),c(!0)};if(a.once("error",h),!o){a.errorHandler("error",{code:6,message:"empty_src"});return}fe.os.isAndroid?a.once("timeupdate",v):a.once("canplay",v),a.play()})}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var e=this;if(!this.hasStart&&this.state<ye.ATTACHED){this.removeClass(D.NO_START),this.addClass(D.ENTER),this.start(),this._useAutoplay=!0;return}this.state<ye.RUNNING&&(this.removeClass(D.NO_START),!this.isCanplay&&this.addClass(D.ENTER));var n=ie(ne(i.prototype),"play",this).call(this);return n!==void 0&&n&&n.then?n.then(function(){e.removeClass(D.NOT_ALLOW_AUTOPLAY),e.addClass(D.PLAYING),e.state<ye.RUNNING&&(ve.logInfo(">>>>playPromise.then"),e.setState(ye.RUNNING),e.emit(Et))}).catch(function(a){if(ve.logWarn(">>>>playPromise.catch",a.name),e.media&&e.media.error){e.onError(),e.removeClass(D.ENTER);return}a.name==="NotAllowedError"&&(e._errorTimer=d.setTimeout(e,function(){e._errorTimer=null,e.emit(Ni),e.addClass(D.NOT_ALLOW_AUTOPLAY),e.removeClass(D.ENTER),e.pause(),e.setState(ye.NOTALLOW)},0))}):(ve.logWarn("video.play not return promise"),this.state<ye.RUNNING&&(this.setState(ye.RUNNING),this.removeClass(D.NOT_ALLOW_AUTOPLAY),this.removeClass(D.NO_START),this.removeClass(D.ENTER),this.addClass(D.PLAYING),this.emit(Et))),n}},{key:"mediaPause",value:function(){ie(ne(i.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){ie(ne(i.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;return this.removeClass(D.PAUSED),tt(this,"play",function(){return e.mediaPlay()})}},{key:"pause",value:function(){var e=this;tt(this,"pause",function(){ie(ne(i.prototype),"pause",e).call(e)})}},{key:"seek",value:function(e,n){var a=this;if(!(!this.media||Number.isNaN(Number(e))||!this.hasStart)){var o=this.config,l=o.isSeekedPlay,u=o.seekedStatus,c=n||(l?"play":u);e=e<0?0:e>this.duration?parseInt(this.duration,10):e,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(lt,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(a.removeClass(D.ENTER),a.isSeeking=!1,c){case"play":a.play();break;case"pause":a.pause();break;default:a._isPauseBeforeSeek>1||a.paused?a.pause():a.play()}a._isPauseBeforeSeek=0,a._onceSeekCanplay=null},this.once(lt,this._onceSeekCanplay),this.state<ye.RUNNING?(this.removeClass(D.NO_START),this.currentTime=e,this.play()):this.currentTime=e}}},{key:"getInitDefinition",value:function(){var e=this,n=this.config,a=n.definition,o=n.url;!o&&a&&a.list&&a.list.length>0&&a.defaultDefinition&&a.list.map(function(l){l.definition===a.defaultDefinition&&(e.config.url=l.url,e.curDefinition=l)})}},{key:"changeDefinition",value:function(e,n){var a=this,o=this.config.definition;if(Array.isArray(o==null?void 0:o.list)&&o.list.forEach(function(u){(e==null?void 0:e.definition)===u.definition&&(a.curDefinition=u)}),e!=null&&e.bitrate&&typeof e.bitrate!="number"&&(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(Bi,{from:n,to:e}),!this.hasStart){this.config.url=e.url;return}var l=this.switchURL(e.url,Ie({seamless:o.seamless!==!1&&typeof MediaSource<"u"&&typeof MediaSource.isTypeSupported=="function"},e));l&&l.then?l.then(function(){a.emit(yi,{from:n,to:e})}):this.emit(yi,{from:n,to:e})}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(ct,this.reloadFunc)}},{key:"resetState",value:function(){var e=this,n=D.NOT_ALLOW_AUTOPLAY,a=D.PLAYING,o=D.NO_START,l=D.PAUSED,u=D.REPLAY,c=D.ENTER,f=D.ENDED,h=D.ERROR,v=D.LOADING,g=[n,a,o,l,u,c,f,h,v];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,g.forEach(function(m){e.removeClass(m)}),this.addClass(D.NO_START),this.emit(Fn)}},{key:"reset",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;this.resetState();var o=this.plugins;if(o&&(n.map(function(u){e.deregister(u)}),a)){var l=Cr();Object.keys(this.config).keys(function(u){e.config[u]!=="undefined"&&(u==="plugins"||u==="presets"||u==="el"||u==="id")&&(e.config[u]=l[u])})}}},{key:"destroy",value:function(){var e,n=this,a=this.innerContainer,o=this.root,l=this.media;if(!(!o||!l)){if(this.hasStart=!1,this._useAutoplay=!1,o.removeAttribute(pt),l.removeAttribute(pt),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),d.clearAllTimers(this),this.emit(Fi),(e=ht)===null||e===void 0||e.remove(this),Re.destroy(this),Ma(this),ie(ne(i.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),a)for(var u=a.children,c=0;c<u.length;c++)a.removeChild(u[c]);!a&&l instanceof window.Node&&o.contains(l)&&!this.config.remainMediaAfterDestroy&&o.removeChild(l),["topBar","leftBar","rightBar","innerContainer"].map(function(h){n[h]&&o.removeChild(n[h]),n[h]=null});var f=o.className.split(" ");f.length>0?o.className=f.filter(function(h){return h.indexOf("xgplayer")<0}).join(" "):o.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach(function(h){n[h]=!1})}}},{key:"replay",value:function(){var e=this;this.removeClass(D.ENDED),this.currentTime=0,this.isSeeking=!1,tt(this,"replay",function(){e.once(lt,function(){var n=e.mediaPlay();n&&n.catch&&n.catch(function(a){console.log(a)})}),e.emit(pn),e.onPlay()})}},{key:"retry",value:function(){var e=this;this.removeClass(D.ERROR),this.addClass(D.LOADING),tt(this,"retry",function(){var n=e.currentTime,a=e.config.url,o=d.isMSE(e.media)?{url:a}:e.preProcessUrl(a);e.src=o.url,!e.config.isLive&&(e.currentTime=n),e.once(st,function(){e.mediaPlay()})})}},{key:"changeFullStyle",value:function(e,n,a,o){e&&(o||(o=D.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=d.filterStyleFromText(e)),d.addClass(e,a),n&&n!==e&&!this._orgPCss&&(this._orgPCss=d.filterStyleFromText(n),d.addClass(n,o),n.setAttribute(pt,this.playerId)))}},{key:"recoverFullStyle",value:function(e,n,a,o){o||(o=D.PARENT_FULLSCREEN),this._orgCss&&(d.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),d.removeClass(e,a),n&&n!==e&&this._orgPCss&&(d.setStyleFromCsstext(n,this._orgPCss),this._orgPCss="",d.removeClass(n,o),n.removeAttribute(pt))}},{key:"getFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget,n=this.root,a=this.media;(e==="video"||e==="media")&&(e=this[e]),e||(e=n),this._fullScreenOffset={top:d.scrollTop(),left:d.scrollLeft()},this._fullscreenEl=e,this._fullActionFrom="get";var o=d.getFullScreenEl();if(o===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var l=0;l<vr.length;l++){var u=vr[l];if(e[u]){var c=u==="webkitRequestFullscreen"?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[u]();return c&&c.then?c:Promise.resolve()}}return a.fullscreenEnabled||a.webkitSupportsFullscreen?(a.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch{return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(e){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),!(!this._fullscreenEl&&!d.getFullScreenEl())){this.root;var n=this.media;this._fullActionFrom="exit";try{for(var a=0;a<pr.length;a++){var o=pr[a];if(document[o]){var l=document[o]();return l&&l.then?l:Promise.resolve()}}return n&&n.webkitSupportsFullscreen?(n.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch{return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var n=e?"".concat(D.INNER_FULLSCREEN," ").concat(D.CSS_FULLSCREEN):D.CSS_FULLSCREEN;this.changeFullStyle(this.root,e,n);var a=this.config.fullscreen,o=a===void 0?{}:a,l=o.useCssFullscreen===!0||typeof o.useCssFullscreen=="function"&&o.useCssFullscreen();l&&(this.fullscreen=!0,this.emit(at,!0)),this._cssfullscreenEl=e,this.cssfullscreen=!0,this.emit(mn,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?"".concat(D.INNER_FULLSCREEN," ").concat(D.CSS_FULLSCREEN):D.CSS_FULLSCREEN;if(!this.fullscreen)this.recoverFullStyle(this.root,this._cssfullscreenEl,e);else{var n=this.config.fullscreen,a=n===void 0?{}:n,o=a.useCssFullscreen===!0||typeof a.useCssFullscreen=="function"&&a.useCssFullscreen();o?(this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this.fullscreen=!1,this.emit(at,!1)):this.removeClass(e)}this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(mn,!1)}},{key:"getRotateFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(e);var n=e?"".concat(D.INNER_FULLSCREEN," ").concat(D.ROTATE_FULLSCREEN):D.ROTATE_FULLSCREEN;this._fullscreenEl=e||this.root,this.changeFullStyle(this.root,e,n,D.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style"),this.root.style.width="".concat(window.innerHeight,"px"),this.emit(at,!0)}},{key:"exitRotateFullscreen",value:function(e){var n=this._fullscreenEl!==this.root?"".concat(D.INNER_FULLSCREEN," ").concat(D.ROTATE_FULLSCREEN):D.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,n,D.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(at,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(e){window.orientation===90||window.orientation===-90?this.rotateDeg=0:this.rotateDeg=e}},{key:"focus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};if(this.isActive){this.onFocus(e);return}this.emit(Oi,Ie({paused:this.paused,ended:this.ended},e))}},{key:"blur",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};if(!this.isActive){this.onBlur(e);return}this._clearUserTimer(),this.emit(pa,Ie({paused:this.paused,ended:this.ended},e))}},{key:"onFocus",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!0,delay:3e3},a=this.innerStates;if(this.isActive=!0,this.removeClass(D.INACTIVE),this._clearUserTimer(),n.isLock!==void 0&&(a.isActiveLocked=n.isLock),n.autoHide===!1||n.isLock===!0||a.isActiveLocked){this._clearUserTimer();return}var o=n&&n.delay?n.delay:this.config.inactive;this.userTimer=d.setTimeout(this,function(){e.userTimer=null,e.blur()},o)}},{key:"onBlur",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.ignorePaused,a=n===void 0?!1:n;if(!this.innerStates.isActiveLocked){var o=this.config.closePauseVideoFocus;this.isActive=!1,(a||o||!this.paused&&!this.ended)&&this.addClass(D.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(D.ENTER),this.removeClass(D.ERROR),this.removeClass(D.LOADING),this.isCanplay=!0,this.waitTimer&&d.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){var e=this;this.isError=!1,this.isSeeking=!1,this.__startTime>0&&(this.duration>0?this._seekToStartTime():this.once(dt,function(){e._seekToStartTime()}))}},{key:"onLoadstart",value:function(){this.removeClass(D.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===ye.ENDED&&this.setState(ye.RUNNING),this.removeClass(D.PAUSED),this.ended&&this.removeClass(D.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){this.addClass(D.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this._clearUserTimer(),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(D.ENDED),this.setState(ye.ENDED)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(D.NOT_ALLOW_AUTOPLAY),this.removeClass(D.NO_START),this.removeClass(D.ENTER),this.removeClass(D.LOADING),this.addClass(D.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(D.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&d.clearTimeout(this,this.waitTimer),this.removeClass(D.LOADING),this.removeClass(D.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&d.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=d.setTimeout(this,function(){e.addClass(D.LOADING),e.emit(ba),d.clearTimeout(e,e.waitTimer),e.waitTimer=null},this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1;var n=D.NO_START,a=D.PAUSED,o=D.ENDED,l=D.ERROR,u=D.REPLAY,c=D.LOADING,f=[n,a,o,l,u,c];f.forEach(function(h){e.removeClass(h)}),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass(D.LOADING))&&this.media.readyState>2&&(this.removeClass(D.LOADING),d.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state===ye.NOTALLOW&&this.duration&&(this.setState(ye.RUNNING),this.emit(Et)),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){d.typeOf(this.config.volume)==="Number"&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(e,n,a){if(!(!this.media||!n||!e)){var o=d.typeOf(e)==="String"?e:e.type||"";a.props&&d.typeOf(a.props)!=="Array"&&(a.props=[a.props]),this.emit(bn,Ie({eventType:o,action:n,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},a))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var n=new Date().getTime()-this._accPlayed.t;this._accPlayed.acc+=n,this._accPlayed.t=0,(e==="ended"||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{startDiff:0,endDiff:0},a=n||{},o=a.startDiff,l=o===void 0?0:o,u=a.endDiff,c=u===void 0?0:u,f=this.media.buffered;if(!f||f.length===0||!this.duration)return!0;for(var h=e||this.media.currentTime||.2,v=f.length,g=0;g<v;g++)if(f.start(g)+l<=h&&f.end(g)-c>h)return!0;return!1}},{key:"resizePosition",value:function(){var e=this,n=this.videoPos,a=n.vy,o=n.vx,l=n.h,u=n.w,c=this.videoPos.rotate;if(!(c<0&&l<0&&u<0)){var f=this.videoPos._pi;if(!f&&this.media.videoHeight&&(f=this.media.videoWidth/this.media.videoHeight*100),!!f){this.videoPos.pi=f,c=c<0?0:c;var h={rotate:c},v=0,g=0,m=1,y=Math.abs(c/90),x=this.root,C=this.innerContainer,b=x.offsetWidth,M=C?C.offsetHeight:x.offsetHeight,B={},H=M,F=b;if(y%2===0)m=l>0?100/l:u>0?100/u:1,h.scale=m,v=a>0?(100-l)/2-a:0,h.y=y===2?0-v:v,g=o>0?(100-u)/2-o:0,h.x=y===2?0-g:g,B.width="".concat(F,"px"),B.height="".concat(H,"px"),B.maxWidth="",B.maxHeight="";else if(y%2===1){F=M,H=b;var A=M-b;g=-A/2/F*100,h.x=y===3?g+a/2:g-a/2,v=A/2/H*100,h.y=y===3?v+o/2:v-o/2,h.scale=m,B.width="".concat(F,"px"),B.maxWidth="".concat(F,"px"),B.height="".concat(H,"px"),B.maxHeight="".concat(H,"px")}var pe=d.getTransformStyle(h,this.media.style.transform||this.media.style.webkitTransform);B.transform=pe,B.webkitTransform=pe,Object.keys(B).map(function(R){e.media.style[R]=B[R]})}}}},{key:"position",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{h:0,y:0,x:0,w:0};if(!(!this.media||!e||!e.h)){var n=this.videoPos;n.h=e.h*100||0,n.w=e.w*100||0,n.vx=e.x*100||0,n.vy=e.y*100||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var n=this;e&&Object.keys(e).map(function(a){if(a!=="plugins"){n.config[a]=e[a];var o=n.plugins[a.toLowerCase()];o&&d.typeOf(o.setConfig)==="Function"&&o.setConfig(e[a])}})}},{key:"playNext",value:function(e){var n=this;this.resetState(),this.setConfig(e),this._currentTime=0,this._duration=0,tt(this,"playnext",function(){n.start(),n.emit(_n,e)})}},{key:"resize",value:function(){var e=this;if(this.media){var n=this.root.getBoundingClientRect();this.sizeInfo.width=n.width,this.sizeInfo.height=n.height,this.sizeInfo.left=n.left,this.sizeInfo.top=n.top;var a=this.media,o=a.videoWidth,l=a.videoHeight,u=this.config,c=u.fitVideoSize,f=u.videoFillMode;if((f==="fill"||f==="cover"||f==="contain")&&this.setAttribute("data-xgfill",f),!(!l||!o)){this._videoHeight=l,this._videoWidth=o;var h=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,v=n.width,g=n.height-h,m=parseInt(o/l*1e3,10),y=parseInt(v/g*1e3,10),x=v,C=g,b={};c==="auto"&&y>m||c==="fixWidth"?(C=v/m*1e3,this.config.fluid?b.paddingTop="".concat(C*100/x,"%"):b.height="".concat(C+h,"px")):(c==="auto"&&y<m||c==="fixHeight")&&(x=m*g/1e3,b.width="".concat(x,"px")),!this.fullscreen&&!this.cssfullscreen&&Object.keys(b).forEach(function(B){e.root.style[B]=b[B]}),(f==="fillHeight"&&y<m||f==="fillWidth"&&y>m)&&this.setAttribute("data-xgfill","cover");var M={videoScale:m,vWidth:x,vHeight:C,cWidth:x,cHeight:C+h};this.resizePosition(),this.emit(mt,M)}}}},{key:"updateObjectPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this.media.updateObjectPosition){this.media.updateObjectPosition(e,n);return}this.media.style.objectPosition="".concat(e*100,"% ").concat(n*100,"%")}},{key:"setState",value:function(e){ve.logInfo("setState","state from:".concat(Tr[this.state]," to:").concat(Tr[e])),this._state=e}},{key:"preProcessUrl",value:function(e,n){var a=this.config,o=a.preProcessUrl,l=a.preProcessUrlOptions,u=Object.assign({},l,n);return!d.isBlob(e)&&typeof o=="function"?o(e,u):{url:e}}},{key:"_seekToStartTime",value:function(){this.__startTime>0&&this.duration>0&&(this.currentTime=this.__startTime>this.duration?this.duration:this.__startTime,this.__startTime=-1)}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){typeof e=="boolean"&&(this._hasStart=e,e===!1&&this.setState(ye.READY),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===ye.RUNNING||this._state===ye.ENDED},set:function(e){e?this.setState(ye.RUNNING):this._state>=ye.RUNNING&&this.setState(ye.ATTACHED)}},{key:"definitionList",get:function(){return!this.config||!this.config.definition?[]:this.config.definition.list||[]},set:function(e){var n=this,a=this.config.definition,o=null,l=null;a.list=e,this.emit("resourceReady",e),e.forEach(function(u){var c;((c=n.curDefinition)===null||c===void 0?void 0:c.definition)===u.definition&&(o=u),a.defaultDefinition===u.definition&&(l=u)}),!l&&e.length>0&&(l=e[0]),o?this.changeDefinition(o):l&&this.changeDefinition(l)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return e;var n=this.media.getVideoPlaybackQuality();return e.dropped=n.droppedVideoFrames||0,e.total=n.totalVideoFrames||0,e.corrupted=n.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){var n=Vt.langKeys.filter(function(a){return a===e});if(n.length===0&&e!=="zh"){console.error("Sorry, set lang fail, because the language [".concat(e,"] is not supported now, list of all supported languages is [").concat(Vt.langKeys.join(),"] "));return}this.config.lang=e,Re.setLang(e,this)}},{key:"i18n",get:function(){var e=this.config.lang;return e==="zh"&&(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return pi}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&&this.plugins.poster.update(e)}},{key:"readyState",get:function(){return ie(ne(i.prototype),"readyState",this)}},{key:"error",get:function(){var e=ie(ne(i.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){return ie(ne(i.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return this._fullScreenOffset!==null}},{key:"cumulateTime",get:function(){var e=this._accPlayed,n=e.acc,a=e.t;return a?new Date().getTime()-a+n:n}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){e=d.convertDeg(e),!(e%90!==0||e===this.videoPos.rotate)&&(this.videoPos.rotate=e,this.resizePosition())}},{key:"avgSpeed",get:function(){return Er},set:function(e){Er=e}},{key:"realTimeSpeed",get:function(){return wr},set:function(e){wr=e}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(e){this._offsetInfo.currentTime=e}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(e){this._offsetInfo.duration=e||0}},{key:"hook",value:function(e,n){return kn.call.apply(kn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,n){return Cn.call.apply(Cn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,n){return Tn.call.apply(Tn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,n,a){for(var o=arguments.length,l=new Array(o>3?o-3:0),u=3;u<o;u++)l[u-3]=arguments[u];return mr.call.apply(mr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,n,a){for(var o=arguments.length,l=new Array(o>3?o-3:0),u=3;u<o;u++)l[u-3]=arguments[u];return yr.call.apply(yr,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,n){var a;typeof n=="boolean"&&n!==this.muted&&(this.addInnerOP("volumechange"),d.typeOf(n)===Boolean&&(this.muted=n)),(a=ht)===null||a===void 0||a.setActive(this.playerId,e)}}],[{key:"debugger",get:function(){return ve.config.debug},set:function(e){ve.config.debug=e}},{key:"instManager",get:function(){return ht},set:function(e){ht=e}},{key:"getCurrentUserActivePlayerId",value:function(){var e;return(e=ht)===null||e===void 0?void 0:e.getActiveId()}},{key:"setCurrentUserActive",value:function(e,n){var a;(a=ht)===null||a===void 0||a.setActive(e,n)}},{key:"isHevcSupported",value:function(){return fe.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return fe.probeConfigSupported(e)}},{key:"install",value:function(e,n){i.plugins||(i.plugins={}),i.plugins[e]||(i.plugins[e]=n)}},{key:"use",value:function(e,n){i.plugins||(i.plugins={}),i.plugins[e]=n}}]),i}(oh);I(Bn,"defaultPreset",null);I(Bn,"XgVideoProxy",null);Bn.instManager=Oa.getInstance();function Ne(){return new Date().getTime()}var gt={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",FIRST_FRAME:"firstFrame",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd"},Ah=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"_onTimeupdate",function(){t._state.isTimeUpdate=!0,t._state.autoplayStart&&(ve.logInfo("[xgLogger]".concat(t.player.playerId," _onTimeupdate")),t._sendFF("onTimeupdate"))}),I(E(t),"_onAutoplayStart",function(){ve.logInfo("[xgLogger]".concat(t.player.playerId," _onAutoplayStart")),t._state.autoplayStart=!0,t.vt&&t._sendFF("onAutoplayStart")}),I(E(t),"_onReset",function(){t._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},t.vt=0,t.pt=0,t.fvt=0,t.newPointTime=Ne(),t.loadedCostTime=0,t.startCostTime=0,t._isSeeking=!1,t.seekingStart=0,t.waitingStart=0,t.fixedWaitingStart=0,t._isWaiting=!1,t._waitTimer&&d.clearTimeout(E(t),t._waitTimer),t._waittTimer&&d.clearTimeout(E(t),t._waittTimer),t._waitTimer=null,t._waittTimer=null,t._waitType=0}),I(E(t),"_onSeeking",function(){t.seekingStart||(t.suspendWaitingStatus("seek"),t.seekingStart=Ne(),t.emitLog(gt.SEEK_START,{start:Ne()}))}),I(E(t),"_onSeeked",function(){t.suspendSeekingStatus("seeked")}),I(E(t),"_onWaitingLoadStart",function(){t._isWaiting||t.vt||(t._isWaiting=!0,t.waitingStart=Ne(),t.fixedWaitingStart=Ne(),t._waitType=1,t.emitLog(gt.WAIT_START,{fixedStart:t.fixedWaitingStart,start:t.waitingStart,type:1,endType:"loadstart"}))}),I(E(t),"_onWaiting",function(){t._isWaiting||!t.vt||(t._isWaiting=!0,t.vt?t.seekingStart?t._waitType=2:t._waitType=0:t._waitType=1,t.fixedWaitingStart=Ne(),t._waitTimer=d.setTimeout(E(t),function(){t._isWaiting&&(t.waitingStart=Ne(),d.clearTimeout(E(t),t._waitTimer),t._waitTimer=null,t._startWaitTimeout(),t.emitLog(gt.WAIT_START,{fixedStart:t.fixedWaitingStart,start:t.waitingStart,type:t._waitType,endType:t._waitType===2?"seek":"playing"}))},200))}),I(E(t),"_onError",function(){t.suspendSeekingStatus("error"),t.suspendWaitingStatus("error")}),I(E(t),"_onPlaying",function(){t._isWaiting&&t.suspendWaitingStatus("playing")}),t}return q(i,[{key:"afterCreate",value:function(){var e=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=Ne(),this.loadedCostTime=0,this.startCostTime=0,this.on(Di,function(){var n=e._state,a=n.autoplayStart,o=n.isFFSend;e.startCostTime=Ne()-e.newPointTime,ve.logInfo("[xgLogger]".concat(e.player.playerId," LOAD_START"),"autoplayStart:".concat(a," isFFSend:").concat(o," startCostTime:").concat(e.startCostTime," newPointTime").concat(e.newPointTime)),!o&&(!n.isLs&&e.emitLog(gt.LOAD_START,{}),n.isLs=!0,n.isTimeUpdate=!1,n.isFFLoading=!0,e.pt=Ne(),e.vt=0,e.fvt=0,e._initOnceEvents(),e._onWaitingLoadStart())}),this.on(ct,function(){e.vt=Ne(),e.fvt=e.vt-e.pt,e.loadedCostTime=e.vt-e.newPointTime;var n=e._state,a=n.isTimeUpdate,o=n.isFFSend,l=n.autoplayStart;ve.logInfo("[xgLogger]".concat(e.player.playerId," LOADED_DATA"),"fvt:".concat(e.fvt," isTimeUpdate:").concat(e._state.isTimeUpdate," loadedCostTime:").concat(e.loadedCostTime)),(a||l)&&e._sendFF("loadedData"),o||e.emitLog(gt.LOADED_DATA,{}),e.suspendWaitingStatus("loadeddata")}),this.on(On,this._onSeeking),this.on(lt,this._onSeeked),this.on(Fi,function(){e.endState("destroy")}),this.on(Nn,function(){e.endState("urlChange"),ve.logInfo("[xgLogger]".concat(e.player.playerId," URL_CHANGE")),e._state.isFFSend&&e._onReset()}),this.on([Mi,st],this._onPlaying),this.on(rn,this._onWaiting),this.on(nn,this._onError),this.on(Fn,function(){ve.logInfo("[xgLogger]".concat(e.player.playerId," RESET")),e.endState("reset"),e._initOnceEvents(),e._onReset()})}},{key:"_initOnceEvents",value:function(){this.off(Et,this._onAutoplayStart),this.off(ze,this._onTimeupdate),this.once(Et,this._onAutoplayStart),this.once(ze,this._onTimeupdate)}},{key:"_sendFF",value:function(e){this.s=Ne();var n=this._state,a=n.isFFLoading,o=n.isFFSend;ve.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(e," fvt:").concat(this.fvt," isFFLoading:").concat(a," !isFFSend:").concat(!o)),this.vt>0&&a&&!o&&(ve.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),e),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(gt.FIRST_FRAME,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var e=this;this._waittTimer&&d.clearTimeout(this,this._waittTimer),this._waittTimer=d.setTimeout(this,function(){e.suspendWaitingStatus("timeout"),d.clearTimeout(e,e._waittTimer),e._waittTimer=null},this.config.waitTimeout)}},{key:"endState",value:function(e){this.suspendWaitingStatus(e),this.suspendSeekingStatus(e)}},{key:"suspendSeekingStatus",value:function(e){if(this.seekingStart){var n=Ne(),a=n-this.seekingStart;this.seekingStart=0,this.emitLog(gt.SEEK_END,{end:n,costTime:a,endType:e})}}},{key:"suspendWaitingStatus",value:function(e){if(this._waitTimer&&(d.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(d.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,!!this.waitingStart){var n=Ne(),a=n-this.waitingStart,o=n-this.fixedWaitingStart,l=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(gt.WAIT_END,{fixedCostTime:o>l?l:o,costTime:a>l?l:a,type:e==="loadeddata"?1:this._waitType,endType:this._waitType===2?"seek":e})}}},{key:"emitLog",value:function(e,n){var a=this.player;this.emit(wa,Ie({t:Ne(),host:d.getHostFromUrl(a.currentSrc),vtype:a.vtype,eventType:e,currentTime:this.player.currentTime,readyState:a.video.readyState,networkState:a.video.networkState},n))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),i}(be);function Mh(){return new DOMParser().parseFromString(`<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">
  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>
</svg>
`,"image/svg+xml").firstChild}var Dh=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"registerIcons",value:function(){return{replay:Mh}}},{key:"afterCreate",value:function(){var e=this;be.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",function(){e.player.replay()},{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(It,function(){if(e.playerConfig.loop||d.addClass(e.player.root,"replay"),!e.config.disable){e.show();var n=e.root.querySelector("path");if(n){var a=window.getComputedStyle(n).getPropertyValue("transform");if(typeof a=="string"&&a.indexOf("none")>-1)return null;n.setAttribute("transform",a)}}}),this.on(je,function(){e.hide()})}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),d.removeClass(this.player.root,"replay")}},{key:"show",value:function(e){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return`<xg-replay class="xgplayer-replay">
      <xg-replay-txt class="xgplayer-replay-txt" lang-key="`.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,`</xg-replay-txt>
    </xg-replay>`)}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),i}(be),Oh=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(e){this.config.isEndedShow=e}},{key:"hide",value:function(){d.addClass(this.root,"hide")}},{key:"show",value:function(e){d.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(e){typeof e.player.config.poster=="string"&&(e.config.poster=e.player.config.poster)}},{key:"afterCreate",value:function(){var e=this;this.on(It,function(){e.isEndedShow&&d.removeClass(e.root,"hide")}),this.config.hideCanplay?(this.once(ze,function(){e.onTimeUpdate()}),this.on(Nn,function(){d.removeClass(e.root,"hide"),d.addClass(e.root,"xg-showplay"),e.once(ze,function(){e.onTimeUpdate()})})):this.on(je,function(){d.addClass(e.root,"hide")})}},{key:"setConfig",value:function(e){var n=this;Object.keys(e).forEach(function(o){n.config[o]=e[o]});var a=this.config.poster;this.update(a)}},{key:"onTimeUpdate",value:function(){var e=this;this.player.currentTime?d.removeClass(this.root,"xg-showplay"):this.once(ze,function(){e.onTimeUpdate()})}},{key:"update",value:function(e){e&&(this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")"))}},{key:"getBgSize",value:function(e){var n="";switch(e){case"cover":n="cover";break;case"contain":n="contain";break;case"fixHeight":n="auto 100%";break;default:n=""}return n?"background-size: ".concat(n,";"):""}},{key:"render",value:function(){var e=this.config,n=e.poster,a=e.hideCanplay,o=e.fillMode,l=e.notHidden,u=this.getBgSize(o),c=n?"background-image:url(".concat(n,");").concat(u):u,f=l?"xg-not-hidden":a?"xg-showplay":"";return'<xg-poster class="xgplayer-poster '.concat(f,'" style="').concat(c,`">
    </xg-poster>`)}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,notHidden:!1,poster:"",fillMode:"fixWidth"}}}]),i}(be);function $i(){return new DOMParser().parseFromString(`<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>
</svg>
`,"image/svg+xml").firstChild}function Vi(){return new DOMParser().parseFromString(`<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>
</svg>
`,"image/svg+xml").firstChild}var et={};function Rh(s,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{start:null,end:null};return et[s]&&window.clearTimeout(et[s].id),et[s]={},i.start&&i.start(),et[s].id=window.setTimeout(function(){i.end&&i.end(),window.clearTimeout(et[s].id),delete et[s]},r),et[s].id}function Sr(s){if(s){window.clearTimeout(s);return}Object.keys(et).map(function(r){window.clearTimeout(et[r].id),delete et[r]})}var Nh=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),I(E(e),"onPlayerReset",function(){e.autoPlayStart=!1;var n=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),d.removeClass(e.root,n),e.show()}),I(E(e),"onAutoplayStart",function(){if(!e.autoPlayStart){var n=e.config.mode==="auto"?"auto-hide":"hide";d.addClass(e.root,n),e.autoPlayStart=!0,e.toggleTo("play")}}),e.autoPlayStart=!1,e}return q(i,[{key:"afterCreate",value:function(){var e=this.playerConfig;this.initIcons(),this.listenEvents(),this.bindClickEvents(),e.autoplay||this.show()}},{key:"listenEvents",value:function(){var e=this,n=this.player,a=this.playerConfig;this.once(Ri,function(){a&&(a.lang&&a.lang==="en"?d.addClass(n.root,"lang-is-en"):a.lang==="jp"&&d.addClass(n.root,"lang-is-jp"))}),this.on(Et,this.onAutoplayStart),this.on(Ni,function(){var o=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),d.removeClass(e.root,o),e.show()}),this.on(je,function(){e.toggleTo("play")}),this.on(jt,function(){e.toggleTo("pause")}),this.on(Fn,function(){e.onPlayerReset()})}},{key:"bindClickEvents",value:function(){var e=this;this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(a){a.cancelable&&a.preventDefault(),a.stopPropagation();var o=e.player.paused;e.emitUserAction(a,"switch_play_pause",{props:"paused",from:o,to:!o})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:$i,class:"xg-icon-play"},startPause:{icon:Vi,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild("xg-start-inner",e.startPlay),this.appendChild("xg-start-inner",e.startPause)}},{key:"hide",value:function(){d.addClass(this.root,"hide")}},{key:"show",value:function(e){d.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){d.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){d.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var n=this;this._animateId=Rh("pauseplay",400,{start:function(){d.addClass(n.root,"interact"),n.show(),n.switchStatus(!0)},end:function(){d.removeClass(n.root,"interact"),!e&&n.hide(),n._animateId=null}})}},{key:"endAnimate",value:function(){d.removeClass(this.root,"interact"),Sr(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(e){var n=this.player;if(e.cancelable&&e.preventDefault(),e.stopPropagation(),!(n.state<ye.READY)){var a=this.player.paused;!a&&n.state===ye.RUNNING?n.pause():n.play()}}},{key:"onPlayPause",value:function(e){this.toggleTo(e)}},{key:"toggleTo",value:function(e){var n=this.config,a=this.player;if(!(!a||a.state<ye.RUNNING||!this.autoPlayStart)){if(n.mode==="show"){this.switchStatus(),this.show();return}if(n.mode==="auto"){this.switchStatus();return}if(n.isShowPause&&a.paused&&!a.ended||n.isShowEnd&&a.ended){this.switchStatus(),this.show(),this.endAnimate();return}if(n.disableAnimate){this.switchStatus(),this.hide();return}if(e==="play")this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||a.ended)return;this.animate()}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),Sr(this._animateId)}},{key:"render",value:function(){var e=this.playerConfig.autoplay?this.config.mode==="auto"?"auto-hide":"hide":"";return`
    <xg-start class="xgplayer-start `.concat(e,`">
    <xg-start-inner></xg-start-inner>
    </xg-start>`)}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),i}(be),Fh=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"render",value:function(){var e=this.config.innerHtml,n=d.createDom("xg-enter","",{},"xgplayer-enter");if(e&&e instanceof window.HTMLElement)n.appendChild(e);else if(e&&typeof e=="string")n.innerHTML=e;else{for(var a="",o=1;o<=12;o++)a+='<div class="xgplayer-enter-bar'.concat(o,'"></div>');n.innerHTML='<div class="xgplayer-enter-spinner">'.concat(a,"</div>")}return n}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),i}(be);function bt(s,r,i){try{return' <div class="xg-tips '.concat(i?"hide":" ",'" lang-key="').concat(s.i18nKeys[r],`">
    `).concat(s.i18n[r],`
    </div>`)}catch{return'<div class="xg-tips hide"></div>'}}var Pr=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return`
      <xg-icon class="xgplayer-miniicon">
      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="`.concat(this.i18nKeys[e],'">').concat(this.i18n[e],`</span></div>
      </xg-icon>`)}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_RIGHT,index:10}}}]),i}(be);function Ir(s){var r=parseFloat(s),i=s.indexOf("%")===-1&&!Number.isNaN(r);return i&&r}var Ui=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],Ra=Ui.length;function Bh(){for(var s={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},r=0;r<Ra;r++){var i=Ui[r];s[i]=0}return s}function Hh(s){var r=window.getComputedStyle(s);return r}function xr(s){if(typeof s=="string"&&(s=document.querySelector(s)),!(!s||Fe(s)!=="object"||!s.nodeType)){var r=Hh(s);if(r.display==="none")return Bh();var i={};i.width=s.offsetWidth,i.height=s.offsetHeight;for(var t=i.isBorderBox=r.boxSizing==="border-box",e=0;e<Ra;e++){var n=Ui[e],a=r[n],o=parseFloat(a);i[n]=Number.isNaN(o)?0:o}var l=i.paddingLeft+i.paddingRight,u=i.paddingTop+i.paddingBottom,c=i.marginLeft+i.marginRight,f=i.marginTop+i.marginBottom,h=i.borderLeftWidth+i.borderRightWidth,v=i.borderTopWidth+i.borderBottomWidth,g=t,m=Ir(r.width);m!==!1&&(i.width=m+(g?0:l+h));var y=Ir(r.height);return y!==!1&&(i.height=y+(g?0:u+v)),i.innerWidth=i.width-(l+h),i.innerHeight=i.height-(u+v),i.outerWidth=i.width+c,i.outerHeight=i.height+f,i}}function ei(s,r){for(var i=0;i<s.length;i++){var t=s[i];if(t.identifier===r)return t}}var ti={START:"dragStart",MOVE:"dragMove",ENDED:"dragEnded"},Lr={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},$h=function(s){Q(i,s);var r=ee(i);function i(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Y(this,i),e=r.call(this),e.isEnabled=!0,e.isDragging=!1,e.isDown=!1,e.position={},e.downPoint={},e.dragPoint={x:0,y:0},e.startPos={x:0,y:0},e._root=t instanceof Element?t:document.querySelector(t),e._handlerDom=n.handle instanceof Element?n.handle:document.querySelector(n.handle),!e._root||!e._handlerDom?Ai(e):(e._bindStartEvent(),e)}return q(i,[{key:"_bindStartEvent",value:function(){var e=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),Lr[this._startKey].map(function(n){e["on".concat(n)]=e["on".concat(n)].bind(e)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(e){var n=this;if(e){var a=Lr[this._startKey];a.map(function(o){window.addEventListener(o,n["on".concat(o)])}),this._boundPointerEvents=a}}},{key:"_unbindPostStartEvents",value:function(){var e=this;this._boundPointerEvents&&(this._boundPointerEvents.map(function(n){window.removeEventListener(n,e["on".concat(n)])}),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(e){this.onUp()}},{key:"animate",value:function(){var e=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame(function(){e.animate()}))}},{key:"positionDrag",value:function(){var e="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(e){this.dragStart(e,e)}},{key:"onmousemove",value:function(e){this.dragMove(e,e)}},{key:"onmouseup",value:function(e){this.dragEnd(e,e)}},{key:"ontouchstart",value:function(e){var n=e.changedTouches[0];this.dragStart(e,n),this.touchIdentifier=n.pointerId!==void 0?n.pointerId:n.identifier,e.preventDefault()}},{key:"ontouchmove",value:function(e){var n=ei(e.changedTouches,this.touchIdentifier);n&&this.dragMove(e,n)}},{key:"ontouchend",value:function(e){var n=ei(e.changedTouches,this.touchIdentifier);n&&this.dragEnd(e,n),e.preventDefault()}},{key:"ontouchcancel",value:function(e){var n=ei(e.changedTouches,this.touchIdentifier);n&&this.dragCancel(e,n)}},{key:"dragStart",value:function(e,n){if(!(!this._root||this.isDown||!this.isEnabled)){this.downPoint=n,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var a=xr(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-a.height,this.startPos.maxX=window.innerWidth-a.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(e)}}},{key:"dragRealStart",value:function(e,n){this.isDragging=!0,this.animate(),this.emit(ti.START,this.startPos)}},{key:"dragEnd",value:function(e,n){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(ti.ENDED)),this.presetInfo())}},{key:"_dragPointerMove",value:function(e,n){var a={x:n.pageX-this.downPoint.pageX,y:n.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(a)&&this.dragRealStart(e,n),a}},{key:"dragMove",value:function(e,n){if(e=e||window.event,!!this.isDown){var a=this.startPos,o=a.x,l=a.y,u=this._dragPointerMove(e,n),c=u.x,f=u.y;c=this.checkContain("x",c,o),f=this.checkContain("y",f,l),this.position.x=o+c,this.position.y=l+f,this.dragPoint.x=c,this.dragPoint.y=f,this.emit(ti.MOVE,this.position)}}},{key:"dragCancel",value:function(e,n){this.dragEnd(e,n)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3}},{key:"checkContain",value:function(e,n,a){return n+a<0?0-a:e==="x"&&n+a>this.startPos.maxX?this.startPos.maxX-a:e==="y"&&n+a>this.startPos.maxY?this.startPos.maxY-a:n}},{key:"_getPosition",value:function(){var e=window.getComputedStyle(this._root),n=this._getPositionCoord(e.left,"width"),a=this._getPositionCoord(e.top,"height");this.position.x=Number.isNaN(n)?0:n,this.position.y=Number.isNaN(a)?0:a,this._addTransformPosition(e)}},{key:"_addTransformPosition",value:function(e){var n=e.transform;if(n.indexOf("matrix")===0){var a=n.split(","),o=n.indexOf("matrix3d")===0?12:4,l=parseInt(a[o],10),u=parseInt(a[o+1],10);this.position.x+=l,this.position.y+=u}}},{key:"_getPositionCoord",value:function(e,n){if(e.indexOf("%")!==-1){var a=xr(this._root.parentNode);return a?parseFloat(e)/100*a[n]:0}return parseInt(e,10)}}]),i}(fa),Vh=function(s){Q(i,s);var r=ee(i);function i(t){var e;Y(this,i),e=r.call(this,t),I(E(e),"onCancelClick",function(o){e.exitMini(),e.isClose=!0}),I(E(e),"onCenterClick",function(o){var l=E(e),u=l.player;u.paused?u.play():u.pause()}),I(E(e),"onScroll",function(o){if(!(!window.scrollY&&window.scrollY!==0||Math.abs(window.scrollY-e.pos.scrollY)<50)){var l=parseInt(d.getCss(e.player.root,"height"));l+=e.config.scrollTop,e.pos.scrollY=window.scrollY,window.scrollY>l+5?!e.isMini&&!e.isClose&&e.getMini():window.scrollY<=l&&(e.isMini&&e.exitMini(),e.isClose=!1)}}),e.isMini=!1,e.isClose=!1;var n=E(e),a=n.config;return e.pos={left:a.left<0?window.innerWidth-a.width-20:a.left,top:a.top<0?window.innerHeight-a.height-20:a.top,height:e.config.height,width:e.config.width,scrollY:window.scrollY||0},e.lastStyle=null,e}return q(i,[{key:"beforeCreate",value:function(e){typeof e.player.config.mini=="boolean"&&(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.on(jt,function(){e.setAttr("data-state","pause")}),this.on(je,function(){e.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var e=this,n=this.player,a=this.config;if(!a.disable){if(this.config.isShowIcon){var o={config:{onClick:function(){e.getMini()}}};n.controls.registerPlugin(Pr,o,Pr.pluginName)}var l=d.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",l,this.onCancelClick),this.bind(".play-icon",l,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new $h(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:$i,class:"xg-icon-play"},pause:{icon:Vi,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"getMini",value:function(){var e=this;if(!this.isMini){var n=this.player,a=this.playerConfig,o=this.config.target||this.player.root;this.lastStyle={},d.addClass(n.root,"xgplayer-mini"),["width","height","top","left"].map(function(l){e.lastStyle[l]=o.style[l],o.style[l]="".concat(e.pos[l],"px")}),a.fluid&&(o.style["padding-top"]=""),this.emit(yn,!0),n.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var e=this;if(!this.isMini)return!1;var n=this.player,a=this.playerConfig,o=this.config.target||this.player.root;d.removeClass(n.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(l){o.style[l]=e.lastStyle[l]}),this.lastStyle=null,a.fluid&&(n.root.style.width="100%",n.root.style.height="0",n.root.style["padding-top"]="".concat(a.height*100/a.width,"%")),this.emit(yn,!1),this.isMini=n.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var e=d.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",e,this.onCancelClick),this.unbind(".play-icon",e,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return`
      <xg-mini-layer class="xg-mini-layer">
      <xg-mini-header class="xgplayer-mini-header">
      `.concat(bt(this,"MINI_DRAG",this.playerConfig.isHideTips),`
      </xg-mini-header>
      <div class="mini-cancel-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>
        </svg>
      </div>
      <div class="play-icon">
      </div>
      </xg-mini-layer>`)}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),i}(be),on={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},ni=["videoClick","videoDbClick"],ii=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"onMouseMove",function(o){var l=E(t),u=l.player,c=l.playerConfig;u.isActive||(u.focus({autoHide:!c.closeDelayBlur}),!c.closeFocusVideoFocus&&u.media.focus())}),I(E(t),"onMouseEnter",function(o){var l=E(t),u=l.playerConfig,c=l.player;!u.closeFocusVideoFocus&&c.media.focus(),u.closeDelayBlur?c.focus({autoHide:!1}):c.focus(),t.emit(_a)}),I(E(t),"onMouseLeave",function(o){var l=t.playerConfig,u=l.closePlayerBlur,c=l.leavePlayerTime,f=l.closeDelayBlur;!u&&!f&&(c?t.player.focus({autoHide:!0,delay:c}):t.player.blur({ignorePaused:!0})),t.emit(ya)}),I(E(t),"onVideoClick",function(o){var l=E(t),u=l.player,c=l.playerConfig;o.target&&c.closeVideoClick||(o.target===u.root||o.target===u.media||o.target===u.innerContainer||o.target===u.media.__canvas)&&(o.preventDefault(),c.closeVideoStopPropagation||o.stopPropagation(),t._clickCount++,t.clickTimer&&(clearTimeout(t.clickTimer),t.clickTimer=null),t.clickTimer=setTimeout(function(){t._clickCount&&(t._clickCount--,tt(E(t),ni[0],function(f,h){t.switchPlayPause(h.e)},{e:o,paused:u.paused}),clearTimeout(t.clickTimer),t.clickTimer=null)},300))}),I(E(t),"onVideoDblClick",function(o){var l=E(t),u=l.player,c=l.playerConfig;if(!(c.closeVideoDblclick||!o.target||o.target!==u.media&&o.target!==u.media.__canvas)){if(!c.closeVideoClick&&t._clickCount<2){t._clickCount=0;return}t._clickCount=0,t.clickTimer&&(clearTimeout(t.clickTimer),t.clickTimer=null),o.preventDefault(),o.stopPropagation(),tt(E(t),ni[1],function(f,h){t.emitUserAction(h.e,"switch_fullscreen",{props:"fullscreen",from:u.fullscreen,to:!u.fullscreen}),u.fullscreen?u.exitFullscreen():u.getFullscreen()},{e:o,fullscreen:u.fullscreen})}}),t}return q(i,[{key:"afterCreate",value:function(){var e=this;this._clickCount=0,ni.map(function(a){e.__hooks[a]=null});var n=this.playerConfig.isMobileSimulateMode;n==="mobile"||fe.device==="mobile"&&!fe.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var e=this,n=this.player,a=n.media,o=n.root,l=this.playerConfig.enableContextmenu;o&&o.addEventListener("click",this.onVideoClick,!1),o&&o.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(on).map(function(u){o.addEventListener(u,e[on[u]],!1)}),!l&&a&&a.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var n=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:n.paused,to:!n.paused}),n.ended?n.duration!==1/0&&n.duration>0&&n.replay():n.paused?n.play():n.pause()}},{key:"onContextmenu",value:function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this,n=this.player,a=n.video,o=n.root;this.clickTimer&&clearTimeout(this.clickTimer),o.removeEventListener("click",this.onVideoClick,!1),o.removeEventListener("dblclick",this.onVideoDblClick,!1),a.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(on).map(function(l){o.removeEventListener(l,e[on[l]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),i}(yt),vt={PRESS:"press",PRESS_END:"pressend",DOUBlE_CLICK:"doubleclick",CLICK:"click",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart",TOUCH_END:"touchend"},Uh={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},zh={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function Ar(s){return s&&s.length>0?s[s.length-1]:null}function jh(){return{pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0}}var Wh=function(){function s(r){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{eventType:"touch"};Y(this,s),I(this,"onTouchStart",function(e){var n=i._pos,a=i.root,o=Ar(e.touches);n.x=o?parseInt(o.pageX,10):e.pageX,n.y=o?parseInt(o.pageX,10):e.pageX,n.start=!0,i.__setPress(e),a.addEventListener(i.events.end,i.onTouchEnd),a.addEventListener(i.events.cancel,i.onTouchCancel),a.addEventListener(i.events.move,i.onTouchMove),i.trigger(vt.TOUCH_START,e)}),I(this,"onTouchCancel",function(e){i.onTouchEnd(e)}),I(this,"onTouchEnd",function(e){var n=i._pos,a=i.root;i.__clearPress(),a.removeEventListener(i.events.cancel,i.onTouchCancel),a.removeEventListener(i.events.end,i.onTouchEnd),a.removeEventListener(i.events.move,i.onTouchMove),e.moving=n.moving,e.press=n.press,n.press&&i.trigger(vt.PRESS_END,e),i.trigger(vt.TOUCH_END,e),!n.press&&!n.moving&&i.__setDb(e),n.press=!1,n.start=!1,n.moving=!1}),I(this,"onTouchMove",function(e){var n=i._pos,a=i.config,o=Ar(e.touches),l=o?parseInt(o.pageX,10):e.pageX,u=o?parseInt(o.pageY,10):e.pageX,c=l-n.x,f=u-n.y;Math.abs(f)<a.miniStep&&Math.abs(c)<a.miniStep||(i.__clearPress(),n.press&&i.trigger(vt.PRESS_END,e),n.press=!1,n.moving=!0,i.trigger(vt.TOUCH_MOVE,e))}),this._pos={moving:!1,start:!1,x:0,y:0},this.config=jh(),Object.keys(t).map(function(e){i.config[e]=t[e]}),this.root=r,this.events=t.eventType==="mouse"?zh:Uh,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return q(s,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(i){var t=this,e=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout(function(){t.trigger(vt.PRESS,i),t._pos.press=!0,t.__clearPress()},e.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(i){var t=this,e=this.config;if(this.dbIntrvalId){this.__clearDb(),this.trigger(vt.DOUBlE_CLICK,i);return}this.dbIntrvalId=setTimeout(function(){t.__clearDb(),!t._pos.start&&!t._pos.press&&!t._pos.moving&&t.trigger(vt.CLICK,i)},e.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(i,t){this.__handlers[i]||(this.__handlers[i]=[]),this.__handlers[i].push(t)}},{key:"off",value:function(i,t){if(this.__handlers[i]){for(var e=this.__handlers[i],n=-1,a=0;a<e.length;a++)if(e[a]===t){n=a;break}n>=0&&this.__handlers[i].splice(n,1)}}},{key:"trigger",value:function(i,t){this.__handlers[i]&&this.__handlers[i].map(function(e){try{e(t)}catch(n){console.error("trigger>>:".concat(i),n)}})}},{key:"destroy",value:function(){var i=this,t={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(t).forEach(function(e){i.root.removeEventListener(e,i[t[e]])})}}]),s}();function Gh(){return new DOMParser().parseFromString(`<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path opacity="0.54"
    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"
    fill="white" />
  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>
</svg>`,"image/svg+xml").firstChild}var Dt={AUTO:"auto",SEEKING:"seeking",PLAYBACK:"playbackrate",LIGHT:""},ri=["videoClick","videoDbClick"],Kh=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),I(E(e),"onTouchStart",function(n){var a=E(e),o=a.player,l=a.config,u=a.pos,c=a.playerConfig,f=e.getTouche(n);if(f&&!l.disableGesture&&e.duration>0&&!o.ended){u.isStart=!0,e.timer&&clearTimeout(e.timer),d.checkIsFunction(c.disableSwipeHandler)&&c.disableSwipeHandler(),e.find(".xg-dur").innerHTML=d.format(e.duration);var h=e.root.getBoundingClientRect();o.rotateDeg===90?(u.top=h.left,u.left=h.top,u.width=h.height,u.height=h.width):(u.top=h.top,u.left=h.left,u.width=h.width,u.height=h.height);var v=parseInt(f.pageX-u.left,10),g=parseInt(f.pageY-u.top,10);u.x=o.rotateDeg===90?g:v,u.y=o.rotateDeg===90?v:g,u.scopeL=l.scopeL*u.width,u.scopeR=(1-l.scopeR)*u.width,u.scopeM1=u.width*(1-l.scopeM)/2,u.scopeM2=u.width-u.scopeM1}}),I(E(e),"onTouchMove",function(n){var a=e.getTouche(n),o=E(e),l=o.pos,u=o.config,c=o.player;if(!(!a||u.disableGesture||!e.duration||!l.isStart)){var f=u.miniMoveStep,h=u.hideControlsActive,v=parseInt(a.pageX-l.left,10),g=parseInt(a.pageY-l.top,10),m=c.rotateDeg===90?g:v,y=c.rotateDeg===90?v:g;if(Math.abs(m-l.x)>f||Math.abs(y-l.y)>f){var x=m-l.x,C=y-l.y,b=l.scope;if(b===-1&&(b=e.checkScope(m,y,x,C,l),b===0&&(h?c.blur():c.focus({autoHide:!1}),!l.time&&(l.time=parseInt(c.currentTime*1e3,10)+e.timeOffset*1e3)),l.scope=b),b===-1||b>0&&!u.gestureY||b===0&&!u.gestureX)return;e.executeMove(x,C,b,l.width,l.height),l.x=m,l.y=y}}}),I(E(e),"onTouchEnd",function(n){var a=E(e),o=a.player,l=a.pos,u=a.playerConfig;if(setTimeout(function(){o.getPlugin("progress")&&o.getPlugin("progress").resetSeekState()},10),!!l.isStart){l.scope>-1&&n.cancelable&&n.preventDefault();var c=e.config,f=c.disableGesture,h=c.gestureX;!f&&h?e.endLastMove(l.scope):l.time=0,l.scope=-1,e.resetPos(),d.checkIsFunction(u.enableSwipeHandler)&&u.enableSwipeHandler(),e.changeAction(Dt.AUTO)}}),I(E(e),"onRootTouchMove",function(n){e.config.disableGesture||!e.config.gestureX||e.checkIsRootTarget(n)&&(n.stopPropagation(),e.pos.isStart?e.onTouchMove(n):e.onTouchStart(n))}),I(E(e),"onRootTouchEnd",function(n){e.pos.scope>-1&&e.onTouchEnd(n)}),e.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},e.timer=null,e}return q(i,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:Gh,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var e=this;ri.map(function(h){e.__hooks[h]=null});var n=this.playerConfig,a=this.config,o=this.player;n.closeVideoDblclick===!0&&(a.closedbClick=!0),this.resetPos(),d.isUndefined(n.disableGesture)||(a.disableGesture=!!n.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=d.createDom("xg-mask","",{},"xgmask"),o.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var l=this.domEventType==="mouse"?"mouse":"touch";this.touch=new Wh(this.root,{eventType:l,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(h){h.preventDefault()}),o.root.addEventListener("touchmove",this.onRootTouchMove,!0),o.root.addEventListener("touchend",this.onRootTouchEnd,!0),o.root.addEventListener("touchcancel",this.onRootTouchEnd,!0);var u=this.player.controls;u&&u.center&&(u.center.addEventListener("touchmove",this.onRootTouchMove,!0),u.center.addEventListener("touchend",this.onRootTouchEnd,!0),u.center.addEventListener("touchcancel",this.onRootTouchEnd,!0)),this.on(dt,function(){var h=e.player,v=e.config;h.duration>0&&h.duration*1e3<v.moveDuration&&(v.moveDuration=h.duration*1e3)}),this.on([st,It],function(){var h=e.pos,v=h.time,g=h.isStart;!g&&v>0&&(e.pos.time=0)});var c={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(c).map(function(h){e.touch.on(h,function(v){e[c[h]](v)})}),!a.disableActive){var f=o.plugins.progress;f&&(f.addCallBack("dragmove",function(h){e.activeSeekNote(h.currentTime,h.forward)}),["dragend","click"].forEach(function(h){f.addCallBack(h,function(){e.changeAction(Dt.AUTO)})}))}}},{key:"registerThumbnail",value:function(){var e=this.player,n=e.plugins.thumbnail;if(n&&n.usable){this.thumbnail=n.createThumbnail(null,"mobile-thumbnail");var a=this.find(".time-preview");a.insertBefore(this.thumbnail,a.children[0])}}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},n=e.commonStyle,a=n.playedColor,o=n.progressColor,l=n.timePreviewStyle,u=n.curTimeColor,c=n.durationColor;if(a&&(this.find(".xg-curbar").style.backgroundColor=a),o&&(this.find(".xg-bar").style.backgroundColor=o),l){var f=this.find(".time-preview");Object.keys(l).forEach(function(g){f.style[g]=l[g]})}var h=u||a,v=c;h&&(this.find(".xg-cur").style.color=h),v&&(this.find(".xg-dur").style.color=v),this.config.disableTimeProgress&&d.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var e=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(n){e.pos[n]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(e){var n=this.player,a=this.root;a.setAttribute("data-xg-action",e);var o=n.plugins.start;o&&o.recover()}},{key:"getTouche",value:function(e){var n=this.player.rotateDeg,a=e.touches&&e.touches.length>0?e.touches[e.touches.length-1]:e;return n===0?{pageX:a.pageX,pageY:a.pageY}:{pageX:a.pageX,pageY:a.pageY}}},{key:"checkScope",value:function(e,n,a,o,l){var u=l.width,c=-1;if(e<0||e>u)return c;var f=Math.abs(o===0?a:a/o);return Math.abs(a)>0&&f>=1.73&&e>l.scopeM1&&e<l.scopeM2?c=0:(Math.abs(a)===0||f<=.57)&&(c=e<l.scopeL?1:e>l.scopeR?2:3),c}},{key:"executeMove",value:function(e,n,a,o,l){switch(a){case 0:this.updateTime(e/o*this.config.scopeM);break;case 1:this.updateBrightness(n/l);break;case 2:fe.os.isIos||this.updateVolume(n/l);break}}},{key:"endLastMove",value:function(e){var n=this,a=this.pos,o=this.player,l=this.config,u=(a.time-this.timeOffset)/1e3;switch(e){case 0:o.seek(Number(u).toFixed(1)),l.hideControlsEnd?o.blur():o.focus(),this.timer=setTimeout(function(){n.pos.time=0},500);break}this.changeAction(Dt.AUTO)}},{key:"checkIsRootTarget",value:function(e){var n=this.player.plugins||{};return n.progress&&n.progress.root.contains(e.target)?!1:n.start&&n.start.root.contains(e.target)||n.controls&&n.controls.root.contains(e.target)}},{key:"sendUseAction",value:function(e){var n=this.player.paused;this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:n,to:!n})}},{key:"clickHandler",value:function(e){var n=this.player,a=this.config,o=this.playerConfig;if(n.state<ye.RUNNING){o.closeVideoClick||(this.sendUseAction(d.createEvent("click")),n.play());return}!a.closedbClick||o.closeVideoClick?n.isActive?n.blur():n.focus():o.closeVideoClick||((n.isActive||a.focusVideoClick)&&(this.sendUseAction(d.createEvent("click")),this.switchPlayPause()),n.focus())}},{key:"dbClickHandler",value:function(e){var n=this.config,a=this.player;!n.closedbClick&&a.state>=ye.RUNNING&&(this.sendUseAction(d.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(e){var n=this,a=this.player;tt(this,ri[0],function(o,l){n.clickHandler(l.e)},{e,paused:a.paused})}},{key:"onDbClick",value:function(e){var n=this,a=this.player;tt(this,ri[1],function(o,l){n.dbClickHandler(l.e)},{e,paused:a.paused})}},{key:"onPress",value:function(e){var n=this.pos,a=this.config,o=this.player;a.disablePress||(n.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:o.playbackRate,to:a.pressRate}),o.playbackRate=a.pressRate,this.changeAction(Dt.PLAYBACK))}},{key:"onPressEnd",value:function(e){var n=this.pos,a=this.config,o=this.player;a.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:o.playbackRate,to:n.rate}),o.playbackRate=n.rate,n.rate=1,this.changeAction(Dt.AUTO))}},{key:"updateTime",value:function(e){var n=this.player,a=this.config,o=this.player.duration;e=Number(e.toFixed(4));var l=parseInt(e*a.moveDuration,10)+this.timeOffset;l+=this.pos.time,l=l<0?0:l>o*1e3?o*1e3-200:l,n.getPlugin("time")&&n.getPlugin("time").updateTime(l/1e3),n.getPlugin("progress")&&n.getPlugin("progress").updatePercent(l/1e3/this.duration,!0),this.activeSeekNote(l/1e3,e>0),a.isTouchingSeek&&n.seek(Number((l-this.timeOffset)/1e3).toFixed(1)),this.pos.time=l}},{key:"updateVolume",value:function(e){this.player.rotateDeg&&(e=-e);var n=this.player,a=this.pos;if(e=parseInt(e*100,10),a.volume+=e,!(Math.abs(a.volume)<10)){var o=parseInt(n.volume*10,10)-parseInt(a.volume/10,10);o=o>10?10:o<1?0:o,n.volume=o/10,a.volume=0}}},{key:"updateBrightness",value:function(e){var n=this.pos,a=this.config,o=this.xgMask;if(a.darkness){this.player.rotateDeg&&(e=-e);var l=n.light+.8*e;l=l>a.maxDarkness?a.maxDarkness:l<0?0:l,o&&(o.style.backgroundColor="rgba(0,0,0,".concat(l,")")),n.light=l}}},{key:"activeSeekNote",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this.player,o=this.config,l=!(this.duration!==1/0&&this.duration>0);if(!(!e||typeof e!="number"||l||o.disableActive)){e<0?e=0:e>a.duration&&(e=a.duration-.2),this.changeAction(Dt.SEEKING);var u=a.plugins.start;u&&u.focusHide(),this.find(".xg-dur").innerHTML=d.format(this.duration),this.find(".xg-cur").innerHTML=d.format(e),this.find(".xg-curbar").style.width="".concat(e/this.duration*100,"%"),n?d.removeClass(this.find(".xg-seek-show"),"xg-back"):d.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(e)}}},{key:"updateThumbnails",value:function(e){var n=this.player,a=n.plugins.thumbnail;a&&a.usable&&this.thumbnail&&a.update(this.thumbnail,e,160,90)}},{key:"switchPlayPause",value:function(){var e=this.player;if(e.state<ye.ATTACHED)return!1;e.ended||(e.paused?e.play():e.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!0}},{key:"enableGesture",value:function(){this.config.disableGesture=!1}},{key:"destroy",value:function(){var e=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,e.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,e.root.removeEventListener("touchmove",this.onRootTouchMove,!0),e.root.removeEventListener("touchend",this.onRootTouchEnd,!0),e.root.removeEventListener("touchcancel",this.onRootTouchEnd,!0);var n=this.player.controls;n&&n.center&&(n.center.removeEventListener("touchmove",this.onRootTouchMove,!0),n.center.removeEventListener("touchend",this.onRootTouchEnd,!0),n.center.removeEventListener("touchcancel",this.onRootTouchEnd,!0))}},{key:"render",value:function(){var e=this.config.gradient!=="normal"?"gradient ".concat(this.config.gradient):"gradient";return`
     <xg-trigger class="trigger">
     <div class="`.concat(e,`"></div>
        <div class="time-preview">
            <div class="xg-seek-show `).concat(this.config.disableSeekIcon?" hide-seek-icon":"",`">
              <i class="xg-seek-icon"></i>
              <span class="xg-cur">00:00</span>
              <span class="xg-separator">/</span>
              <span class="xg-dur">00:00</span>
            </div>
              <div class="xg-bar xg-timebar">
                <div class="xg-curbar"></div>
              </div>
        </div>
        <div class="xg-playbackrate xg-top-note">
            <span><i>`).concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,`</span>
        </div>
     </xg-trigger>
    `)}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:60*6*1e3,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),i}(be);function Yh(s){s.preventDefault(),s.returnValue=!1}function Mr(s){var r=s.tagName;return!!(r==="INPUT"||r==="TEXTAREA"||s.isContentEditable)}var Dr=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"onBodyKeyDown",function(o){if(t.player){var l=o||window.event,u=l.keyCode,c=E(t),f=c._keyState,h=c.player,v=t.config,g=v.disable,m=v.disableBodyTrigger,y=v.isIgnoreUserActive;if(g||m||!(h.isUserActive||y)||Mr(l.target)||!t.checkIsVisible()||l.metaKey||l.altKey||l.ctrlKey){f.isBodyKeyDown=!1;return}!o.repeat&&!f.isKeyDown&&((l.target===document.body||t.config.isGlobalTrigger&&!Mr(l.target))&&t.checkCode(u,!0)&&(f.isBodyKeyDown=!0),document.addEventListener("keyup",t.onBodyKeyUp)),f.isBodyKeyDown&&t.handleKeyDown(l)}}),I(E(t),"onBodyKeyUp",function(o){t.player&&(document.removeEventListener("keyup",t.onBodyKeyUp),t.handleKeyUp(o))}),I(E(t),"onKeydown",function(o){if(t.player){var l=o||window.event,u=E(t),c=u._keyState;if(!l.repeat){if(t.config.disable||t.config.disableRootTrigger||l.metaKey||l.altKey||l.ctrlKey)return;l&&(l.keyCode===37||t.checkCode(l.keyCode))&&(l.target===t.player.root||l.target===t.player.video||l.target===t.player.controls.el)&&(c.isKeyDown=!0),t.player.root.addEventListener("keyup",t.onKeyup)}c.isKeyDown&&t.handleKeyDown(l)}}),I(E(t),"onKeyup",function(o){t.player&&(t.player.root.removeEventListener("keyup",t.onKeyup),t.handleKeyUp(o))}),t}return q(i,[{key:"mergekeyCodeMap",value:function(){var e=this,n=this.config.keyCodeMap;n&&Object.keys(n).map(function(a){e.keyCodeMap[a]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(o){n[a][o]&&(e.keyCodeMap[a][o]=n[a][o])}):e.keyCodeMap[a]=n[a]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e=typeof this.config.seekStep=="function"?this.config.seekStep(this.player):this.config.seekStep;!e||typeof e!="number"||(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"setConfig",value:function(e){var n=this;Object.keys(e).forEach(function(a){n.config[a]=e[a]})}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var e=this.player.root.getBoundingClientRect(),n=e.height,a=e.top,o=e.bottom,l=window.innerHeight;return!(a<0&&a<0-n*.9||o>0&&o-l>n*.9)}},{key:"checkCode",value:function(e,n){var a=this,o=!1;return Object.keys(this.keyCodeMap).map(function(l){a.keyCodeMap[l]&&e===a.keyCodeMap[l].keyCode&&!a.keyCodeMap[l].disable&&(o=!n||n&&!a.keyCodeMap[l].noBodyTarget)}),o}},{key:"downVolume",value:function(e){var n=this.player;if(!(n.volume<=0)){var a=parseFloat((n.volume-.1).toFixed(1)),o={volume:{from:n.volume,to:a}};this.emitUserAction(e,"change_volume",{props:o}),a>=0?n.volume=a:n.volume=0}}},{key:"upVolume",value:function(e){var n=this.player;if(!(n.volume>=1)){var a=parseFloat((n.volume+.1).toFixed(1)),o={volume:{from:n.volume,to:a}};this.emitUserAction(e,"change_volume",{props:o}),a<=1?n.volume=a:n.volume=1}}},{key:"seek",value:function(e){var n=this.player,a=n.currentTime,o=n.offsetCurrentTime,l=n.duration,u=n.offsetDuration,c=n.timeSegments,f=o>-1?o:a,h=u||l,v=e.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;f+v<=h?f=f+v:f=h;var g=d.getCurrentTimeByOffset(f,c),m={currentTime:{from:a,to:g}};this.emitUserAction(e,"seek",{props:m}),this.player.currentTime=g}},{key:"seekBack",value:function(e){var n=this.player,a=n.currentTime,o=n.offsetCurrentTime,l=n.timeSegments,u=e.repeat?parseInt(this.seekStep/2,10):this.seekStep,c=o>-1?o:a,f=c-u;f<0&&(f=0),f=d.getCurrentTimeByOffset(f,l);var h={currentTime:{from:a,to:f}};this.emitUserAction(e,"seek",{props:h}),this.player.currentTime=f}},{key:"changePlaybackRate",value:function(e){var n=this._keyState,a=this.config,o=this.player;n.playbackRate===0&&(n.playbackRate=o.playbackRate,o.playbackRate=a.playbackRate)}},{key:"playPause",value:function(e){var n=this.player;n&&(this.emitUserAction(e,"switch_play_pause"),n.paused?n.play():n.pause())}},{key:"exitFullscreen",value:function(e){var n=this.player,a=n.fullscreen,o=n.cssfullscreen;a&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:a,to:!a}),n.exitFullscreen()),o&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:o,to:!o}),n.exitCssFullscreen())}},{key:"handleKeyDown",value:function(e){var n=this._keyState;if(e.repeat){n.isPress=!0;var a=Date.now();if(a-n.tt<200)return;n.tt=a}this.handleKeyCode(e.keyCode,e,n.isPress)}},{key:"handleKeyUp",value:function(e){var n=this._keyState;n.playbackRate>0&&(this.player.playbackRate=n.playbackRate,n.playbackRate=0),n.isKeyDown=!1,n.isPress=!1,n.tt=0}},{key:"handleKeyCode",value:function(e,n,a){for(var o=Object.keys(this.keyCodeMap),l=0;l<o.length;l++){var u=this.keyCodeMap[o[l]],c=u.action,f=u.keyCode,h=u.disable,v=u.pressAction,g=u.disablePress;if(f===e){if(!h&&!(a&&g)){var m=a&&v||c;typeof m=="function"?c(n,this.player,a):typeof m=="string"&&typeof this[m]=="function"&&this[m](n,this.player,a),this.emit(Ta,Ie({key:o[l],target:n.target,isPress:a},this.keyCodeMap[o[l]]))}Yh(n),n.stopPropagation();break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!0,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!0}}}]),i}(yt);function qh(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">
  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>
</svg>
`,"image/svg+xml").firstChild}var Xh=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"registerIcons",value:function(){return{loadingIcon:qh}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return`
    <xg-loading class="xgplayer-loading">
      <xg-loading-inner></xg-loading-inner>
    </xg-loading>`}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:Ee.ROOT}}}]),i}(be),Zh=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],Jh=function(){function s(r){Y(this,s),this.fragments=r.fragments||[],this.fragments.length===0&&this.fragments.push({percent:1}),this._callBack=r.actionCallback,this.fragConfig={fragFocusClass:r.fragFocusClass||"inner-focus-point",fragAutoFocus:!!r.fragAutoFocus,fragClass:r.fragClass||""},this.style=r.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return q(s,[{key:"updateDuration",value:function(i){var t=this;this.duration=i;var e=0,n=this.fragments;this.fragments=n.map(function(a){return a.start=parseInt(e,10),a.end=parseInt(e+a.percent*t.duration,10),a.duration=parseInt(a.percent*t.duration,10),e+=a.percent*t.duration,a})}},{key:"updateProgress",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"played",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},e=this.progressList,n=this.fragments;if(!(e.length<1)){var a=t.newIndex,o=t.curIndex,l=t.millisecond;a!==o&&e.map(function(f,h){h<a?f[i].style.width="100%":h>a&&(f[i].style.width=0)});var u=n[a],c=l===0?0:(l-u.start)/u.duration;e[a][i].style.width=c<0?0:"".concat(c*100,"%")}}},{key:"updateFocus",value:function(i){if(!(!this.fragConfig.fragAutoFocus||this.fragments.length<2)){if(!i){if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var t={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(t),this.focusIndex=-1}return}var e=this.findIndex(i.currentTime*1e3,this.focusIndex);if(e>=0&&e!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(e);var n={index:e,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=e,this._callBack&&this._callBack(n)}}}},{key:"update",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},t=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(t*1e3,10)!==this.duration){if(!t&&t!==0)return;this.updateDuration(parseInt(t*1e3,10))}var e=this.playedIndex,n=this.cachedIndex;if(d.typeOf(i.played)!=="Undefined"){var a=this.findIndex(i.played*1e3,e);if(a<0)return;this.updateProgress("played",{newIndex:a,curIndex:e,millisecond:parseInt(i.played*1e3,10)}),this.playedIndex=a}if(d.typeOf(i.cached)!=="Undefined"){var o=this.findIndex(i.cached*1e3,n);if(o<0)return;this.updateProgress("cached",{newIndex:o,curIndex:n,millisecond:parseInt(i.cached*1e3,10)}),this.cachedIndex=o}}},{key:"findIndex",value:function(i,t){var e=this.fragments;if(!e||e.length===0)return-1;if(e.length===1)return 0;if(t>-1&&t<e.length&&i>e[t].start&&i<e[t].end)return t;if(i>e[e.length-1].start)return e.length-1;for(var n=0;n<e.length;n++)if(i>e[n].start&&i<=e[n].end){t=n;break}return t}},{key:"findHightLight",value:function(){for(var i=this.root.children,t=0;t<i.length;t++)if(d.hasClass(i[t],this.fragConfig.fragFocusClass))return{dom:i[t],pos:i[t].getBoundingClientRect()}}},{key:"findFragment",value:function(i){var t=this.root.children;return i<0||i>=t.length?null:{dom:t[i],pos:t[i].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var i=this.root.children,t=0;t<i.length;t++)d.removeClass(i[t],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(i){var t=this.root.children;if(i<t.length)return d.addClass(t[i],this.fragConfig.fragFocusClass),{dom:t[i],pos:t[i].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(i){var t=this;if(Object.keys(this.fragConfig).forEach(function(n){i[n]!==void 0&&(t.fragConfig[n]=i[n])}),i.fragments){if(this.fragments=i.fragments.length===0?[{percent:1}]:i.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var e=this.root.children;e.length>0;)this.root.removeChild(e[0]);this.render()}}},{key:"render",value:function(){var i=this,t=this.style.progressColor;if(this.root||(this.root=d.createDom("xg-inners","",{},"progress-list")),this.fragments){var e=this.fragConfig,n=e.fragClass,a=e.fragFocusClass;this.progressList=this.fragments.map(function(o){var l=d.createDom("xg-inner","",{style:t?"background:".concat(t,"; flex: ").concat(o.percent):"flex: ".concat(o.percent)},"".concat(o.isFocus?a:""," xgplayer-progress-inner ").concat(n));return i.root.appendChild(l),Zh.forEach(function(u){l.appendChild(d.createDom(u.tag,"",{style:u.styleKey?"background: ".concat(i.style[u.styleKey],"; width:0;"):"width:0;"},u.className))}),{cached:l.children[0],played:l.children[1]}})}return this.root}}]),s}(),Or={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},Qh=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),I(E(e),"onMoveOnly",function(n,a){var o=E(e),l=o.pos,u=o.config,c=o.player,f=a;if(n){d.event(n);var h=d.getEventPos(n,c.zoom),v=c.rotateDeg===90?h.clientY:h.clientX;if(l.moving&&Math.abs(l.x-v)<u.miniMoveStep)return;l.moving=!0,l.x=v,f=e.computeTime(n,v)}e.triggerCallbacks("dragmove",f,n),e._updateInnerFocus(f)}),I(E(e),"onBodyClick",function(n){e.pos.isLocked&&(e.pos.isLocked=!1,n.preventDefault(),n.stopPropagation())}),I(E(e),"_mouseDownHandler",function(n,a){e._state.time=a.currentTime,e.updateWidth(a.currentTime,a.seekTime,a.percent,0),e._updateInnerFocus(a)}),I(E(e),"_mouseUpHandler",function(n,a){var o=E(e),l=o.pos;l.moving&&e.updateWidth(a.currentTime,a.seekTime,a.percent,2)}),I(E(e),"_mouseMoveHandler",function(n,a){var o=E(e),l=o._state,u=o.pos,c=o.config,f=o.player;l.time<a.currentTime?a.forward=!0:a.forward=!1,l.time=a.currentTime,u.isDown&&!u.moving&&(u.moving=!0,c.isPauseMoving&&f.pause(),e.triggerCallbacks("dragstart",a,n),e.emitUserAction("drag","dragstart",a)),e.updateWidth(a.currentTime,a.seekTime,a.percent,1),e.triggerCallbacks("dragmove",a,n),e._updateInnerFocus(a)}),I(E(e),"onMouseDown",function(n){var a=E(e),o=a._state,l=a.player,u=a.pos,c=a.config,f=a.playerConfig,h=d.getEventPos(n,l.zoom),v=l.rotateDeg===90?h.clientY:h.clientX;if(!(l.isMini||c.closeMoveSeek||!f.allowSeekAfterEnded&&l.ended)){if(!l.duration&&!l.isPlaying){l.play();return}n.stopPropagation(),e.focus(),d.checkIsFunction(f.disableSwipeHandler)&&f.disableSwipeHandler(),d.checkIsFunction(c.onMoveStart)&&c.onMoveStart(),d.event(n),u.x=v,u.isDown=!0,u.moving=!1,o.prePlayTime=l.currentTime,l.focus({autoHide:!1}),e.isProgressMoving=!0,d.addClass(e.progressBtn,"active");var g=e.computeTime(n,v);g.prePlayTime=o.prePlayTime,e._mouseDownHandlerHook(n,g);var m=n.type;return m==="touchstart"?(e.root.addEventListener("touchmove",e.onMouseMove),e.root.addEventListener("touchend",e.onMouseUp),e.root.addEventListener("touchcancel",e.onMouseUp)):(e.unbind("mousemove",e.onMoveOnly),document.addEventListener("mousemove",e.onMouseMove,!1),document.addEventListener("mouseup",e.onMouseUp,!1)),!0}}),I(E(e),"onMouseUp",function(n){var a=E(e),o=a.player,l=a.config,u=a.pos,c=a.playerConfig,f=a._state;n.stopPropagation(),n.preventDefault(),d.checkIsFunction(c.enableSwipeHandler)&&c.enableSwipeHandler(),d.checkIsFunction(l.onMoveEnd)&&l.onMoveEnd(),d.event(n),d.removeClass(e.progressBtn,"active");var h=e.computeTime(n,u.x);h.prePlayTime=f.prePlayTime,u.moving?(e.triggerCallbacks("dragend",h,n),e.emitUserAction("drag","dragend",h)):(e.triggerCallbacks("click",h,n),e.emitUserAction("click","click",h)),e._mouseUpHandlerHook(n,h),u.moving=!1,u.isDown=!1,u.x=0,u.y=0,u.isLocked=!0,f.prePlayTime=0,f.time=0;var v=n.type;v==="touchend"||v==="touchcancel"?(e.root.removeEventListener("touchmove",e.onMouseMove),e.root.removeEventListener("touchend",e.onMouseUp),e.root.removeEventListener("touchcancel",e.onMouseUp),e.blur()):(document.removeEventListener("mousemove",e.onMouseMove,!1),document.removeEventListener("mouseup",e.onMouseUp,!1),u.isEnter?c.isMobileSimulateMode!=="mobile"&&e.bind("mousemove",e.onMoveOnly):e.onMouseLeave(n)),d.setTimeout(E(e),function(){e.resetSeekState()},1),o.focus()}),I(E(e),"onMouseMove",function(n){var a=E(e),o=a._state,l=a.pos,u=a.player,c=a.config;d.checkTouchSupport()&&n.preventDefault(),d.event(n);var f=d.getEventPos(n,u.zoom),h=u.rotateDeg===90?f.clientY:f.clientX,v=Math.abs(l.x-h);if(!(l.moving&&v<c.miniMoveStep||!l.moving&&v<c.miniStartStep)){l.x=h;var g=e.computeTime(n,h);g.prePlayTime=o.prePlayTime,e._mouseMoveHandlerHook(n,g)}}),I(E(e),"onMouseOut",function(n){e.triggerCallbacks("mouseout",null,n)}),I(E(e),"onMouseOver",function(n){e.triggerCallbacks("mouseover",null,n)}),I(E(e),"onMouseEnter",function(n){var a=E(e),o=a.player,l=a.pos;if(!(l.isDown||l.isEnter||o.isMini||!o.config.allowSeekAfterEnded&&o.ended)){l.isEnter=!0,e.bind("mousemove",e.onMoveOnly),e.bind("mouseleave",e.onMouseLeave),d.event(n);var u=d.getEventPos(n,o.zoom),c=o.rotateDeg===90?u.clientY:u.clientX,f=e.computeTime(n,c);e.triggerCallbacks("mouseenter",f,n),e.focus()}}),I(E(e),"onMouseLeave",function(n){e.triggerCallbacks("mouseleave",null,n),e.unlock(),e._updateInnerFocus(null)}),I(E(e),"onVideoResize",function(){var n=e.pos,a=n.x,o=n.isDown,l=n.isEnter;if(l&&!o){var u=e.computeTime(null,a);e.onMoveOnly(null,u)}}),e.useable=!1,e.isProgressMoving=!1,e.__dragCallBacks=[],e._state={now:-1,direc:0,time:0,prePlayTime:-1},e._disableBlur=!1,typeof e.config.isDragingSeek=="boolean"&&(console.warn("[XGPLAYER] 'isDragingSeek' is deprecated, please use 'isDraggingSeek' instead"),e.config.isDraggingSeek=e.config.isDragingSeek),e}return q(i,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var e=this.player,n=e.offsetCurrentTime,a=e.currentTime;return n>=0?n:a+this.timeOffset}},{key:"changeState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.useable=e}},{key:"show",value:function(e){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!n||n.length===0)&&(n=[{percent:1}]);var o=Ie(Ie({fragments:n},a),{},{actionCallback:function(u){e.emitUserAction("fragment_focus","fragment_focus",u)}});this.innerList?this.innerList.reset(o):(this.innerList=new Jh(o),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(l){e[l]=e.innerList[l].bind(e.innerList)}))}},{key:"_updateInnerFocus",value:function(e){this.innerList&&this.innerList.updateFocus(e)}},{key:"afterCreate",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var e=this.config,n=e.fragFocusClass,a=e.fragAutoFocus,o=e.fragClass;this._initInner(this.config.fragments,{fragFocusClass:n,fragAutoFocus:a,fragClass:o,style:this.playerConfig.commonStyle||{}}),fe.device==="mobile"&&(this.config.isDraggingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.listenEvents(),this.bindDomEvents(),this.initCustomStyle()}}},{key:"listenEvents",value:function(){var e=this;this.on(dt,function(){e.onMouseLeave()}),this.on(ze,function(){e.onTimeupdate()}),this.on(lt,function(){e.onTimeupdate(),e.onCacheUpdate()}),this.on(va,function(){e.onCacheUpdate()}),this.on(It,function(){e.onCacheUpdate(!0),e.onTimeupdate(!0),e._state.now=0}),this.on(xt,function(){e.onReset()}),this.on(mt,function(){e.onVideoResize()})}},{key:"setConfig",value:function(e){var n=this,a=null;Object.keys(e).forEach(function(o){n.config[o]=e[o],o==="fragments"&&(a=e[o])}),a&&this._initInner(a,e)}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},n=e.commonStyle,a=n.sliderBtnStyle,o=this.progressBtn;a&&(typeof a=="string"?o.style.boxShadow=a:Fe(a)==="object"&&Object.keys(a).map(function(l){o.style[l]=a[l]}))}},{key:"triggerCallbacks",value:function(e,n,a){this.__dragCallBacks.length>0&&this.__dragCallBacks.map(function(o){if(o&&o.handler&&o.type===e)try{o.handler(n,a)}catch(l){console.error("[XGPLAYER][triggerCallbacks] ".concat(o," error"),l)}})}},{key:"addCallBack",value:function(e,n){n&&typeof n=="function"&&this.__dragCallBacks.push({type:e,handler:n})}},{key:"removeCallBack",value:function(e,n){var a=this.__dragCallBacks,o=-1;a.map(function(l,u){l&&l.type===e&&l.handler===n&&(o=u)}),o>-1&&a.splice(o,1)}},{key:"unlock",value:function(){var e=this.player,n=this.pos;if(n.isEnter=!1,n.isLocked=!1,!e.isMini){if(this.unbind("mousemove",this.onMoveOnly),n.isDown){this.unbind("mouseleave",this.onMouseLeave);return}this.blur()}}},{key:"bindDomEvents",value:function(){var e=this.player.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),(this.domEventType==="touch"||this.domEventType==="compatible")&&this.root.addEventListener("touchstart",this.onMouseDown),(this.domEventType==="mouse"||this.domEventType==="compatible")&&(this.bind("mousedown",this.onMouseDown),e.isMobileSimulateMode!=="mobile"&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),d.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),d.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(e,n,a,o){var l=this.config,u=this.player;if(!(l.isCloseClickSeek&&o===0)){var c=n=n>=u.duration?u.duration-l.endedDiff:Number(n).toFixed(1);this.updatePercent(a),this.updateTime(e),!(o===1&&(!l.isDraggingSeek||u.config.mediaType==="audio"))&&(this._state.now=c,this._state.direc=c>u.currentTime?0:1,u.seek(c))}}},{key:"computeTime",value:function(e,n){var a=this.player,o=this.root.getBoundingClientRect(),l=o.width,u=o.height,c=o.top,f=o.left,h,v,g=n;a.rotateDeg===90?(h=u,v=c):(h=l,v=f);var m=g-v;m=m>h?h:m<0?0:m;var y=m/h;y=y<0?0:y>1?1:y;var x=parseInt(y*this.offsetDuration*1e3,10)/1e3,C=d.getCurrentTimeByOffset(x,a.timeSegments);return{percent:y,currentTime:x,seekTime:C,offset:m,width:h,left:v,e}}},{key:"updateTime",value:function(e){var n=this.player,a=this.duration;e>a?e=a:e<0&&(e=0);var o=n.plugins.time;o&&o.updateTime(e)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&&e.resetActive()}},{key:"updatePercent",value:function(e,n){if(this.isProgressMoving=!0,!this.config.disable){e=e>1?1:e<0?0:e,this.progressBtn.style.left="".concat(e*100,"%"),this.innerList.update({played:e*this.offsetDuration},this.offsetDuration);var a=this.player.plugins.miniprogress;a&&a.update({played:e*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(e){var n=this.player,a=this._state,o=this.offsetDuration;if(!(n.isSeeking&&n.media.seeking||this.isProgressMoving||!n.hasStart)){if(a.now>-1){var l=parseInt(a.now*1e3,10)-parseInt(n.currentTime*1e3,10);if(a.direc===0&&l>300||a.direc===1&&l>-300){a.now=-1;return}else a.now=-1}var u=this.currentTime;u=d.adjustTimeByDuration(u,o,e),this.innerList.update({played:u},o),this.progressBtn.style.left="".concat(u/o*100,"%")}}},{key:"onCacheUpdate",value:function(e){var n=this.player,a=this.duration;if(n){var o=n.bufferedPoint.end;o=d.adjustTimeByDuration(o,a,e),this.innerList.update({cached:o},a)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0),this.progressBtn.style.left="0%"}},{key:"destroy",value:function(){var e=this.player;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var n=this.domEventType;(n==="touch"||n==="compatible")&&(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),this.root.removeEventListener("touchcancel",this.onMouseUp)),(n==="mouse"||n==="compatible")&&(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){var e=this.player.controls?this.player.controls.config.mode:"",n=e==="bottom"?"xgplayer-progress-bottom":"";return`
    <xg-progress class="xgplayer-progress `.concat(n,`">
      <xg-outer class="xgplayer-progress-outer">
        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>
      </xg-outer>
    </xg-progress>
    `)}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_CENTER,index:0,disable:!1,isDraggingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:Or.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return Or}}]),i}(be),Lt=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"_onMouseenter",function(o){t.emit("icon_mouseenter",{pluginName:t.pluginName})}),I(E(t),"_onMouseLeave",function(o){t.emit("icon_mouseleave",{pluginName:t.pluginName})}),t}return q(i,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave),this.config.disable&&this.disable()}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),i}(be),eg=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"btnClick",function(o){o.preventDefault(),o.stopPropagation();var l=E(t),u=l.player;return t.emitUserAction(o,"switch_play_pause",{prop:"paused",from:u.paused,to:!u.paused}),u.ended?u.replay():u.paused?(u.play(),t.animate(!1)):(u.pause(),t.animate(!0)),!1}),t}return q(i,[{key:"afterCreate",value:function(){ie(ne(i.prototype),"afterCreate",this).call(this);var e=this.config;e.disable||(this.initIcons(),this.bind(["touchend","click"],this.btnClick),this.listenEvents(),this.animate(!0))}},{key:"listenEvents",value:function(){var e=this,n=this.player;this.on([je,jt,nn,xt],function(){e.animate(n.paused)})}},{key:"registerIcons",value:function(){return{play:{icon:$i,class:"xg-icon-play"},pause:{icon:Vi,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){if(this.player){var n=this.i18nKeys,a=this.find(".xg-tips");e?(this.setAttr("data-state","pause"),a&&this.changeLangTextKey(a,n.PLAY_TIPS)):(this.setAttr("data-state","play"),a&&this.changeLangTextKey(a,n.PAUSE_TIPS))}}},{key:"destroy",value:function(){ie(ne(i.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-play">
    <div class="xgplayer-icon">
    </div>
    `.concat(bt(this,"PLAY_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_LEFT,index:0,disable:!1}}}]),i}(Lt);function tg(){return new DOMParser().parseFromString(`<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>
    </g>
</svg>`,"image/svg+xml").firstChild}var ng=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.onClick=function(n){n.preventDefault(),n.stopPropagation(),e.config.onClick(n)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:tg,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){d.addClass(this.root,"show")}},{key:"hide",value:function(){d.removeClass(this.root,"show")}},{key:"render",value:function(){return`<xg-icon class="xgplayer-back">
    </xg-icon>`}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:Ee.ROOT_TOP,index:0}}}]),i}(be);function ig(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>
</svg>
`,"image/svg+xml").firstChild}function rg(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>
</svg>
`,"image/svg+xml").firstChild}var ag=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"_onOrientationChange",function(o){t.player.fullscreen&&t.config.rotateFullscreen&&(window.orientation===90||window.orientation===-90?t.player.setRotateDeg(0):t.player.setRotateDeg(90))}),t}return q(i,[{key:"afterCreate",value:function(){var e=this;ie(ne(i.prototype),"afterCreate",this).call(this);var n=this.config,a=this.playerConfig;if(!n.disable){n.target&&(this.playerConfig.fullscreenTarget=this.config.target);var o=d.getFullScreenEl();a.fullscreenTarget===o&&this.player.getFullscreen().catch(function(l){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(u){var c=e.player.fullscreen;e.emitUserAction(u,"switch_fullscreen",{prop:"fullscreen",from:c,to:!c})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(at,function(l){var u=e.find(".xg-tips");u&&e.changeLangTextKey(u,l?e.i18nKeys.EXITFULLSCREEN_TIPS:e.i18nKeys.FULLSCREEN_TIPS),e.animate(l)}),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:ng,options:{config:{onClick:function(u){e.handleFullscreen(u)}}}})),fe.device==="mobile"&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:ig,class:"xg-get-fullscreen"},exitFullscreen:{icon:rg,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){ie(ne(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",fe.device==="mobile"?"touchend":"click",this.handleFullscreen),fe.device==="mobile"&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"toggleFullScreen",value:function(e){e instanceof Event&&(e.preventDefault(),e.stopPropagation());var n=this.player,a=this.config,o=a.useCssFullscreen===!0||typeof a.useCssFullscreen=="function"&&a.useCssFullscreen();o?(n.fullscreen?n.exitCssFullscreen():n.getCssFullscreen(),this.animate(n.fullscreen)):a.rotateFullscreen?(n.fullscreen?n.exitRotateFullscreen():n.getRotateFullscreen(),this.animate(n.fullscreen)):a.switchCallback&&typeof a.switchCallback=="function"?a.switchCallback(n.fullscreen):n.fullscreen?(n.exitFullscreen(),a.useScreenOrientation&&this.unlockScreen()):(n.getFullscreen().catch(function(l){}),a.useScreenOrientation&&n.aspectRatio>1&&this.lockScreen(a.lockOrientationType))}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"render",value:function(){if(!this.config.disable){var e="FULLSCREEN_TIPS";return`<xg-icon class="xgplayer-fullscreen">
    <div class="xgplayer-icon">
    </div>
    `.concat(bt(this,e,this.playerConfig.isHideTips),`
    </xg-icon>`)}}},{key:"lockScreen",value:function(e){try{screen.orientation.lock(e).catch(function(n){})}catch{}}},{key:"unlockScreen",value:function(){try{screen.orientation.unlock().catch(function(e){})}catch{}}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,useScreenOrientation:!1,lockOrientationType:"landscape",switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),i}(Lt),sg=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),e.isActiving=!1,e}return q(i,[{key:"duration",get:function(){var e=this.player,n=e.offsetDuration,a=e.duration;return this.playerConfig.customDuration||n||a}},{key:"currentTime",get:function(){var e=this.player,n=e.offsetCurrentTime,a=e.currentTime;return n>=0?n:a}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var e=this.player.controls.config.mode;this.mode=e==="flex"?"flex":"normal",!this.config.disable&&(this.mode==="flex"&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.listenEvents())}},{key:"listenEvents",value:function(){var e=this;this.on([dt,lt,ze],function(n){n.eventName==="durationchange"&&(e.isActiving=!1),e.onTimeUpdate()}),this.on(It,function(){e.onTimeUpdate(!0)}),this.on(xt,function(){e.onReset()})}},{key:"show",value:function(e){if(this.mode==="flex"){this.centerCurDom&&(this.centerCurDom.style.display="block"),this.centerDurDom&&(this.centerDurDom.style.display="block");return}this.root.style.display="block"}},{key:"hide",value:function(){if(this.mode==="flex"){this.centerCurDom&&(this.centerCurDom.style.display="none"),this.centerDurDom&&(this.centerDurDom.style.display="none");return}this.root.style.display="none"}},{key:"onTimeUpdate",value:function(e){var n=this.player,a=this.config,o=this.duration;if(!(a.disable||this.isActiving||!n.hasStart)){var l=this.currentTime+this.timeOffset;l=d.adjustTimeByDuration(l,o,e),this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(d.format(l)),o!==1/0&&o>0&&(this.centerDurDom.innerHTML=d.format(o))):(this.timeDom.innerHTML=this.minWidthTime(d.format(l)),o!==1/0&&o>0&&(this.durationDom.innerHTML=d.format(o)))}}},{key:"onReset",value:function(){this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(d.format(0)),this.centerDurDom.innerHTML=d.format(0)):(this.timeDom.innerHTML=this.minWidthTime(d.format(0)),this.durationDom.innerHTML=d.format(0))}},{key:"createCenterTime",value:function(){var e=this.player;if(!(!e.controls||!e.controls.center)){var n=e.controls.center;this.centerCurDom=d.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=d.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),n.children.length>0?n.insertBefore(this.centerCurDom,n.children[0]):n.appendChild(this.centerCurDom),n.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var e=this.config;if(this.duration===1/0||this.playerConfig.isLive?(d.hide(this.durationDom),d.hide(this.timeDom),d.hide(this.find(".time-separator")),d.show(this.find(".time-live-tag"))):d.hide(this.find(".time-live-tag")),e.hide){this.hide();return}this.show()}},{key:"changeLiveState",value:function(e){e?(d.hide(this.durationDom),d.hide(this.timeDom),d.hide(this.find(".time-separator")),d.show(this.find(".time-live-tag"))):(d.hide(this.find(".time-live-tag")),d.show(this.find(".time-separator")),d.show(this.durationDom),d.show(this.timeDom))}},{key:"updateTime",value:function(e){if(this.isActiving=!0,!(!e&&e!==0||e>this.duration)){if(this.mode==="flex"){this.centerCurDom.innerHTML=this.minWidthTime(d.format(e));return}this.timeDom.innerHTML=this.minWidthTime(d.format(e))}}},{key:"minWidthTime",value:function(e){return e.split(":").map(function(n){return'<span class="time-min-width">'.concat(n,"</span>")}).join(":")}},{key:"resetActive",value:function(){var e=this,n=this.player,a=function(){e.isActiving=!1};this.off(lt,a),n.isSeeking&&n.media.seeking?this.once(lt,a):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&&e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-time">
    <span class="time-current">00:00</span>
    <span class="time-separator">/</span>
    <span class="time-duration">00:00</span>
    <span class="time-live-tag">`.concat(this.i18n.LIVE_TIP,`</span>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_LEFT,index:2,disable:!1}}}]),i}(be),og=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"_onDurationChange",function(){t.updateSegments();var o=t.player,l=o.currentTime,u=o.timeSegments;if(t._checkIfEnabled(u)){var c=d.getIndexByTime(l,u),f=d.getOffsetCurrentTime(l,u,c);t.player.offsetCurrentTime=f,t.changeIndex(c,u)}}),I(E(t),"_onLoadedData",function(){var o=t.player.timeSegments;if(t._checkIfEnabled(o)){var l=d.getOffsetCurrentTime(0,o);t.player.offsetCurrentTime=l,t.changeIndex(0,o),t.curPos.start>0&&(t.player.currentTime=t.curPos.start)}}),I(E(t),"_onTimeupdate",function(){var o=t.player,l=o.currentTime,u=o.timeSegments;if(t._checkIfEnabled(u)){var c=u.length;t.lastCurrentTime=l;var f=d.getIndexByTime(l,u);f!==t.curIndex&&t.changeIndex(f,u);var h=d.getOffsetCurrentTime(l,u,f);if(t.player.offsetCurrentTime=h,!!t.curPos){var v=t.curPos,g=v.start,m=v.end;l<g?t.player.currentTime=g:l>m&&f>=c-1&&t.player.pause()}}}),I(E(t),"_onSeeking",function(){var o=t.player,l=o.currentTime,u=o.timeSegments;if(t._checkIfEnabled(u))if(l<u[0].start)t.player.currentTime=u[0].start;else if(l>u[u.length-1].end)t.player.currentTime=u[u.length-1].end;else{var c=d.getIndexByTime(l,u);if(c>=0){var f=t.getSeekTime(l,t.lastCurrentTime,c,u);f>=0&&(t.player.currentTime=f)}}}),I(E(t),"_onPlay",function(){var o=t.player,l=o.currentTime,u=o.timeSegments;t._checkIfEnabled(u)&&l>=u[u.length-1].end&&(t.player.currentTime=u[0].start)}),t}return q(i,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on(dt,this._onDurationChange),this.on(ct,this._onLoadedData),this.on(ze,this._onTimeupdate),this.on(On,this._onSeeking),this.on(je,this._onPlay)}},{key:"setConfig",value:function(e){var n=this;if(e){var a=Object.keys(e);a.length<1||(a.forEach(function(o){n.config[o]=e[o]}),this.updateSegments())}}},{key:"updateSegments",value:function(){var e=this.config,n=e.disable,a=e.segments,o=this.player;if(n||!a||a.length===0)o.timeSegments=[],o.offsetDuration=0,o.offsetCurrentTime=-1;else{var l=this.formatTimeSegments(a,o.duration);o.timeSegments=l,o.offsetDuration=l.length>0?l[l.length-1].duration:0}}},{key:"formatTimeSegments",value:function(e,n){var a=[];return e?(e.sort(function(o,l){return o.start-l.start}),e.forEach(function(o,l){var u={};if(u.start=o.start<0?0:o.start,u.end=n>0&&o.end>n?n:o.end,!(n>0&&u.start>n)){a.push(u);var c=u.end-u.start;if(l===0)u.offset=o.start,u.cTime=0,u.segDuration=c,u.duration=c;else{var f=a[l-1];u.offset=f.offset+(u.start-f.end),u.cTime=f.duration+f.cTime,u.segDuration=c,u.duration=f.duration+c}}}),a):[]}},{key:"getSeekTime",value:function(e,n,a,o){var l=-1,u=o[a],c=u.start,f=u.end;if(e>=c&&e<=f)return l;var h=e-n;if(h<0&&e<c){var v=n>c?n-c:0;return l=a-1>=0?o[a-1].end+h+v:0,l}return-1}},{key:"_checkIfEnabled",value:function(e){return!(!e||e.length<1)}},{key:"changeIndex",value:function(e,n){this.curIndex=e,e>=0&&n.length>0?this.curPos=n[e]:this.curPos=null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),i}(yt);function lg(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`,"image/svg+xml").firstChild}function ug(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`,"image/svg+xml").firstChild}function cg(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>
</svg>
`,"image/svg+xml").firstChild}var fg=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"onBarMousedown",function(o){var l=E(t),u=l.player,c=t.find(".xgplayer-bar");d.event(o);var f=c.getBoundingClientRect(),h=d.getEventPos(o,u.zoom),v=f.height-(h.clientY-f.top);if(h.h=v,h.barH=f.height,t.pos=h,!(v<-2))return t.updateVolumePos(v,o),document.addEventListener("mouseup",t.onBarMouseUp),t._d.isStart=!0,!1}),I(E(t),"onBarMouseMove",function(o){var l=E(t),u=l._d;if(u.isStart){var c=E(t),f=c.pos,h=c.player;o.preventDefault(),o.stopPropagation(),d.event(o);var v=d.getEventPos(o,h.zoom);u.isMoving=!0;var g=f.h-v.clientY+f.clientY;g>f.barH||t.updateVolumePos(g,o)}}),I(E(t),"onBarMouseUp",function(o){d.event(o),document.removeEventListener("mouseup",t.onBarMouseUp);var l=E(t),u=l._d;u.isStart=!1,u.isMoving=!1}),I(E(t),"onMouseenter",function(o){t._d.isActive=!0,t.focus(),t.emit("icon_mouseenter",{pluginName:t.pluginName})}),I(E(t),"onMouseleave",function(o){t._d.isActive=!1,t.unFocus(100,!1,o),t.emit("icon_mouseleave",{pluginName:t.pluginName})}),I(E(t),"onVolumeChange",function(o){if(t.player){var l=t.player,u=l.muted,c=l.volume;t._d.isMoving||(t.find(".xgplayer-drag").style.height=u||c===0?"4px":"".concat(c*100,"%"),t.config.showValueLabel&&t.updateVolumeValue()),t.animate(u,c)}}),t}return q(i,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:ug,class:"xg-volume-small"},volumeLarge:{icon:lg,class:"xg-volume"},volumeMuted:{icon:cg,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var n=this.playerConfig,a=n.commonStyle,o=n.volume;a.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=a.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(l){e.changeMuted(l)},{pre:function(u){u.preventDefault(),u.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),fe.device!=="mobile"&&this.playerConfig.isMobileSimulateMode!=="mobile"&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(ha,this.onVolumeChange),this.once(ct,this.onVolumeChange),d.typeOf(o)!=="Number"&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(e,n){var a=this.player,o=this.find(".xgplayer-drag"),l=this.find(".xgplayer-bar");if(!(!l||!o)){var u=parseInt(e/l.getBoundingClientRect().height*1e3,10);o.style.height="".concat(e,"px");var c=Math.max(Math.min(u/1e3,1),0),f={volume:{from:a.volume,to:c}};a.muted&&(f.muted={from:!0,to:!1}),this.emitUserAction(n,"change_volume",{muted:a.muted,volume:a.volume,props:f}),a.volume=Math.max(Math.min(u/1e3,1),0),a.muted&&(a.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var e=this.player,n=e.volume,a=e.muted,o=this.find(".xgplayer-value-label"),l=Math.max(Math.min(n,1),0);o.innerText=a?0:Math.round(l*100)}},{key:"focus",value:function(){var e=this.player;e.focus({autoHide:!1}),this._timerId&&(d.clearTimeout(this,this._timerId),this._timerId=null),d.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=arguments.length>2?arguments[2]:void 0,l=this._d,u=this.player;l.isActive||(this._timerId&&(d.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=d.setTimeout(this,function(){l.isActive||(a?u.blur():u.focus(),d.removeClass(e.root,"slide-show"),l.isStart&&e.onBarMouseUp(o)),e._timerId=null},n))}},{key:"changeMuted",value:function(e){e&&e.stopPropagation();var n=this.player,a=this._d;a.isStart&&this.onBarMouseUp(e),this.emitUserAction(e,"change_muted",{muted:n.muted,volume:n.volume,props:{muted:{from:n.muted,to:!n.muted}}}),n.volume>0&&(n.muted=!n.muted),n.volume<.01&&(n.volume=this.config.miniVolume)}},{key:"animate",value:function(e,n){e||n===0?this.setAttr("data-state","mute"):n<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(d.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon",fe.device==="mobile"?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var e=this.config.default||this.player.volume,n=this.config.showValueLabel;return`
    <xg-icon class="xgplayer-volume" data-state="normal">
      <div class="xgplayer-icon">
      </div>
      <xg-slider class="xgplayer-slider">
        `.concat(n?'<div class="xgplayer-value-label">'.concat(e*100,"</div>"):"",`
        <div class="xgplayer-bar">
          <xg-drag class="xgplayer-drag" style="height: `).concat(e*100,`%"></xg-drag>
        </div>
      </xg-slider>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),i}(be);function dg(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">
  <g>
    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>
    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>
  </g>
  <defs>
    <clipPath>
      <rect width="40" height="40" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,"image/svg+xml").firstChild}var hg=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),e.rotateDeg=e.config.rotateDeg||0,e}return q(i,[{key:"afterCreate",value:function(){var e=this;if(!this.config.disable){ie(ne(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(mt,function(){e.rotateDeg&&e.config.innerRotate&&d.setTimeout(e,function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)},100)});var n=this.player.root;this.rootWidth=n.style.width||n.offsetWidth||n.clientWidth,this.rootHeight=n.style.height||n.offsetHeight||n.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){ie(ne(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(e,n){if(e||(e=0),n){this.player.videoRotateDeg=e;return}var a=this.player,o=this.rootWidth,l=this.rootHeight,u=a.root,c=a.innerContainer,f=a.media,h=u.offsetWidth,v=c&&n?c.offsetHeight:u.offsetHeight,g=o,m=l,y=0,x=0;(e===.75||e===.25)&&(g="".concat(v,"px"),m="".concat(h,"px"),y=-(v-h)/2,x=-(h-v)/2);var C="translate(".concat(y,"px,").concat(x,"px) rotate(").concat(e,"turn)"),b={transformOrigin:"center center",transform:C,webKitTransform:C,height:m,width:g},M=n?f:u,B=n?a.getPlugin("poster"):null;Object.keys(b).map(function(H){M.style[H]=b[H],B&&B.root&&(B.root.style[H]=b[H])})}},{key:"rotate",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=this.player;this.rotateDeg||(this.rotateDeg=0);var l=e?1:-1;this.rotateDeg=(this.rotateDeg+1+l*.25*a)%1,this.updateRotateDeg(this.rotateDeg,n),o.emit(ka,this.rotateDeg*360)}},{key:"registerIcons",value:function(){return{rotate:dg}}},{key:"render",value:function(){if(!this.config.disable)return`
    <xg-icon class="xgplayer-rotate">
      <div class="xgplayer-icon">
      </div>
      `.concat(bt(this,"ROTATE_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),i}(Lt);function gg(){return new DOMParser().parseFromString(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"
    fill="white" />
</svg>`,"image/svg+xml").firstChild}function vg(){return new DOMParser().parseFromString(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"
    fill="white" />
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"
    fill="white" />
</svg>`,"image/svg+xml").firstChild}var Ot={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"},pg=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"switchPIP",function(o){if(!t.isPIPAvailable())return!1;o.stopPropagation&&o.stopPropagation(),t.isPip?(t.exitPIP(),t.emitUserAction(o,"change_pip",{props:"pip",from:!0,to:!1}),t.setAttr("data-state","normal")):t.player.media.readyState===4&&(t.requestPIP(),t.emitUserAction(o,"change_pip",{props:"pip",from:!1,to:!0}),t.setAttr("data-state","pip"))}),t}return q(i,[{key:"beforeCreate",value:function(e){typeof e.player.config.pip=="boolean"&&(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var e=this;this.isPIPAvailable()&&(ie(ne(i.prototype),"afterCreate",this).call(this),this.pMode=Ot.INLINE,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(Rn,function(){e.config.showIcon&&(d.removeClass(e.find(".xgplayer-icon"),"xg-icon-disable"),e.bind("click",e.switchPIP))}))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:gg,class:"xg-get-pip"},pipIconExit:{icon:vg,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.pipIcon),this.appendChild(".xgplayer-icon",e.pipIconExit)}},{key:"initPipEvents",value:function(){var e=this,n=this.player;this.leavePIPCallback=function(){var a=n.paused;d.setTimeout(e,function(){!a&&n.mediaPlay()},0),!a&&n.mediaPlay(),e.setAttr("data-state","normal"),e.pipWindow=null,n.emit(_i,!1)},this.enterPIPCallback=function(a){n.emit(_i,!0),a!=null&&a.pictureInPictureWindow&&(e.pipWindow=a.pictureInPictureWindow),e.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(a){var o=n.media.webkitPresentationMode;e.pMode===Ot.FULLSCREEN&&o!==Ot.FULLSCREEN&&n.onFullscreenChange(null,!1),e.pMode=o,o===Ot.PIP?e.enterPIPCallback(a):o===Ot.INLINE&&e.leavePIPCallback(a)},n.media&&(n.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),n.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(n.media)&&n.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(e){var n=qe(document.styleSheets).map(function(o){try{return qe(o.cssRules).map(function(u){return u.cssText}).join("")}catch{var l=document.createElement("link");l.rel="stylesheet",l.type=o.type,l.media=o.media,l.href=o.href,e.document.head.appendChild(l)}return""}).filter(Boolean).join(`
`),a=document.createElement("style");a.textContent=n,e.document.head.appendChild(a)}},{key:"requestPIP",value:function(){var e=this,n=this.player,a=this.playerConfig,o=this.config;if(!(!this.isPIPAvailable()||this.isPip))try{var l=a.poster;if(l&&(n.media.poster=d.typeOf(l)==="String"?l:l.poster),o.preferDocument&&this.isDocPIPAvailable()){var u={};if(o.width&&o.height)u.width=o.width,u.height=o.height;else{var c=n.root.getBoundingClientRect();u.width=c.width,u.height=c.height}documentPictureInPicture.requestWindow(u).then(function(f){var h=o.docPiPNode,v=o.docPiPStyle;e.enterPIPCallback();var g=h||n.root,m=g.parentElement,y=g.previousSibling,x=g.nextSibling;e.copyStyleIntoPiPWindow(f);var C=document.createElement("style");if(C.append("body{padding:0; margin:0;}"),v){var b="";typeof v=="string"?b=v:typeof v=="function"&&(b=v.call(o)),b&&C.append(b)}else g===n.root&&C.append(`
              .xgplayer{width: 100%!important; height: 100%!important;}
            `);f.document.head.append(C),f.document.body.append(g),f.addEventListener("pagehide",function(M){m&&(x?m.insertBefore(g,x):y?m.insertBefore(g,y.nextSibling):m.appendChild(g)),e.leavePIPCallback()},{once:!0})})}else i.checkWebkitSetPresentationMode(n.media)?n.media.webkitSetPresentationMode("picture-in-picture"):n.media.requestPictureInPicture();return!0}catch(f){return console.error("requestPiP",f),!1}}},{key:"exitPIP",value:function(){var e=this.player;try{if(this.isPIPAvailable()&&this.isPip){var n;this.isDocPIPAvailable()&&(n=documentPictureInPicture)!==null&&n!==void 0&&n.window?documentPictureInPicture.window.close():i.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture()}return!0}catch(a){return console.error("exitPIP",a),!1}}},{key:"isPip",get:function(){var e,n=this.player;return!!(this.isDocPIPAvailable()&&(e=documentPictureInPicture)!==null&&e!==void 0&&e.window)||document.pictureInPictureElement&&document.pictureInPictureElement===n.media||n.media.webkitPresentationMode===Ot.PIP}},{key:"isPIPAvailable",value:function(){var e=this.player.media,n=d.typeOf(document.pictureInPictureEnabled)==="Boolean"?document.pictureInPictureEnabled:!1;return n&&(d.typeOf(e.disablePictureInPicture)==="Boolean"&&!e.disablePictureInPicture||e.webkitSupportsPresentationMode&&d.typeOf(e.webkitSetPresentationMode)==="Function")||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&&/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){ie(ne(i.prototype),"destroy",this).call(this);var e=this.player;e.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(e.media)&&e.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(!(!this.config.showIcon||!this.isPIPAvailable()))return`<xg-icon class="xgplayer-pip">
      <div class="xgplayer-icon xg-icon-disable">
      </div>
      `.concat(bt(this,"PIP",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(e){return typeof e.webkitSetPresentationMode=="function"}}]),i}(Lt);function mg(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">
  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>
</svg>
`,"image/svg+xml").firstChild}var yg=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),I(E(e),"playNext",function(n){var a=E(e),o=a.player;n.preventDefault(),n.stopPropagation(),e.idx+1<e.config.urlList.length?(e.idx++,e.nextHandler(e.config.urlList[e.idx],e.idx),o.emit(_n,e.idx+1)):(e.nextHandler(),o.emit(_n))}),e.idx=-1,e}return q(i,[{key:"afterCreate",value:function(){!this.config.urlList||this.config.urlList.length===0||(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:mg}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var e=fe.device==="mobile"?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"changeSrc",value:function(e){var n=this.player;e&&(n.pause(),n.currentTime=0,n.switchURL?n.switchURL(e):n.src=e,n.config.url=e,n.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(!(!this.config.urlList||this.config.urlList.length===0))return`
     <xg-icon class="xgplayer-playnext">
      <div class="xgplayer-icon">
      </div>
      `.concat(bt(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),`
     </xg-icon>
    `)}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),i}(be),Na={exports:{}};(function(s,r){(function(i,t){s.exports=t()})(Ds,function(){return function i(t,e,n){var a=window,o="application/octet-stream",l=n||o,u=t,c=!e&&!n&&u,f=document.createElement("a"),h=function(F){return String(F)},v=a.Blob||a.MozBlob||a.WebKitBlob||h,g=e||"download",m,y;if(v=v.call?v.bind(a):Blob,String(this)==="true"&&(u=[u,l],l=u[0],u=u[1]),c&&c.length<2048&&(g=c.split("/").pop().split("?")[0],f.href=c,f.href.indexOf(c)!==-1)){var x=new XMLHttpRequest;return x.open("GET",c,!0),x.responseType="blob",x.onload=function(F){i(F.target.response,g,o)},setTimeout(function(){x.send()},0),x}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u))if(u.length>1024*1024*1.999&&v!==h)u=B(u),l=u.type||o;else return navigator.msSaveBlob?navigator.msSaveBlob(B(u),g):H(u);else if(/([\x80-\xff])/.test(u)){var C=0,b=new Uint8Array(u.length),M=b.length;for(C;C<M;++C)b[C]=u.charCodeAt(C);u=new v([b],{type:l})}m=u instanceof v?u:new v([u],{type:l});function B(F){var A=F.split(/[:;,]/),pe=A[1],R=A[2]=="base64"?atob:decodeURIComponent,ue=R(A.pop()),z=ue.length,$=0,ce=new Uint8Array(z);for($;$<z;++$)ce[$]=ue.charCodeAt($);return new v([ce],{type:pe})}function H(F,A){if("download"in f)return f.href=F,f.setAttribute("download",g),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout(function(){f.click(),document.body.removeChild(f),A===!0&&setTimeout(function(){a.URL.revokeObjectURL(f.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(F)&&(F="data:"+F.replace(/^data:([\w\/\-\+]+)/,o)),window.open(F)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=F),!0;var pe=document.createElement("iframe");document.body.appendChild(pe),!A&&/^data:/.test(F)&&(F="data:"+F.replace(/^data:([\w\/\-\+]+)/,o)),pe.src=F,setTimeout(function(){document.body.removeChild(pe)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(m,g);if(a.URL)H(a.URL.createObjectURL(m),!0);else{if(typeof m=="string"||m.constructor===h)try{return H("data:"+l+";base64,"+a.btoa(m))}catch{return H("data:"+l+","+encodeURIComponent(m))}y=new FileReader,y.onload=function(F){H(this.result)},y.readAsDataURL(m)}return!0}})})(Na);var _g=Na.exports;const bg=An(_g);function kg(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">
  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">
      <g id="Group-2">
        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">
          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>
          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>
          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>
          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>
        </g>
      </g>
    </g>
  </g>
</svg>
`,"image/svg+xml").firstChild}var Cg=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),I(E(e),"download",function(n){if(!e.isLock){e.emitUserAction(n,"download");var a=e.playerConfig.url,o="";d.typeOf(a)==="String"?o=a:d.typeOf(a)==="Array"&&a.length>0&&(o=a[0].src);var l=e.getAbsoluteURL(o);bg(l),e.isLock=!0,e.timer=window.setTimeout(function(){e.isLock=!1,window.clearTimeout(e.timer),e.timer=null},300)}}),e.timer=null,e.isLock=!1,e}return q(i,[{key:"afterCreate",value:function(){ie(ne(i.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(n){n.preventDefault(),n.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:kg}}},{key:"getAbsoluteURL",value:function(e){if(!e.match(/^https?:\/\//)){var n=document.createElement("div");n.innerHTML='<a href="'.concat(e,'">x</a>'),e=n.firstChild.href}return e}},{key:"destroy",value:function(){ie(ne(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-download">
   <div class="xgplayer-icon">
   </div>
   `.concat(bt(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_RIGHT,index:3,disable:!0}}}]),i}(Lt),Tg=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"beforeCreate",value:function(e){typeof e.player.config.screenShot=="boolean"&&(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){ie(ne(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var e=this.config;this.initSize=function(n){e.fitVideo&&(e.width=n.vWidth,e.height=n.vHeight)},this.once(mt,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(e,n){var a=document.createElement("a");a.href=e,a.download=n;var o;try{typeof MouseEvent<"u"?o=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}):(o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null))}catch(l){console.error("MouseEvent unsupported",l)}o&&a.dispatchEvent(o)}},{key:"createCanvas",value:function(e,n){var a=document.createElement("canvas"),o=a.getContext("2d");this.canvasCtx=o,this.canvas=a,a.width=e||this.config.width,a.height=n||this.config.height,o.imageSmoothingEnabled=!0,o.imageSmoothingEnabled&&(o.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(e){var n=this;e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"shot");var a=this.config;this.shot(a.width,a.height).then(function(o){n.emit(Ca,o),a.saveImg&&n.saveScreenShot(o,a.name+a.format)})}},{key:"shot",value:function(e,n){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{quality:.92,type:"image/png"},l=this.config,u=this.player,c=o.quality||l.quality,f=o.type||l.type;return new Promise(function(h,v){var g=null,m;if(u.media.canvas)g=u.media.canvas;else{a.canvas?(a.canvas.width=e||l.width,a.canvas.height=n||l.height):a.createCanvas(e,n),g=a.canvas,m=a.canvasCtx;var y=u.media.videoWidth/u.media.videoHeight,x=g.width/g.height,C=0,b=0,M=u.media.videoWidth,B=u.media.videoHeight,H,F,A,pe;y>x?(A=g.width,pe=g.width/y,H=0,F=Math.round((g.height-pe)/2)):y===x?(A=g.width,pe=g.height,H=0,F=0):y<x&&(A=g.height*y,pe=g.height,H=Math.round((g.width-A)/2),F=0),m.drawImage(u.media,C,b,M,B,H,F,A,pe)}var R=g.toDataURL(f,c).replace(f,"image/octet-stream");R=R.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),h(R)})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){ie(ne(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(mt,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var e=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",n="SCREENSHOT";return`
      <xg-icon class="xgplayer-shot">
      <div class="`.concat(e,`">
      `).concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[n],'">').concat(this.i18n[n],"</span>"),`
      </div>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,saveImg:!0,fitVideo:!0,disable:!1,name:"screenshot"}}}]),i}(Lt),wg=function(){function s(r){Y(this,s),this.config=r.config,this.parent=r.root,this.root=d.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),r.root.appendChild(this.root);var i=this.config.maxHeight;i&&this.setStyle({maxHeight:i}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var t=this.config.domEventType==="touch"?"touchend":"click";this._delegates=be.delegate.call(this,this.root,"li",t,this.onItemClick)}return q(s,[{key:"renderItemList",value:function(i){var t=this,e=this.config,n=this.root;i?e.data=i:i=e.data,e.style&&Object.keys(e.style).map(function(a){n.style[a]=e[a]}),i.length>0&&(this.attrKeys=Object.keys(i[0])),this.root.innerHTML="",i.map(function(a,o){var l=a.selected?"option-item selected":"option-item";a["data-index"]=o,t.root.appendChild(d.createDom("li","<span>".concat(a.showText,"</span>"),a,l))})}},{key:"onItemClick",value:function(i){i.delegateTarget||(i.delegateTarget=i.target);var t=i.delegateTarget;if(t&&d.hasClass(t,"selected"))return!1;var e=typeof this.config.onItemClick=="function"?this.config.onItemClick:null,n=this.root.querySelector(".selected");d.addClass(t,"selected"),n&&d.removeClass(n,"selected"),e(i,{from:n?this.getAttrObj(n,this.attrKeys):null,to:this.getAttrObj(t,this.attrKeys)})}},{key:"getAttrObj",value:function(i,t){if(!i||!t)return{};var e={};t.map(function(a){e[a]=i.getAttribute(a)});var n=i.getAttribute("data-index");return n&&(e.index=Number(n)),e}},{key:"show",value:function(){d.removeClass(this.root,"hide"),d.addClass(this.root,"active")}},{key:"hide",value:function(){d.removeClass(this.root,"active"),d.addClass(this.root,"hide")}},{key:"setStyle",value:function(i){var t=this;Object.keys(i).forEach(function(e){t.root.style[e]=i[e]})}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map(function(i){i.destroy&&i.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),s}(),Qe={SIDE:"side",MIDDLE:"middle",DEFAULT:"default"},Rt={CLICK:"click",HOVER:"hover"};function Eg(s,r){return s===Qe.SIDE?r===Ee.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""}var Ct=fe.device==="mobile",wn=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),I(E(e),"onEnter",function(n){n.stopPropagation(),e.emit("icon_mouseenter",{pluginName:e.pluginName}),e.switchActiveState(n)}),I(E(e),"switchActiveState",function(n){n.stopPropagation();var a=e.config.toggleMode;a===Rt.CLICK?e.toggle(!e.isActive):e.toggle(!0)}),I(E(e),"onLeave",function(n){n.stopPropagation(),e.emit("icon_mouseleave",{pluginName:e.pluginName}),e.config.listType!==Qe.SIDE&&e.isActive&&e.toggle(!1)}),I(E(e),"onListEnter",function(n){e.enterType=2}),I(E(e),"onListLeave",function(n){e.enterType=0,e.isActive&&e.toggle(!1)}),e.isIcons=!1,e.isActive=!1,e.curValue=null,e.curIndex=0,e}return q(i,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,n=this.config;this.initIcons(),Ct=Ct||this.domEventType==="touch",Ct&&fe.device==="mobile"&&n.listType===Qe.DEFAULT&&(n.listType=Qe.SIDE),n.hidePortrait&&d.addClass(this.root,"portrait"),this.on([mt,at],function(){e._resizeList()}),this.once(st,function(){n.list&&n.list.length>0&&(e.renderItemList(n.list),e.show())}),Ct&&this.on(Oi,function(){e.isActive&&(e.optionsList&&e.optionsList.hide(),e.isActive=!1)}),Ct?(n.toggleMode=Rt.CLICK,this.activeEvent="touchend"):this.activeEvent=n.toggleMode===Rt.CLICK?"click":"mouseenter",n.toggleMode===Rt.CLICK?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var e=this,n=this.icons,a=Object.keys(n),o=!1;a.length>0&&(a.forEach(function(l){e.appendChild(".xgplayer-icon",n[l]),!o&&(o=n[l])}),this.isIcons=o),!o&&(this.appendChild(".xgplayer-icon",d.createDom("span","",{},"icon-text")),d.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(e){!this.config.list||this.config.list.length<2||d.addClass(this.root,"show")}},{key:"hide",value:function(){d.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(e,n,a){if(e===void 0)return"";var o=this.config.list;!a&&(a=this.player.lang),n=!n||d.isUndefined(e[n])?"text":n,typeof e=="number"&&(e=o[e]);try{return Fe(e[n])==="object"?e[n][a]||e[n].en:e[n]}catch(l){return console.warn(l),""}}},{key:"toggle",value:function(e){if(!(e===this.isActive||this.config.disable)){var n=this.player.controls,a=this.config.listType;e?(a===Qe.SIDE?n.blur():n.focus(),this.optionsList&&this.optionsList.show()):(a===Qe.SIDE?n.focus():n.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=e}}},{key:"onItemClick",value:function(e,n){e.stopPropagation();var a=this.config,o=a.listType,l=a.list;this.curIndex=n.to.index,this.curItem=l[this.curIndex],this.changeCurrentText();var u=this.config.isItemClickHide;(u||Ct||o===Qe.SIDE)&&this.toggle(!1)}},{key:"onIconClick",value:function(e){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,n=this.curIndex<e.length?this.curIndex:0,a=e[n];a&&(this.find(".icon-text").innerHTML=this.getTextByLang(a,"iconText"))}}},{key:"renderItemList",value:function(e,n){var a=this,o=this.config,l=this.optionsList,u=this.player;if(typeof n=="number"&&(this.curIndex=n,this.curItem=o.list[n]),l){l.renderItemList(e),this.changeCurrentText();return}var c={config:{data:e||[],className:Eg(o.listType,o.position),onItemClick:function(m,y){a.onItemClick(m,y)},domEventType:Ct?"touch":"mouse"},root:o.listType===Qe.SIDE?u.innerContainer||u.root:this.root};if(this.config.isShowIcon){var f=this.player.root.getBoundingClientRect(),h=f.height,v=o.listType===Qe.MIDDLE?h-50:h;v&&o.heightLimit&&(c.config.maxHeight="".concat(v,"px")),this.optionsList=new wg(c),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){if(this.config.heightLimit){var e=this.player.root.getBoundingClientRect(),n=e.height,a=this.config.listType===Qe.MIDDLE?n-50:n;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat(a,"px")})}}},{key:"destroy",value:function(){var e=this.config;e.toggleMode===Rt.CLICK?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",`">
    <div class="xgplayer-icon">
    </div>
   </xg-icon>`)}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_RIGHT,index:100,list:[],listType:"default",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:Rt.HOVER,heightLimit:!0}}}]),i}(be),Sg=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),e.curTime=0,e.isPaused=!0,e}return q(i,[{key:"beforeCreate",value:function(e){var n=e.config.list;Array.isArray(n)&&n.length>0&&(e.config.list=n.map(function(a){return!a.text&&a.name&&(a.text=a.name),a.text||(a.text=a.definition),a}))}},{key:"afterCreate",value:function(){var e=this;ie(ne(i.prototype),"afterCreate",this).call(this),this.on("resourceReady",function(n){e.changeDefinitionList(n)}),this.on(Bi,function(n){e.renderItemList(e.config.list,n.to)}),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(e){!this.config.list||this.config.list.length<2||d.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var e=this.config,n=e.list,a=e.defaultDefinition;if(n.length>0){var o=null;n.map(function(l){l.definition===a&&(o=l)}),o||(o=n[0]),this.changeDefinition(o)}}},{key:"renderItemList",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.list||[],a=arguments.length>1?arguments[1]:void 0,o=a&&a.definition?a.definition:this.config.defaultDefinition;a&&n.forEach(function(c){c.selected=!1});var l=0,u=n.map(function(c,f){var h=Ie(Ie({},c),{},{showText:e.getTextByLang(c)||c.definition,selected:!1});return(c.selected||c.definition&&c.definition==o)&&(h.selected=!0,l=f),h});ie(ne(i.prototype),"renderItemList",this).call(this,u,l)}},{key:"changeDefinitionList",value:function(e){Array.isArray(e)&&(this.config.list=e.map(function(n){return!n.text&&n.name&&(n.text=n.name),n.text||(n.text=n.definition),n}),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(e,n){this.player.changeDefinition(e,n)}},{key:"onItemClick",value:function(e,n){var a=this.player.definitionList;ie(ne(i.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(e,"change_definition",{from:n.from,to:n.to});for(var o=0;o<a.length;o++)n.to&&a[o].definition===n.to.definition&&(n.to.url=a[o].url),n.from&&a[o].definition===n.from.definition&&(n.from.url=a[o].url);this.player.changeDefinition(n.to,n.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return Ie(Ie({},wn.defaultConfig),{},{position:Ee.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),i}(wn),Pg=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),e.curRate=1,e}return q(i,[{key:"beforeCreate",value:function(e){var n=e.player.config.playbackRate,a=n?Array.isArray(n)?n:e.config.list:[];Array.isArray(a)&&(e.config.list=a.map(function(o){return typeof o=="number"?o={rate:o,text:"".concat(o,"x")}:!o.text&&o.rate&&(o.text="".concat(o.rate,"x")),o}))}},{key:"afterCreate",value:function(){var e=this;ie(ne(i.prototype),"afterCreate",this).call(this),this.on(ga,function(){e.curValue!==e.player.playbackRate&&e.renderItemList()}),this.renderItemList()}},{key:"show",value:function(e){!this.config.list||this.config.list.length===0||ie(ne(i.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,n){ie(ne(i.prototype),"onItemClick",this).call(this,e,n);var a=e.delegateTarget,o=Number(a.getAttribute("rate"));if(!o||o===this.curValue)return!1;var l={playbackRate:{from:this.player.playbackRate,to:o}};this.emitUserAction(e,"change_rate",{props:l}),this.curValue=o,this.player.playbackRate=o}},{key:"renderItemList",value:function(){var e=this,n=this.player.playbackRate||1;this.curValue=n;var a=-1,o=this.config.list.map(function(l,u){var c={rate:l.rate};return c.rate===n&&(c.selected=!0,a=u),c.showText=e.getTextByLang(l),c});ie(ne(i.prototype),"renderItemList",this).call(this,o,a)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,n=this.curIndex<e.length?this.curIndex:0,a=e[n],o="";!a||this.curIndex<0?o="".concat(this.player.playbackRate,"x"):o=this.getTextByLang(a,"iconText"),this.find(".icon-text").innerHTML=o}}},{key:"destroy",value:function(){ie(ne(i.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return Ie(Ie({},wn.defaultConfig),{},{position:Ee.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),i}(wn);function Ig(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" class='path_full' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}function xg(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}var Rr=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"beforeCreate",value:function(e){typeof e.player.config.cssFullscreen=="boolean"&&(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var e=this;ie(ne(i.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(mn,function(n){e.animate(n)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var e=this.icons,n=this.find(".xgplayer-icon");n.appendChild(e.cssFullscreen),n.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var n=this.player.isCssfullScreen;this.emitUserAction(e,"switch_cssfullscreen",{cssfullscreen:n}),n?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){this.root&&(e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e))}},{key:"switchTips",value:function(e){var n=this.i18nKeys,a=this.find(".xg-tips");a&&this.changeLangTextKey(a,e?n.EXITCSSFULLSCREEN_TIPS:n.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:Ig,class:"xg-get-cssfull"},exitCssFullscreen:{icon:xg,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){ie(ne(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class='xgplayer-cssfullscreen'>
    <div class="xgplayer-icon">
    </div>
    `.concat(bt(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:Ee.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),i}(Lt),Lg=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"afterCreate",value:function(){var e=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(a){a.preventDefault(),a.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(nn,function(n){e.onError(n)})}},{key:"errorRetry",value:function(e){this.emitUserAction(e,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this.player,a=e.errorType,o=n.errorNote?this.i18n[n.errorNote]:"";if(!o)switch(a){case"decoder":o=this.i18n.MEDIA_ERR_DECODE;break;case"network":o=this.i18n.MEDIA_ERR_NETWORK;break;default:o=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=o,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return`<xg-error class="xgplayer-error">
      <div class="xgplayer-errornote">
       <span class="xgplayer-error-text"></span>
       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>
      </div>
    </xg-error>`}}],[{key:"pluginName",get:function(){return"error"}}]),i}(be),Ag=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"afterCreate",value:function(){var e=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(n){(e.config.onClick||e.customOnClick)&&(n.preventDefault(),n.stopPropagation(),e.customOnClick?e.customOnClick(n):e.config.onClick(n))}),this.player.showPrompt=function(){e.showPrompt.apply(e,arguments)},this.player.hidePrompt=function(){e.hide()}}},{key:"setStyle",value:function(e){var n=this;Object.keys(e).map(function(a){n.root.style[a]=e[a]})}},{key:"showPrompt",value:function(e){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(e){this.customOnClick=o;var l=this.config.interval;this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),d.addClass(this.root,"show"),a.mode==="arrow"&&d.addClass(this.root,"arrow"),typeof e=="string"?this.find(".xgplayer-prompt-detail").innerHTML=e:this.find(".xgplayer-prompt-detail").innerHTML="".concat(e.text||"")+"".concat(e.highlight?'<i class="highlight">'.concat(e.highlight,"</i>"):""),a.style&&this.setStyle(a.style);var u=typeof a.autoHide=="boolean"?a.autoHide:this.config.autoHide;if(u){var c=a.interval||l;this.intervalId=setTimeout(function(){n.hide()},c)}}}},{key:"hide",value:function(){d.removeClass(this.root,"show"),d.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(D.CONTROLS_FOLLOW,`">
    <span class="xgplayer-prompt-detail"></span>
    </xg-prompt>`)}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),i}(be),Nr={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function Fa(s){Object.keys(Nr).map(function(r){s[r]===void 0&&(s[r]=Nr[r])})}var Fr={_updateDotDom:function(r,i){if(i){var t=this.calcuPosition(r.time,r.duration),e=r.style||{};e.left="".concat(t.left,"%"),e.width="".concat(t.width,"%"),i.setAttribute("data-text",r.text),i.setAttribute("data-time",r.time),t.isMini?d.addClass(i,"mini"):d.removeClass(i,"mini"),Object.keys(e).map(function(n){i.style[n]=e[n]})}},initDots:function(){var r=this;this._ispots.map(function(i){r.createDot(i,!1)}),this.ispotsInit=!0},createDot:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this.player.plugins.progress;if(t&&(i&&(Fa(r),this._ispots.push(r)),!(!this.ispotsInit&&i))){var e=this.calcuPosition(r.time,r.duration),n=r.style||{};n.left="".concat(e.left,"%"),n.width="".concat(e.width,"%");var a="xgspot_".concat(r.id," xgplayer-spot");e.isMini&&(a+=" mini");var o=r.template?'<div class="xgplayer-spot-pop">'.concat(r.template,"</div>"):"",l=d.createDom("xg-spot",o,{"data-text":r.text,"data-time":r.time,"data-id":r.id},a);Object.keys(n).map(function(u){l.style[u]=n[u]}),t.outer&&t.outer.appendChild(l),this.positionDot(l,r.id)}},findDot:function(r){if(this.player.plugins.progress){var i=this._ispots.filter(function(t,e){return t.id===r});return i.length>0?i[0]:null}},updateDot:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=this.player.plugins.progress;if(t){var e=this.findDot(r.id);if(e&&Object.keys(r).map(function(a){e[a]=r[a]}),!!this.ispotsInit){var n=t.find('xg-spot[data-id="'.concat(r.id,'"]'));n&&(this._updateDotDom(r,n),i&&this.showDot(r.id))}}},deleteDot:function(r){var i=this._ispots,t=this.player.plugins.progress;if(t){for(var e=[],n=0;n<i.length;n++)i[n].id===r&&e.push(n);for(var a=e.length,o=a-1;o>=0;o--)if(i.splice(e[o],1),this.ispotsInit){var l=t.find('xg-spot[data-id="'.concat(r,'"]'));l&&l.parentElement.removeChild(l)}}},deleteAllDots:function(){var r=this.player.plugins.progress;if(r){if(!this.ispotsInit){this._ispots=[];return}for(var i=r.root.getElementsByTagName("xg-spot"),t=i.length-1;t>=0;t--)r.outer.removeChild(i[t]);this._ispots=[]}},updateAllDots:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.player.plugins.progress;if(t){if(!this.ispotsInit){this._ispots=i;return}this._ispots=[];var e=t.root.getElementsByTagName("xg-spot"),n=e.length;if(n>i.length)for(var a=n-1;a>i.length-1;a--)t.outer.removeChild(e[a]);i.forEach(function(o,l){l<n?(e[l].setAttribute("data-id","".concat(o.id)),r._ispots.push(o),r.updateDot(o)):r.createDot(o)})}},positionDots:function(){var r=this,i=this._ispots,t=this.playerSize,e=this.player.sizeInfo,n=this.player.plugins.progress;!n||e.width===t.width||(t.width=e.width,t.left=e.left,i.forEach(function(a){var o=n.find('xg-spot[data-id="'.concat(a.id,'"]'));o&&r.positionDot(o,a.id)}))},positionDot:function(r,i){var t=d.findDom(r,".xgplayer-spot-pop");if(t){var e=this.playerSize,n=r.getBoundingClientRect(),a=t.getBoundingClientRect(),o=n.left-e.left,l=e.width-o-n.width/2;if(o<a.width/2||e.width<a.width){var u=a.width/2-o;t.style.left="".concat(u,"px")}else if(l<a.width/2){var c=l-a.width/2+n.width/2;t.style.left="".concat(c,"px")}else t.style.left="50%"}},updateDuration:function(){var r=this,i=this.player.plugins.progress;if(i){var t=this._ispots;t.forEach(function(e){var n=i.find('xg-spot[data-id="'.concat(e.id,'"]'));r._updateDotDom(e,n)})}},getAllDotsDom:function(){var r=this.player.plugins.progress;if(!r)return[];var i=r.root.getElementsByTagName("xg-spot");return i},getDotDom:function(r){var i=this.player.plugins.progress;if(i)return i.find('xg-spot[data-id="'.concat(r,'"]'))}};function Mg(s){var r=s.config,i=s.player;Object.keys(Fr).map(function(e){s[e]=Fr[e].bind(s)});var t=i.config.progressDot||r.ispots||[];s._ispots=t.map(function(e){return Fa(e),e}),s.ispotsInit=!1,s.playerSize={left:i.sizeInfo.left,width:i.sizeInfo.width},s.on(dt,function(){s.ispotsInit?s.updateDuration():s.initDots()}),s.on(mt,function(){s.positionDots()})}var Nt={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},Dg=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),I(E(e),"onMousemove",function(n){if(!e.config.disable){if(d.hasClass(n.target,"xg-spot-content")&&e.config.isHideThumbnailHover){e.player.plugins.progress.onMouseLeave(n);return}(e._state.f||d.hasClass(n.target,"xg-spot-content"))&&(d.event(n),n.stopPropagation())}}),I(E(e),"onMousedown",function(n){e.config.disable||(e._state.f||d.hasClass(n.target,"xg-spot-content"))&&(d.event(n),n.stopPropagation())}),I(E(e),"onMouseup",function(n){if(e.isDrag){var a=e.player.plugins.progress;a&&a.pos&&(a.onMouseUp(n),!a.pos.isEnter&&a.onMouseLeave(n))}}),I(E(e),"onDotMouseLeave",function(n){if(!e.config.disable){e._curDot.removeEventListener("mouseleave",e.onDotMouseLeave),e.blurDot(n.target),e._curDot=null;var a=e.player.plugins.progress;a&&a.enableBlur(),e.show()}}),I(E(e),"onProgressMouseOver",function(n,a){if(!e.config.disable&&d.hasClass(a.target,"xgplayer-spot")&&!e._curDot){e._curDot=a.target,e.focusDot(a.target),e._curDot.children.length>0&&e.hide();var o=e.player.plugins.progress;o&&o.disableBlur(),e._curDot.addEventListener("mouseleave",e.onDotMouseLeave)}}),e._ispots=[],e.videoPreview=null,e.videothumbnail=null,e.thumbnail=null,e.timeStr="",e._state={now:0,f:!1},e}return q(i,[{key:"beforeCreate",value:function(e){var n=e.player.plugins.progress;n&&(e.root=n.root)}},{key:"afterCreate",value:function(){var e=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(n,a){a.seekTime&&e.player.seek(a.seekTime)}),this.transformTimeHook=this.hook("transformTime",function(n){e.setTimeContent(d.format(n))}),Mg(this),this.on(dt,function(){e.show()}),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(e){var n=this;e&&Object.keys(e).map(function(a){n.config[a]=e[a]})}},{key:"onPluginsReady",value:function(){var e=this.player;e.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var e=this,n=this.player.plugins.progress;if(n&&(Object.keys(Nt).map(function(o){e[Nt[o]]=e[Nt[o]].bind(e),n.addCallBack(o,e[Nt[o]])}),fe.device!=="mobile")){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var a=this.hook("previewClick",function(){});this.handlerPreviewClick=function(o){o.stopPropagation(),a(parseInt(e._state.now*1e3,10)/1e3,o)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(e,n){this.config.disable||!this.player.duration||this.updatePosition(e.offset,e.width,e.currentTime,e.e)}},{key:"onProgressDragStart",value:function(e){this.config.disable||!this.player.duration||(this.isDrag=!0,this.videoPreview&&d.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(e){this.config.disable||!this.player.duration||(this.isDrag=!1,this.videoPreview&&d.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(e,n){this.config.disable||d.hasClass(n.target,"xgplayer-spot")&&(n.stopPropagation(),n.preventDefault(),["time","id","text"].map(function(a){e[a]=n.target.getAttribute("data-".concat(a))}),e.time&&(e.time=Number(e.time)),this.handlerSpotClick(n,e))}},{key:"updateLinePos",value:function(e,n){var a=this.root,o=this.previewLine,l=this.player,u=this.config,c=l.controls.mode,f=c==="flex",h=a.getBoundingClientRect().width;if(!(!h&&this._hasThumnail)){h=this._hasThumnail&&h<u.width?u.width:h;var v=e-h/2,g;v<0&&!f?(v=0,g=e-h/2):v>n-h&&!f?(g=v-(n-h),v=n-h):g=0,g!==void 0&&(o.style.transform="translateX(".concat(g.toFixed(2),"px)")),a.style.transform="translateX(".concat(v.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(e){var n=this.timeText,a=this.timePoint;n.innerHTML=e,!this.thumbnail&&(a.innerHTML=e)}},{key:"updatePosition",value:function(e,n,a,o){var l=this.root,u=this.config,c=this._state;if(l){c.now=a,this.transformTimeHook(a);var f=this.timeStr;o&&o.target&&d.hasClass(o.target,"xgplayer-spot")?(this.showTips(o.target.getAttribute("data-text"),!1,f),this.focusDot(o.target),c.f=!0,u.isFocusDots&&c.f&&(c.now=parseInt(o.target.getAttribute("data-time"),10))):u.defaultText?(c.f=!1,this.showTips(u.defaultText,!0,f)):(c.f=!1,this.hideTips("")),this.updateTimeText(f),this.updateThumbnails(c.now),this.updateLinePos(e,n)}}},{key:"setTimeContent",value:function(e){this.timeStr=e}},{key:"updateThumbnails",value:function(e){var n=this.player,a=this.videoPreview,o=this.config,l=n.plugins.thumbnail;if(l&&l.usable){this.thumbnail&&l.update(this.thumbnail,e,o.width,o.height);var u=a&&a.getBoundingClientRect();this.videothumbnail&&l.update(this.videothumbnail,e,u.width,u.height)}}},{key:"registerThumbnail",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(fe.device!=="mobile"){var n=this.player,a=this.config,o=n.getPlugin("thumbnail");if(o&&o.setConfig(e),!o||!o.usable||!a.isShowThumbnail){d.addClass(this.root,"short-line no-thumbnail");return}else d.removeClass(this.root,"short-line no-thumbnail");a.mode==="short"&&d.addClass(this.root,"short-line"),this._hasThumnail=!0;var l=this.find(".xg-spot-thumbnail");this.thumbnail=o.createThumbnail(l,"progress-thumbnail"),a.isShowCoverPreview&&(this.videoPreview=d.createDom("xg-video-preview","",{},"xgvideo-preview"),n.root.appendChild(this.videoPreview),this.videothumbnail=o.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}}},{key:"calcuPosition",value:function(e,n){var a=this.player.plugins.progress,o=this.player,l=a.root.getBoundingClientRect().width,u=o.duration/l*6;return e+n>o.duration&&(n=o.duration-e),e/o.duration*100,n/o.duration,{left:e/o.duration*100,width:n/o.duration*100,isMini:n<u}}},{key:"showDot",value:function(e){var n=this.findDot(e);if(n){var a=this.root.getBoundingClientRect(),o=a.width,l=n.time/this.player.duration*o;this.updatePosition(l,o,n.time)}}},{key:"focusDot",value:function(e,n){e&&(n||(n=e.getAttribute("data-id")),d.addClass(e,"active"),this._activeDotId=n)}},{key:"blurDot",value:function(e){if(!e){var n=this._activeDotId;e=this.getDotDom(n)}e&&(d.removeClass(e,"active"),this._activeDotId=null)}},{key:"showTips",value:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";d.addClass(this.root,"no-timepoint"),e&&(d.addClass(this.find(".xg-spot-content"),"show-text"),n&&this.config.mode==="production"?(d.addClass(this.root,"product"),this.tipText.textContent=e):(d.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?e:"".concat(a," ").concat(e)))}},{key:"hideTips",value:function(){d.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",d.removeClass(this.find(".xg-spot-content"),"show-text"),d.removeClass(this.root,"product")}},{key:"hide",value:function(){d.addClass(this.root,"hide")}},{key:"show",value:function(e){d.removeClass(this.root,"hide")}},{key:"enable",value:function(){var e=this.config,n=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&e.isShowThumbnail&&this.registerThumbnail(n.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var e=this,n=this.player.plugins.progress;n&&Object.keys(Nt).map(function(a){n.removeCallBack(a,e[Nt[a]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return fe.device==="mobile"||this.playerConfig.isMobileSimulateMode==="mobile"?"":'<div class="xg-spot-info hide '.concat(this.config.mode==="short"?"short-line":"",`">
      <div class="xg-spot-content">
        <div class="xg-spot-thumbnail">
          <span class="xg-spot-time"></span>
        </div>
        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>
      </div>
      <div class="xgplayer-progress-point">00:00</div>
      <div class="xg-spot-ext-text"></div>
      <div class="xg-spot-line"></div>
    </div>`)}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),i}(be),Og=function(s){Q(i,s);var r=ee(i);function i(t){var e;return Y(this,i),e=r.call(this,t),e.ratio=1,e.interval=null,e._preloadMark={},e}return q(i,[{key:"afterCreate",value:function(){var e=this;this.usable&&this.initThumbnail(),this.on([dt],function(){var n=e.config,a=n.pic_num,o=n.interval;e.usable&&(e.interval=o>0?o:Math.round(e.player.duration*1e3/a)/1e3)})}},{key:"setConfig",value:function(e){var n=this;if(e){var a=Object.keys(e);a.length<1||(a.forEach(function(o){n.config[o]=e[o]}),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var e=this.config,n=e.urls,a=e.pic_num;return n&&n.length>0&&a>0}},{key:"initThumbnail",value:function(){var e=this.config,n=e.width,a=e.height,o=e.pic_num,l=e.interval;this.ratio=n/a*100,this.interval=l||Math.round(this.player.duration/o),this._preloadMark={}}},{key:"getUrlByIndex",value:function(e){return e>=0&&e<this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var n=this;if(!this._preloadMark[e]){var a=this.config.urls,o=a.length,l=[];e>0&&l.push(e-1),l.push(e),e>0&&e<o-1&&l.push(e+1),l.map(function(u){!n._preloadMark[u]&&u>=0&&u<o&&(n._preloadMark[u]=1,d.preloadImg(a[u],function(){n._preloadMark[u]=2}))})}}},{key:"getPosition",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.config,l=o.pic_num,u=o.row,c=o.col,f=o.width,h=o.height;this.interval=Math.round(this.player.duration/l);var v=Math.ceil(e/this.interval);v=v>l?l:v;var g=v<u*c?0:Math.ceil(v/(u*c))-1,m=v-g*(c*u),y=m>0?Math.ceil(m/c)-1:0,x=m>0?m-y*c-1:0,C=0,b=0;if(n&&a){var M=n/a;M<f/h?(b=a,C=b*(f/h)):(C=n,b=C/(f/h))}else a?n||(b=a||h,C=b*(f/h)):(C=n||f,b=C/(f/h));var B=this.getUrlByIndex(g);return{urlIndex:g,rowIndex:y,colIndex:x,url:B,height:b,width:C,style:{backgroundImage:"url(".concat(B,")"),backgroundSize:"".concat(C*c,"px auto"),backgroundPosition:"-".concat(x*C,"px -").concat(y*b,"px"),width:"".concat(C,"px"),height:"".concat(b,"px")}}}},{key:"update",value:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",u=this.config,c=u.pic_num,f=u.urls;if(!(c<=0||!f||f.length===0)){var h=this.getPosition(n,a,o);this.preload(h.urlIndex),Object.keys(h.style).map(function(v){e.style[v]=h.style[v]}),Object.keys(l).map(function(v){e.style[v]=l[v]})}}},{key:"changeConfig",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setConfig(e)}},{key:"createThumbnail",value:function(e,n){var a=d.createDom("xg-thumbnail","",{},"thumbnail ".concat(n));return e&&e.appendChild(a),a}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),i}(be);function ai(s){return s?"background:".concat(s,";"):""}var Rg=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"onTimeupdate",function(){var o=t.player.ended,l=E(t),u=l.offsetDuration,c=t.currentTime;c=d.adjustTimeByDuration(c,u,o),t.update({played:c},u)}),t}return q(i,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"currentTime",get:function(){var e=this.player,n=e.offsetCurrentTime,a=e.currentTime;return n>=0?n:a}},{key:"afterCreate",value:function(){var e=this;this.root&&(this.on(ze,this.onTimeupdate),this.on(xt,function(){e.reset()}))}},{key:"reset",value:function(){this.update({played:0,cached:0},0)}},{key:"update",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},n=arguments.length>1?arguments[1]:void 0;!n||!this.root||(e.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(e.cached/n*100,"%")),e.played&&(this.find("xg-mini-progress-played").style.width="".concat(e.played/n*100,"%")))}},{key:"render",value:function(){var e=this.playerConfig,n=e.commonStyle,a=e.miniprogress;if(a){var o=this.config,l=o.mode,u=o.height,c={cached:ai(n.cachedColor),played:ai(n.playedColor),progress:ai(n.progressColor),height:u>0&&u!==2?"height: ".concat(u,"px;"):""},f=l==="show"?"xg-mini-progress-show":"";return'<xg-mini-progress class="xg-mini-progress '.concat(f,'" style="').concat(c.progress," ").concat(c.height,`">
    <xg-mini-progress-cache class="xg-mini-progress-cache" style="`).concat(c.cached,`"></xg-mini-progress-cache>
    <xg-mini-progress-played class="xg-mini-progress-played" style="`).concat(c.played,`"></xg-mini-progress-played>
    </xg-mini-progress>`)}}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{mode:"auto",height:2}}}]),i}(be),Ft={REAL_TIME:"realtime",FIRST_FRAME:"firstframe",FRAME_RATE:"framerate",POSTER:"poster"};function Ng(){try{return parseInt(window.performance.now(),10)}catch{return new Date().getTime()}}function Fg(){try{var s=document.createElement("canvas").getContext;return!!s}catch{return!1}}var ln=null,Bg=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"onLoadedData",function(o){t.player&&(t._frameCount=t.config.startFrameCount,t.stop(),t.renderOnTimeupdate(o),t.off(ze,t.renderOnTimeupdate),t.on(ze,t.renderOnTimeupdate))}),I(E(t),"onVisibilitychange",function(o){document.visibilityState==="visible"?t._checkIfCanStart()&&t.start():document.visibilityState==="hidden"&&t.stop()}),I(E(t),"renderOnTimeupdate",function(o){if(t._frameCount>0)t.renderOnce(),t._frameCount--;else{t._isLoaded=!0,t.off(ze,t.renderOnTimeupdate);var l=t.config.startInterval;!t.player.paused&&t._checkIfCanStart()&&t.start(0,l)}}),I(E(t),"start",function(o,l){var u=t.player.video,c=Ng(),f=t.checkVideoIsSupport(u);!f||!t.canvasCtx||(l||(l=t.interval),t.stop(),u.videoWidth&&u.videoHeight&&(t.videoPI=u.videoHeight>0?parseInt(u.videoWidth/u.videoHeight*100,10):0,(t.config.mode===Ft.REAL_TIME||c-t.preTime>=l)&&(u&&u.videoWidth&&t.update(f,t.videoPI),t.preTime=c)),t.frameId=t._loopType==="timer"?d.setTimeout(E(t),t.start,l):d.requestAnimationFrame(t.start))}),I(E(t),"stop",function(){t.frameId&&(t._loopType==="timer"?d.clearTimeout(E(t),t.frameId):d.cancelAnimationFrame(t.frameId),t.frameId=null)}),t}return q(i,[{key:"afterCreate",value:function(){var e=this;this.playerConfig.dynamicBg===!0&&(this.config.disable=!1),i.isSupport||(this.config.disable=!0);var n=this.config,a=n.disable,o=n.mode,l=n.frameRate;a||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/l,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType=this.config.mode!==Ft.REAL_TIME&&this.interval>=1e3?"timer":"animation",this.once(Rn,function(){e.player&&(e.init(),e.renderByPoster(),e.player.paused||e.start())}),o!==Ft.POSTER&&(o!==Ft.FIRST_FRAME&&(this.on(xt,function(){e.stop()}),this.on(je,function(){var u=e.config.startInterval;e._checkIfCanStart()&&e.start(0,u)}),this.on(jt,function(){e.stop()})),this.on(ct,this.onLoadedData),this.on(Di,function(){e._isLoaded=!1,e.stop()}),document.addEventListener("visibilitychange",this.onVisibilitychange)))}},{key:"setConfig",value:function(e){var n=this;Object.keys(e).forEach(function(a){a==="root"&&e[a]!==n.config[a]?n.reRender(e[a]):a==="frameRate"?n.interval=parseInt(1e3/e[a],10):a==="disable"&&e[a]&&n.stop(),n.config[a]=e[a]})}},{key:"init",value:function(e){var n=this.player,a=this.config;this.canvasFilter=i.supportCanvasFilter();try{var o=e||a.root;o||(o=a.isInnerRender&&n.innerContainer||n.root),o.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(a.index,`"><canvas>
        </canvas><xgmask></xgmask></div>`)),this.root=o.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=a.filter,this.canvas.style.webkitFilter=a.filter),this.mask=this.find("xgmask"),a.addMask&&(this.mask.style.background=a.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(l){ve.logError("plugin:DynamicBg",l)}}},{key:"reRender",value:function(e){var n=this.config.disable;if(!(!n&&!this.root)){this.stop();var a=this.root?this.root.parentElement:null;if(a!==e&&a.removeChild(this.root),!e){this.root=null;return}this.init(e),this.renderOnce();var o=this.config.startInterval;this._checkIfCanStart()&&this.start(0,o)}}},{key:"checkVideoIsSupport",value:function(e){if(!e)return null;var n=e&&e instanceof window.HTMLVideoElement?e:e.canvas?e.canvas:e.flyVideo?e.flyVideo:null;if(n&&!(fe.browser==="safari"&&d.isMSE(n)))return n;var a=n?n.tagName.toLowerCase():"";return a==="canvas"||a==="img"?n:null}},{key:"renderByPoster",value:function(){var e=this.playerConfig.poster;if(e){var n=d.typeOf(e)==="String"?e:d.typeOf(e.poster)==="String"?e.poster:null;this.updateImg(n)}}},{key:"_checkIfCanStart",value:function(){var e=this.config.mode;return this._isLoaded&&!this.player.paused&&e!==Ft.FIRST_FRAME&&e!==Ft.POSTER}},{key:"renderOnce",value:function(){var e=this.player.video;if(!(!e.videoWidth||!e.videoHeight)){this.videoPI=parseInt(e.videoWidth/e.videoHeight*100,10);var n=this.checkVideoIsSupport(e);n&&this.update(n,this.videoPI)}}},{key:"updateImg",value:function(e){var n=this;if(e){var a=this.canvas.getBoundingClientRect(),o=a.width,l=a.height,u=new window.Image;u.onload=function(){if(!(!n.canvas||n.frameId||n.isStart)){n.canvas.height=l,n.canvas.width=o;var c=parseInt(o/l*100,10);n.update(u,c),u=null}},u.src=e}}},{key:"update",value:function(e,n){if(!(!this.canvas||!this.canvasCtx||!n))try{var a=this._pos,o=this.config,l=this.canvas.getBoundingClientRect(),u=l.width,c=l.height;if(u!==a.width||c!==a.height||a.pi!==n){var f=parseInt(u/c*100,10);a.pi=n,a.width!==u&&(a.width=this.canvas.width=u),a.height!==c&&(a.height=this.canvas.height=c);var h=c,v=u;f<n?v=parseInt(c*n/100,10):f>n&&(h=parseInt(u*100/n,10)),a.rwidth=v*o.multiple,a.rheight=h*o.multiple,a.x=(u-a.rwidth)/2,a.y=(c-a.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=o.filter),this.canvasCtx.drawImage(e,a.x,a.y,a.rwidth,a.rheight)}catch(g){ve.logError("plugin:DynamicBg",g)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return typeof ln=="boolean"||(ln=Fg()),ln}},{key:"supportCanvasFilter",value:function(){return!(fe.browser==="safari"||fe.browser==="firefox")}}]),i}(be),Hg={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"视频下载错误"},mse:{code:2,msg:"流追加错误"},parse:{code:3,msg:"解析错误"},format:{code:4,msg:"格式错误"},decoder:{code:5,msg:"解码错误"},runtime:{code:6,msg:"语法错误"},timeout:{code:7,msg:"播放超时"},other:{code:8,msg:"其他错误"}},HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"网络错误",MEDIA_ERR_DECODE:"解码错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题",PLAY_TIPS:"播放",PAUSE_TIPS:"暂停",PLAYNEXT_TIPS:"下一集",DOWNLOAD_TIPS:"下载",ROTATE_TIPS:"旋转",RELOAD_TIPS:"重新载入",FULLSCREEN_TIPS:"进入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"进入样式全屏",EXITCSSFULLSCREEN_TIPS:"退出样式全屏",TEXTTRACK:"字幕",PIP:"画中画",SCREENSHOT:"截图",LIVE:"正在直播",OFF:"关闭",OPEN:"开启",MINI_DRAG:"点击按住可拖动视频",MINISCREEN:"小屏幕",REFRESH_TIPS:"请试试",REFRESH:"刷新",FORWARD:"快进中",LIVE_TIP:"直播"}},Yt="info",si=Ia,$g=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"_recordUserActions",function(o){var l=t._getTime(),u=Object.assign({},o,{msg:o.msg||o.action});t._stats[Yt].push(Ie(Ie({type:"userAction"},l),{},{payload:u}))}),I(E(t),"_onReset",function(){t.reset()}),I(E(t),"_recordInfo",function(o){t.info(o)}),I(E(t),"_downloadStats",function(){var o=t.getStats(),l=new Blob([JSON.stringify(o)],{type:"application/json"}),u=window.URL.createObjectURL(l),c=document.createElement("a");c.style.display="none",c.href=u,c.download="player.txt",c.disabled=!1,c.click()}),t}return q(i,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:new Date().toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(bn,this._recordUserActions),this.on(si.STATS_INFO,this._recordInfo),this.on(si.STATS_DOWNLOAD,this._downloadStats),this.on(si.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(e){e.profile?this._infoProfile(e):this._info(e)}},{key:"_info",value:function(e){var n=this._getTime();this._stats[Yt].push(Ie(Ie({},n),{},{payload:e}))}},{key:"_infoProfile",value:function(e){if(e&&e.startMs){var n=Date.now(),a=n-e.startMs,o=Ie({cat:"function",dur:a,name:e.name||e.msg,ph:"X",pid:0,tid:0,ts:e.startMs,profile:!0},e);this._info(o)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var e;this._stats=(e={},I(e,Yt,[]),I(e,"media",{}),e)}},{key:"getStats",value:function(){for(var e=this.player,n=e.media,a=[],o=0;o<n.buffered.length;o++)a.push({start:n.buffered.start(o),end:n.buffered.end(o)});var l={currentTime:n.currentTime,readyState:n.readyState,buffered:a,paused:n.paused,ended:n.ended};return this._stats.media=l,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){var e=this._stats[Yt],n=e.map(function(a){var o=a.payload.data,l="";try{o instanceof Error?l=o.msg:o!==void 0&&(l=JSON.stringify(o))}catch(u){console.log("err",u)}return"[".concat(a.timeFormat,"] : ").concat(a.payload.msg," ").concat(l," ")});return n}},{key:"_getProfile",value:function(){var e={traceEvents:[]},n=this._stats[Yt];return n.forEach(function(a){a.payload.profile&&e.traceEvents.push(a.payload)}),e}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),i}(yt),Ba=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"onGapJump",function(){var o=E(t),l=o.player,u=o.config;if(l.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(l.media.seeking){if(!t.seekingEventReceived)return}else t.seekingEventReceived=!1;if(!(l.media.paused&&l.media.currentTime!==0&&t.hasPlayed)){var c=l.media.buffered,f=u.smallGapLimit||.5,h=u.gapDetectionThreshold||.3,v=l.media.currentTime,g=t._getIndex(c,v,h);if(!(g===null||g===0)){console.log("GapJump  bufferRange ",c.start(g),c.end(g));var m=c.start(g)+.1,y=l.media.duration;if(!(m>y)){var x=m-v,C=x<=f;x<i.BROWSER_GAP_TOLERANCE||C&&(u.useGapJump!==!1&&(l.media.currentTime=t.isSafari?m+.1:m),t.player&&t.player.emit("detectGap"),console.log("gapJump gapIndex",g," isGapSamll:",C," currentTime:",l.media.currentTime," jumpSize:",v-l.media.currentTime),m!==.08&&l&&l.emit("log",{type:"oneevent",end_type:"gap",vid:l.config.vid,ext:{video_postion:Math.floor(m*1e3)}}))}}}}}),t}return q(i,[{key:"afterCreate",value:function(){var e=this,n=this.config.useGapJump;n!==!1&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(rn,this.onGapJump),this.on(je,function(){e.hasPlayed=!0}),this.on(On,function(){e.seekingEventReceived=!0}))}},{key:"_getIndex",value:function(e,n,a){if(!e||!e.length||e.length===1&&e.end(0)-e.start(0)<1e-6)return null;for(var o=this._getBuffered(e),l=null,u=0;u<o.length;u++){var c=o[u];if(c.start>n&&(u===0||o[u-1].end-n<=a)){l=u;break}}return l}},{key:"_getBuffered",value:function(e){if(!e)return[];for(var n=[],a=0;a<e.length;a++)n.push({start:e.start(a),end:e.end(a)});return n}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),i}(be);Ba.BROWSER_GAP_TOLERANCE=.001;var Vg=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"onWaiting",function(){var o=E(t),l=o.config;t.jumpCnt>l.jumpCntMax||t.timer||l.useWaitingTimeoutJump===!1||(t.timer=setTimeout(t.onJump,l.waitingTime*1e3))}),I(E(t),"onJump",function(){var o=E(t),l=o.player,u=o.config;if(clearTimeout(t.timer),t.timer=null,!(t.jumpCnt>u.jumpCntMax||u.useWaitingTimeoutJump===!1)&&!(l.media.paused&&l.media.currentTime!==0&&t.hasPlayed)){t.jumpSize=u.jumpSize*(t.jumpCnt+1),t.jumpCnt===u.jumpSize&&t.jumpSize<6&&(t.jumpSize=6);var c=l.currentTime+t.jumpSize,f=l.media.duration;c>f||(t.jumpCnt++,l.currentTime=c)}}),t}return q(i,[{key:"afterCreate",value:function(){var e=this,n=this.config,a=n.useWaitingTimeoutJump,o=n.jumpSize;a!==!1&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=o,this.on(rn,this.onWaiting),this.on([Mi,st],function(){clearTimeout(e.timer),e.timer=null,e.jumpSize=e.config.jumpSize}),this.on(je,function(){e.hasPlayed=!0}))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),i}(be),Bt="cdn",un=["cdn"],Ug=function(s){Q(i,s);var r=ee(i);function i(){var t;Y(this,i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n)),I(E(t),"getSpeed",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bt;if(!t.speedListCache||!t.speedListCache[o]||t.speedListCache[o].length<=0)return 0;var l=0;return t.speedListCache[o].map(function(u){l+=u}),Math.floor(l/t.speedListCache[o].length)}),I(E(t),"startTimer",function(){d.isMSE(t.player.video)||(t.initSpeedList(),t.cnt=0,t.timer=setTimeout(t.testSpeed,t.config.testTimeStep))}),I(E(t),"initSpeedList",function(){t.speedListCache={},un.forEach(function(o){t.speedListCache[o]=[]})}),I(E(t),"_onRealSpeedChange",function(o){o.speed&&t.appendList(o.speed,o.type||Bt)}),I(E(t),"testSpeed",function(){if(clearTimeout(t.timer),t.timer=null,!(!t.player||!t.config.openSpeed)){var o=t.config,l=o.url,u=o.loadSize,c=o.testCnt,f=o.testTimeStep,h=l+(l.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(t.cnt>=c)){t.cnt++;try{var v=new Date().getTime(),g=null,m=new XMLHttpRequest;t.xhr=m,m.open("GET",h);var y={},x=Math.floor(Math.random()*10);y.Range="bytes="+x+"-"+(u+x),y&&Object.keys(y).forEach(function(C){m.setRequestHeader(C,y[C])}),m.onreadystatechange=function(){if(m.readyState===4){t.xhr=null,g=new Date().getTime();var C=m.getResponseHeader("Content-Length")/1024*8,b=Math.round(C*1e3/(g-v));t.appendList(b),t.timer=setTimeout(t.testSpeed,f)}},m.send()}catch(C){console.error(C)}}}}),I(E(t),"appendList",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bt;if(!(!t.speedListCache||!t.speedListCache[l])){var u=t.config.saveSpeedMax;t.speedListCache[l].length>=u&&t.speedListCache[l].shift(),t.speedListCache[l].push(o);var c=E(t),f=c.player;f&&(l===Bt?f.realTimeSpeed=o:f[t.getSpeedName("realTime",l)]=o),t.updateSpeed(l)}}),I(E(t),"updateSpeed",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bt,l=t.getSpeed(o),u=E(t),c=u.player;if(c)if(o===Bt)(!c.avgSpeed||l!==c.avgSpeed)&&(c.avgSpeed=l,c.emit(mi,{speed:l,realTimeSpeed:c.realTimeSpeed}));else{var f=t.getSpeedName("avg",o);(!c[f]||l!==c[f])&&(c[f]=l,c.emit(mi,{speed:l,realTimeSpeed:c.realTimeSpeed}))}}),t}return q(i,[{key:"afterCreate",value:function(){var e=this.config,n=e.openSpeed,a=e.addSpeedTypeList;(a==null?void 0:a.length)>0&&un.push.apply(un,qe(a)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,n&&this.on([ct,pn],this.startTimer)}},{key:"getSpeedName",value:function(e,n){return e+"Speed"+n.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(e){if(this.config.openSpeed=e,!e&&this.timer){clearTimeout(this.timer),this.timer=null;return}if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var e=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([ct,pn],this.startTimer),un.forEach(function(n){e.speedListCache&&e.speedListCache[n]&&(e.speedListCache[n]=[])}),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&this.xhr.readyState!==4&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:200*1024,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),i}(be),zg=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i,[{key:"afterCreate",value:function(){var e=this,n=this.player,a=this.config,o=n.media||n.video;if(this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],!a.disabled){var l=o.getVideoPlaybackQuality;l&&(this.on(je,function(){e._startTick()}),this.on(jt,function(){e._stopTick()}),this.on(It,function(){e._stopTick()}),this.on(xt,function(){e._stopTick()}))}}},{key:"_startTick",value:function(){var e=this;this._stopTick(),this._timer=setTimeout(function(){e._checkDecodeFPS(),e._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkBuffer",value:function(e,n){for(var a=!1,o=[],l=0;l<n.length;l++){var u=n.start(l),c=n.end(l);if(o.push({start:u,end:c}),u<=e&&e<=c-1){a=!0;break}}return{enoughBuffer:a,buffers:o}}},{key:"_checkStuck",value:function(e,n,a,o){var l=this.player.media||this.player.video,u=document.hidden,c=l.paused,f=l.readyState,h=l.currentTime,v=l.buffered;if(!(u||c||f<4)){var g=this._checkBuffer(h,v),m=g.enoughBuffer,y=g.buffers;m&&(e<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({currentTime:h,buffers:y,curDecodedFrames:e,totalVideoFrames:n,droppedVideoFrames:a,checkInterval:o}),this._currentStuckCount>=this.config.stuckCount&&(this.emit(xa,this._payload),this._reset())):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){var e=this.player.media||this.player.video;if(e){var n=e.getVideoPlaybackQuality(),a=n.totalVideoFrames,o=n.droppedVideoFrames,l=performance.now();if(a&&this._lastCheckPoint){var u=a-this._lastDecodedFrames,c=l-this._lastCheckPoint;this._checkStuck(u,a,o,c)}this._lastDecodedFrames=a,this._lastCheckPoint=l}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),i}(be);Vt.use(Hg);var jg=q(function s(r,i){var t,e,n;Y(this,s);var a=i&&i.isMobileSimulateMode==="mobile",o=i.isLive,l=o?[]:[og,Qh,Rg,Dg,sg],u=[].concat(l,[eg,ag,hg,yg,Sg,Pg,Cg,Tg,fg,pg]),c=[Dh,Oh,Nh,Xh,Fh,Lg,Ag,Og,Vh];this.plugins=[$g,Ah].concat(qe(u),c,[Ba,Vg]);var f=a?"mobile":fe.device;switch(f){case"pc":(t=this.plugins).push.apply(t,[Dr,ii,Rr,Ug,zg]);break;case"mobile":(e=this.plugins).push.apply(e,[Kh]);break;default:(n=this.plugins).push.apply(n,[Dr,ii,Rr])}(fe.os.isIpad||f==="pc")&&this.plugins.push(Bg),fe.os.isIpad&&this.plugins.push(ii),this.ignores=[],this.i18n=[]}),Xe=function(s){Q(i,s);var r=ee(i);function i(){return Y(this,i),r.apply(this,arguments)}return q(i)}(Bn);I(Xe,"defaultPreset",jg);I(Xe,"Util",d);I(Xe,"Sniffer",fe);I(Xe,"Errors",vn);I(Xe,"Events",ah);I(Xe,"Plugin",be);I(Xe,"BasePlugin",yt);I(Xe,"I18N",Vt);I(Xe,"STATE_CLASS",D);I(Xe,"InstManager",Oa);const Wg={id:"mse"},Gg=N({__name:"xgplayer",props:{url:{default:""},poster:{default:""}},setup(s){const r=s;return De(()=>{new Xe({id:"mse",volume:0,lang:"zh",autoplay:!1,fluid:!0,controls:!0,leavePlayerTime:0,download:!0,keyShortcut:!0,url:r.url,poster:r.poster,start:{isShowPause:!0}})}),(i,t)=>(p(),k("div",Wg))}}),Kg=U(Gg,[["__scopeId","data-v-32c1498d"]]),Yg=/[a-zA-Z0-9_\u0392-\u03C9\u00C0-\u00FF\u0600-\u06FF\u0400-\u04FF]+|[\u4E00-\u9FFF\u3400-\u4DBF\uF900-\uFAFF\u3040-\u309F\uAC00-\uD7AF]+/g;function qg(s){const r=s.match(Yg);let i=0;if(!r)return 0;for(let t=0;t<r.length;t+=1)r[t].charCodeAt(0)>=19968?i+=r[t].length:i+=1;return i}const Xg={class:"word"},Zg=N({__name:"ArticleMetadata",setup(s){const{page:r}=St(),i=K(()=>new Date(r.value.lastUpdated)),t=de(0),e=de(0),n=K(()=>t.value/275*60),a=K(()=>{const u=e.value;return e.value<=10?u*13+u*(u-1)/2:175+(u-10)*3}),o=K(()=>Math.ceil((n.value+a.value)/60));function l(){var h;document.querySelectorAll(".meta-des").forEach(v=>v.remove());const u=window.document.querySelector("#VPContent"),c=u==null?void 0:u.querySelectorAll(".content-container .main img");e.value=(c==null?void 0:c.length)||0;const f=((h=u==null?void 0:u.querySelector(".content-container .main"))==null?void 0:h.textContent)||"";t.value=qg(f)}return De(()=>{l()}),(u,c)=>(p(),k("div",Xg,[S("p",null,[c[0]||(c[0]=S("svg",{t:"1724572866572",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"18131",width:"16",height:"16"},[S("path",{d:"M168.021333 504.192A343.253333 343.253333 0 0 1 268.629333 268.8a342.229333 342.229333 0 0 1 243.285334-100.778667A341.504 341.504 0 0 1 755.029333 268.8c9.856 9.898667 19.2 20.394667 27.733334 31.402667l-60.16 46.976a8.021333 8.021333 0 0 0 2.986666 14.122666l175.701334 43.008a8.021333 8.021333 0 0 0 9.898666-7.68l0.810667-180.906666a7.936 7.936 0 0 0-12.885333-6.314667L842.666667 253.44a418.858667 418.858667 0 0 0-330.922667-161.493333c-229.12 0-415.488 183.594667-419.797333 411.818666a8.021333 8.021333 0 0 0 8.021333 8.192H160a7.978667 7.978667 0 0 0 8.021333-7.808zM923.946667 512H864a7.978667 7.978667 0 0 0-8.021333 7.808 341.632 341.632 0 0 1-26.88 125.994667 342.186667 342.186667 0 0 1-73.685334 109.397333 342.442667 342.442667 0 0 1-243.328 100.821333 342.229333 342.229333 0 0 1-270.976-132.224l60.16-46.976a8.021333 8.021333 0 0 0-2.986666-14.122666l-175.701334-43.008a8.021333 8.021333 0 0 0-9.898666 7.68l-0.682667 181.034666c0 6.698667 7.68 10.496 12.885333 6.314667L181.333333 770.56a419.072 419.072 0 0 0 330.922667 161.408c229.205333 0 415.488-183.722667 419.797333-411.818667a8.021333 8.021333 0 0 0-8.021333-8.192z",fill:"#8a8a8a","p-id":"18132"})],-1)),Me(" 更新: "+ae(i.value.toLocaleDateString())+" ",1),c[1]||(c[1]=S("svg",{t:"1724571760788",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6125",width:"16",height:"16"},[S("path",{d:"M204.8 0h477.866667l273.066666 273.066667v614.4c0 75.093333-61.44 136.533333-136.533333 136.533333H204.8c-75.093333 0-136.533333-61.44-136.533333-136.533333V136.533333C68.266667 61.44 129.706667 0 204.8 0z m307.2 607.573333l68.266667 191.146667c13.653333 27.306667 54.613333 27.306667 61.44 0l102.4-273.066667c6.826667-20.48 0-34.133333-20.48-40.96s-34.133333 0-40.96 13.653334l-68.266667 191.146666-68.266667-191.146666c-13.653333-27.306667-54.613333-27.306667-68.266666 0l-68.266667 191.146666-68.266667-191.146666c-6.826667-13.653333-27.306667-27.306667-47.786666-20.48s-27.306667 27.306667-20.48 47.786666l102.4 273.066667c13.653333 27.306667 54.613333 27.306667 61.44 0l75.093333-191.146667z",fill:"#777777","p-id":"6126"}),S("path",{d:"M682.666667 0l273.066666 273.066667h-204.8c-40.96 0-68.266667-27.306667-68.266666-68.266667V0z",fill:"#E0E0E0",opacity:".619","p-id":"6127"})],-1)),Me(" 字数: "+ae(t.value)+" 字 ",1),c[2]||(c[2]=S("svg",{t:"1724572797268",class:"icon",viewBox:"0 0 1060 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"15031",width:"16",height:"16"},[S("path",{d:"M556.726857 0.256A493.933714 493.933714 0 0 0 121.929143 258.998857L0 135.021714v350.390857h344.649143L196.205714 334.482286a406.820571 406.820571 0 1 1-15.908571 312.649143H68.937143A505.819429 505.819429 0 1 0 556.726857 0.256z m-79.542857 269.531429v274.907428l249.197714 150.966857 42.422857-70.070857-212.114285-129.389714V269.787429h-79.542857z",fill:"#8a8a8a","p-id":"15032"})],-1)),Me(" 时长: "+ae(o.value)+" 分钟 ",1)])]))}}),Jg={class:"linkcard"},Qg=["href"],ev={class:"description"},tv={class:"logo"},nv=["src"],iv=N({__name:"Linkcard",props:{url:{default:""},title:{default:""},description:{default:""},logo:{default:""}},setup(s){const r=s;return(i,t)=>(p(),k("div",Jg,[S("a",{href:r.url,target:"_blank"},[S("p",ev,[Me(ae(r.title),1),t[0]||(t[0]=S("br",null,null,-1)),S("span",null,ae(r.description),1)]),S("div",tv,[S("img",{alt:"logo",width:"70px",height:"70px",src:r.logo},null,8,nv)])],8,Qg)]))}});var Ha={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},zi={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},rv=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],En={CSS:{},springs:{}};function nt(s,r,i){return Math.min(Math.max(s,r),i)}function Xt(s,r){return s.indexOf(r)>-1}function oi(s,r){return s.apply(null,r)}var G={arr:function(s){return Array.isArray(s)},obj:function(s){return Xt(Object.prototype.toString.call(s),"Object")},pth:function(s){return G.obj(s)&&s.hasOwnProperty("totalLength")},svg:function(s){return s instanceof SVGElement},inp:function(s){return s instanceof HTMLInputElement},dom:function(s){return s.nodeType||G.svg(s)},str:function(s){return typeof s=="string"},fnc:function(s){return typeof s=="function"},und:function(s){return typeof s>"u"},nil:function(s){return G.und(s)||s===null},hex:function(s){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(s)},rgb:function(s){return/^rgb/.test(s)},hsl:function(s){return/^hsl/.test(s)},col:function(s){return G.hex(s)||G.rgb(s)||G.hsl(s)},key:function(s){return!Ha.hasOwnProperty(s)&&!zi.hasOwnProperty(s)&&s!=="targets"&&s!=="keyframes"}};function $a(s){var r=/\(([^)]+)\)/.exec(s);return r?r[1].split(",").map(function(i){return parseFloat(i)}):[]}function Va(s,r){var i=$a(s),t=nt(G.und(i[0])?1:i[0],.1,100),e=nt(G.und(i[1])?100:i[1],.1,100),n=nt(G.und(i[2])?10:i[2],.1,100),a=nt(G.und(i[3])?0:i[3],.1,100),o=Math.sqrt(e/t),l=n/(2*Math.sqrt(e*t)),u=l<1?o*Math.sqrt(1-l*l):0,c=1,f=l<1?(l*o+-a)/u:-a+o;function h(g){var m=r?r*g/1e3:g;return l<1?m=Math.exp(-m*l*o)*(c*Math.cos(u*m)+f*Math.sin(u*m)):m=(c+f*m)*Math.exp(-m*o),g===0||g===1?g:1-m}function v(){var g=En.springs[s];if(g)return g;for(var m=1/6,y=0,x=0;;)if(y+=m,h(y)===1){if(x++,x>=16)break}else x=0;var C=y*m*1e3;return En.springs[s]=C,C}return r?h:v}function av(s){return s===void 0&&(s=10),function(r){return Math.ceil(nt(r,1e-6,1)*s)*(1/s)}}var sv=function(){var s=11,r=1/(s-1);function i(c,f){return 1-3*f+3*c}function t(c,f){return 3*f-6*c}function e(c){return 3*c}function n(c,f,h){return((i(f,h)*c+t(f,h))*c+e(f))*c}function a(c,f,h){return 3*i(f,h)*c*c+2*t(f,h)*c+e(f)}function o(c,f,h,v,g){var m,y,x=0;do y=f+(h-f)/2,m=n(y,v,g)-c,m>0?h=y:f=y;while(Math.abs(m)>1e-7&&++x<10);return y}function l(c,f,h,v){for(var g=0;g<4;++g){var m=a(f,h,v);if(m===0)return f;var y=n(f,h,v)-c;f-=y/m}return f}function u(c,f,h,v){if(!(0<=c&&c<=1&&0<=h&&h<=1))return;var g=new Float32Array(s);if(c!==f||h!==v)for(var m=0;m<s;++m)g[m]=n(m*r,c,h);function y(x){for(var C=0,b=1,M=s-1;b!==M&&g[b]<=x;++b)C+=r;--b;var B=(x-g[b])/(g[b+1]-g[b]),H=C+B*r,F=a(H,c,h);return F>=.001?l(x,H,c,h):F===0?H:o(x,C,C+r,c,h)}return function(x){return c===f&&h===v||x===0||x===1?x:n(y(x),f,v)}}return u}(),Ua=function(){var s={linear:function(){return function(t){return t}}},r={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Expo:function(){return function(t){return t?Math.pow(2,10*t-10):0}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((e*3-2)/22-t,2)}},Elastic:function(t,e){t===void 0&&(t=1),e===void 0&&(e=.5);var n=nt(t,1,10),a=nt(e,.1,2);return function(o){return o===0||o===1?o:-n*Math.pow(2,10*(o-1))*Math.sin((o-1-a/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/a)}}},i=["Quad","Cubic","Quart","Quint"];return i.forEach(function(t,e){r[t]=function(){return function(n){return Math.pow(n,e+2)}}}),Object.keys(r).forEach(function(t){var e=r[t];s["easeIn"+t]=e,s["easeOut"+t]=function(n,a){return function(o){return 1-e(n,a)(1-o)}},s["easeInOut"+t]=function(n,a){return function(o){return o<.5?e(n,a)(o*2)/2:1-e(n,a)(o*-2+2)/2}},s["easeOutIn"+t]=function(n,a){return function(o){return o<.5?(1-e(n,a)(1-o*2))/2:(e(n,a)(o*2-1)+1)/2}}}),s}();function ji(s,r){if(G.fnc(s))return s;var i=s.split("(")[0],t=Ua[i],e=$a(s);switch(i){case"spring":return Va(s,r);case"cubicBezier":return oi(sv,e);case"steps":return oi(av,e);default:return oi(t,e)}}function za(s){try{var r=document.querySelectorAll(s);return r}catch{return}}function Hn(s,r){for(var i=s.length,t=arguments.length>=2?arguments[1]:void 0,e=[],n=0;n<i;n++)if(n in s){var a=s[n];r.call(t,a,n,s)&&e.push(a)}return e}function $n(s){return s.reduce(function(r,i){return r.concat(G.arr(i)?$n(i):i)},[])}function Br(s){return G.arr(s)?s:(G.str(s)&&(s=za(s)||s),s instanceof NodeList||s instanceof HTMLCollection?[].slice.call(s):[s])}function Wi(s,r){return s.some(function(i){return i===r})}function Gi(s){var r={};for(var i in s)r[i]=s[i];return r}function bi(s,r){var i=Gi(s);for(var t in s)i[t]=r.hasOwnProperty(t)?r[t]:s[t];return i}function Vn(s,r){var i=Gi(s);for(var t in r)i[t]=G.und(s[t])?r[t]:s[t];return i}function ov(s){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(s);return r?"rgba("+r[1]+",1)":s}function lv(s){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=s.replace(r,function(o,l,u,c){return l+l+u+u+c+c}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),e=parseInt(t[1],16),n=parseInt(t[2],16),a=parseInt(t[3],16);return"rgba("+e+","+n+","+a+",1)"}function uv(s){var r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(s)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(s),i=parseInt(r[1],10)/360,t=parseInt(r[2],10)/100,e=parseInt(r[3],10)/100,n=r[4]||1;function a(h,v,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?h+(v-h)*6*g:g<1/2?v:g<2/3?h+(v-h)*(2/3-g)*6:h}var o,l,u;if(t==0)o=l=u=e;else{var c=e<.5?e*(1+t):e+t-e*t,f=2*e-c;o=a(f,c,i+1/3),l=a(f,c,i),u=a(f,c,i-1/3)}return"rgba("+o*255+","+l*255+","+u*255+","+n+")"}function cv(s){if(G.rgb(s))return ov(s);if(G.hex(s))return lv(s);if(G.hsl(s))return uv(s)}function ut(s){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(s);if(r)return r[1]}function fv(s){if(Xt(s,"translate")||s==="perspective")return"px";if(Xt(s,"rotate")||Xt(s,"skew"))return"deg"}function ki(s,r){return G.fnc(s)?s(r.target,r.id,r.total):s}function it(s,r){return s.getAttribute(r)}function Ki(s,r,i){var t=ut(r);if(Wi([i,"deg","rad","turn"],t))return r;var e=En.CSS[r+i];if(!G.und(e))return e;var n=100,a=document.createElement(s.tagName),o=s.parentNode&&s.parentNode!==document?s.parentNode:document.body;o.appendChild(a),a.style.position="absolute",a.style.width=n+i;var l=n/a.offsetWidth;o.removeChild(a);var u=l*parseFloat(r);return En.CSS[r+i]=u,u}function ja(s,r,i){if(r in s.style){var t=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=s.style[r]||getComputedStyle(s).getPropertyValue(t)||"0";return i?Ki(s,e,i):e}}function Yi(s,r){if(G.dom(s)&&!G.inp(s)&&(!G.nil(it(s,r))||G.svg(s)&&s[r]))return"attribute";if(G.dom(s)&&Wi(rv,r))return"transform";if(G.dom(s)&&r!=="transform"&&ja(s,r))return"css";if(s[r]!=null)return"object"}function Wa(s){if(G.dom(s)){for(var r=s.style.transform||"",i=/(\w+)\(([^)]*)\)/g,t=new Map,e;e=i.exec(r);)t.set(e[1],e[2]);return t}}function dv(s,r,i,t){var e=Xt(r,"scale")?1:0+fv(r),n=Wa(s).get(r)||e;return i&&(i.transforms.list.set(r,n),i.transforms.last=r),t?Ki(s,n,t):n}function qi(s,r,i,t){switch(Yi(s,r)){case"transform":return dv(s,r,t,i);case"css":return ja(s,r,i);case"attribute":return it(s,r);default:return s[r]||0}}function Xi(s,r){var i=/^(\*=|\+=|-=)/.exec(s);if(!i)return s;var t=ut(s)||0,e=parseFloat(r),n=parseFloat(s.replace(i[0],""));switch(i[0][0]){case"+":return e+n+t;case"-":return e-n+t;case"*":return e*n+t}}function Ga(s,r){if(G.col(s))return cv(s);if(/\s/g.test(s))return s;var i=ut(s),t=i?s.substr(0,s.length-i.length):s;return r?t+r:t}function Zi(s,r){return Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2))}function hv(s){return Math.PI*2*it(s,"r")}function gv(s){return it(s,"width")*2+it(s,"height")*2}function vv(s){return Zi({x:it(s,"x1"),y:it(s,"y1")},{x:it(s,"x2"),y:it(s,"y2")})}function Ka(s){for(var r=s.points,i=0,t,e=0;e<r.numberOfItems;e++){var n=r.getItem(e);e>0&&(i+=Zi(t,n)),t=n}return i}function pv(s){var r=s.points;return Ka(s)+Zi(r.getItem(r.numberOfItems-1),r.getItem(0))}function Ya(s){if(s.getTotalLength)return s.getTotalLength();switch(s.tagName.toLowerCase()){case"circle":return hv(s);case"rect":return gv(s);case"line":return vv(s);case"polyline":return Ka(s);case"polygon":return pv(s)}}function mv(s){var r=Ya(s);return s.setAttribute("stroke-dasharray",r),r}function yv(s){for(var r=s.parentNode;G.svg(r)&&G.svg(r.parentNode);)r=r.parentNode;return r}function qa(s,r){var i=r||{},t=i.el||yv(s),e=t.getBoundingClientRect(),n=it(t,"viewBox"),a=e.width,o=e.height,l=i.viewBox||(n?n.split(" "):[0,0,a,o]);return{el:t,viewBox:l,x:l[0]/1,y:l[1]/1,w:a,h:o,vW:l[2],vH:l[3]}}function _v(s,r){var i=G.str(s)?za(s)[0]:s,t=r||100;return function(e){return{property:e,el:i,svg:qa(i),totalLength:Ya(i)*(t/100)}}}function bv(s,r,i){function t(c){c===void 0&&(c=0);var f=r+c>=1?r+c:0;return s.el.getPointAtLength(f)}var e=qa(s.el,s.svg),n=t(),a=t(-1),o=t(1),l=i?1:e.w/e.vW,u=i?1:e.h/e.vH;switch(s.property){case"x":return(n.x-e.x)*l;case"y":return(n.y-e.y)*u;case"angle":return Math.atan2(o.y-a.y,o.x-a.x)*180/Math.PI}}function Hr(s,r){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,t=Ga(G.pth(s)?s.totalLength:s,r)+"";return{original:t,numbers:t.match(i)?t.match(i).map(Number):[0],strings:G.str(s)||r?t.split(i):[]}}function Ji(s){var r=s?$n(G.arr(s)?s.map(Br):Br(s)):[];return Hn(r,function(i,t,e){return e.indexOf(i)===t})}function Xa(s){var r=Ji(s);return r.map(function(i,t){return{target:i,id:t,total:r.length,transforms:{list:Wa(i)}}})}function kv(s,r){var i=Gi(r);if(/^spring/.test(i.easing)&&(i.duration=Va(i.easing)),G.arr(s)){var t=s.length,e=t===2&&!G.obj(s[0]);e?s={value:s}:G.fnc(r.duration)||(i.duration=r.duration/t)}var n=G.arr(s)?s:[s];return n.map(function(a,o){var l=G.obj(a)&&!G.pth(a)?a:{value:a};return G.und(l.delay)&&(l.delay=o?0:r.delay),G.und(l.endDelay)&&(l.endDelay=o===n.length-1?r.endDelay:0),l}).map(function(a){return Vn(a,i)})}function Cv(s){for(var r=Hn($n(s.map(function(n){return Object.keys(n)})),function(n){return G.key(n)}).reduce(function(n,a){return n.indexOf(a)<0&&n.push(a),n},[]),i={},t=function(n){var a=r[n];i[a]=s.map(function(o){var l={};for(var u in o)G.key(u)?u==a&&(l.value=o[u]):l[u]=o[u];return l})},e=0;e<r.length;e++)t(e);return i}function Tv(s,r){var i=[],t=r.keyframes;t&&(r=Vn(Cv(t),r));for(var e in r)G.key(e)&&i.push({name:e,tweens:kv(r[e],s)});return i}function wv(s,r){var i={};for(var t in s){var e=ki(s[t],r);G.arr(e)&&(e=e.map(function(n){return ki(n,r)}),e.length===1&&(e=e[0])),i[t]=e}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function Ev(s,r){var i;return s.tweens.map(function(t){var e=wv(t,r),n=e.value,a=G.arr(n)?n[1]:n,o=ut(a),l=qi(r.target,s.name,o,r),u=i?i.to.original:l,c=G.arr(n)?n[0]:u,f=ut(c)||ut(l),h=o||f;return G.und(a)&&(a=u),e.from=Hr(c,h),e.to=Hr(Xi(a,c),h),e.start=i?i.end:0,e.end=e.start+e.delay+e.duration+e.endDelay,e.easing=ji(e.easing,e.duration),e.isPath=G.pth(n),e.isPathTargetInsideSVG=e.isPath&&G.svg(r.target),e.isColor=G.col(e.from.original),e.isColor&&(e.round=1),i=e,e})}var Za={css:function(s,r,i){return s.style[r]=i},attribute:function(s,r,i){return s.setAttribute(r,i)},object:function(s,r,i){return s[r]=i},transform:function(s,r,i,t,e){if(t.list.set(r,i),r===t.last||e){var n="";t.list.forEach(function(a,o){n+=o+"("+a+") "}),s.style.transform=n}}};function Ja(s,r){var i=Xa(s);i.forEach(function(t){for(var e in r){var n=ki(r[e],t),a=t.target,o=ut(n),l=qi(a,e,o,t),u=o||ut(l),c=Xi(Ga(n,u),l),f=Yi(a,e);Za[f](a,e,c,t.transforms,!0)}})}function Sv(s,r){var i=Yi(s.target,r.name);if(i){var t=Ev(r,s),e=t[t.length-1];return{type:i,property:r.name,animatable:s,tweens:t,duration:e.end,delay:t[0].delay,endDelay:e.endDelay}}}function Pv(s,r){return Hn($n(s.map(function(i){return r.map(function(t){return Sv(i,t)})})),function(i){return!G.und(i)})}function Qa(s,r){var i=s.length,t=function(n){return n.timelineOffset?n.timelineOffset:0},e={};return e.duration=i?Math.max.apply(Math,s.map(function(n){return t(n)+n.duration})):r.duration,e.delay=i?Math.min.apply(Math,s.map(function(n){return t(n)+n.delay})):r.delay,e.endDelay=i?e.duration-Math.max.apply(Math,s.map(function(n){return t(n)+n.duration-n.endDelay})):r.endDelay,e}var $r=0;function Iv(s){var r=bi(Ha,s),i=bi(zi,s),t=Tv(i,s),e=Xa(s.targets),n=Pv(e,t),a=Qa(n,i),o=$r;return $r++,Vn(r,{id:o,children:[],animatables:e,animations:n,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}var Ye=[],es=function(){var s;function r(){!s&&(!Vr()||!ge.suspendWhenDocumentHidden)&&Ye.length>0&&(s=requestAnimationFrame(i))}function i(e){for(var n=Ye.length,a=0;a<n;){var o=Ye[a];o.paused?(Ye.splice(a,1),n--):(o.tick(e),a++)}s=a>0?requestAnimationFrame(i):void 0}function t(){ge.suspendWhenDocumentHidden&&(Vr()?s=cancelAnimationFrame(s):(Ye.forEach(function(e){return e._onDocumentVisibility()}),es()))}return typeof document<"u"&&document.addEventListener("visibilitychange",t),r}();function Vr(){return!!document&&document.hidden}function ge(s){s===void 0&&(s={});var r=0,i=0,t=0,e,n=0,a=null;function o(C){var b=window.Promise&&new Promise(function(M){return a=M});return C.finished=b,b}var l=Iv(s);o(l);function u(){var C=l.direction;C!=="alternate"&&(l.direction=C!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,e.forEach(function(b){return b.reversed=l.reversed})}function c(C){return l.reversed?l.duration-C:C}function f(){r=0,i=c(l.currentTime)*(1/ge.speed)}function h(C,b){b&&b.seek(C-b.timelineOffset)}function v(C){if(l.reversePlayback)for(var M=n;M--;)h(C,e[M]);else for(var b=0;b<n;b++)h(C,e[b])}function g(C){for(var b=0,M=l.animations,B=M.length;b<B;){var H=M[b],F=H.animatable,A=H.tweens,pe=A.length-1,R=A[pe];pe&&(R=Hn(A,function(se){return C<se.end})[0]||R);for(var ue=nt(C-R.start-R.delay,0,R.duration)/R.duration,z=isNaN(ue)?1:R.easing(ue),$=R.to.strings,ce=R.round,Ce=[],oe=R.to.numbers.length,Se=void 0,xe=0;xe<oe;xe++){var Be=void 0,T=R.to.numbers[xe],_=R.from.numbers[xe]||0;R.isPath?Be=bv(R.value,z*T,R.isPathTargetInsideSVG):Be=_+z*(T-_),ce&&(R.isColor&&xe>2||(Be=Math.round(Be*ce)/ce)),Ce.push(Be)}var W=$.length;if(!W)Se=Ce[0];else{Se=$[0];for(var X=0;X<W;X++){$[X];var te=$[X+1],J=Ce[X];isNaN(J)||(te?Se+=J+te:Se+=J+" ")}}Za[H.type](F.target,H.property,Se,F.transforms),H.currentValue=Se,b++}}function m(C){l[C]&&!l.passThrough&&l[C](l)}function y(){l.remaining&&l.remaining!==!0&&l.remaining--}function x(C){var b=l.duration,M=l.delay,B=b-l.endDelay,H=c(C);l.progress=nt(H/b*100,0,100),l.reversePlayback=H<l.currentTime,e&&v(H),!l.began&&l.currentTime>0&&(l.began=!0,m("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,m("loopBegin")),H<=M&&l.currentTime!==0&&g(0),(H>=B&&l.currentTime!==b||!b)&&g(b),H>M&&H<B?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,m("changeBegin")),m("change"),g(H)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,m("changeComplete")),l.currentTime=nt(H,0,b),l.began&&m("update"),C>=b&&(i=0,y(),l.remaining?(r=t,m("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&u()):(l.paused=!0,l.completed||(l.completed=!0,m("loopComplete"),m("complete"),!l.passThrough&&"Promise"in window&&(a(),o(l)))))}return l.reset=function(){var C=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=C==="reverse",l.remaining=l.loop,e=l.children,n=e.length;for(var b=n;b--;)l.children[b].reset();(l.reversed&&l.loop!==!0||C==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=f,l.set=function(C,b){return Ja(C,b),l},l.tick=function(C){t=C,r||(r=t),x((t+(i-r))*ge.speed)},l.seek=function(C){x(c(C))},l.pause=function(){l.paused=!0,f()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Ye.push(l),f(),es())},l.reverse=function(){u(),l.completed=!l.reversed,f()},l.restart=function(){l.reset(),l.play()},l.remove=function(C){var b=Ji(C);ts(b,l)},l.reset(),l.autoplay&&l.play(),l}function Ur(s,r){for(var i=r.length;i--;)Wi(s,r[i].animatable.target)&&r.splice(i,1)}function ts(s,r){var i=r.animations,t=r.children;Ur(s,i);for(var e=t.length;e--;){var n=t[e],a=n.animations;Ur(s,a),!a.length&&!n.children.length&&t.splice(e,1)}!i.length&&!t.length&&r.pause()}function xv(s){for(var r=Ji(s),i=Ye.length;i--;){var t=Ye[i];ts(r,t)}}function Lv(s,r){r===void 0&&(r={});var i=r.direction||"normal",t=r.easing?ji(r.easing):null,e=r.grid,n=r.axis,a=r.from||0,o=a==="first",l=a==="center",u=a==="last",c=G.arr(s),f=parseFloat(c?s[0]:s),h=c?parseFloat(s[1]):0,v=ut(c?s[1]:s)||0,g=r.start||0+(c?f:0),m=[],y=0;return function(x,C,b){if(o&&(a=0),l&&(a=(b-1)/2),u&&(a=b-1),!m.length){for(var M=0;M<b;M++){if(!e)m.push(Math.abs(a-M));else{var B=l?(e[0]-1)/2:a%e[0],H=l?(e[1]-1)/2:Math.floor(a/e[0]),F=M%e[0],A=Math.floor(M/e[0]),pe=B-F,R=H-A,ue=Math.sqrt(pe*pe+R*R);n==="x"&&(ue=-pe),n==="y"&&(ue=-R),m.push(ue)}y=Math.max.apply(Math,m)}t&&(m=m.map(function($){return t($/y)*y})),i==="reverse"&&(m=m.map(function($){return n?$<0?$*-1:-$:Math.abs(y-$)}))}var z=c?(h-f)/y:f;return g+z*(Math.round(m[C]*100)/100)+v}}function Av(s){s===void 0&&(s={});var r=ge(s);return r.duration=0,r.add=function(i,t){var e=Ye.indexOf(r),n=r.children;e>-1&&Ye.splice(e,1);function a(h){h.passThrough=!0}for(var o=0;o<n.length;o++)a(n[o]);var l=Vn(i,bi(zi,s));l.targets=l.targets||s.targets;var u=r.duration;l.autoplay=!1,l.direction=r.direction,l.timelineOffset=G.und(t)?u:Xi(t,u),a(r),r.seek(l.timelineOffset);var c=ge(l);a(c),n.push(c);var f=Qa(n,s);return r.delay=f.delay,r.endDelay=f.endDelay,r.duration=f.duration,r.seek(0),r.reset(),r.autoplay&&r.play(),r},r}ge.version="3.2.1";ge.speed=1;ge.suspendWhenDocumentHidden=!0;ge.running=Ye;ge.remove=xv;ge.get=qi;ge.set=Ja;ge.convertPx=Ki;ge.path=_v;ge.setDashoffset=mv;ge.stagger=Lv;ge.timeline=Av;ge.easing=ji;ge.penner=Ua;ge.random=function(s,r){return Math.floor(Math.random()*(r-s+1))+s};const ns={__name:"MouseClick",setup(s){const r=de(null);return De(()=>{const i=r.value,t=i.getContext("2d");let e=20,n=0,a=0;const o="ontouchstart"in globalThis||navigator.msMaxTouchPoints?"touchstart":"mousedown",l=["#FF1461","#18FF92","#5A87FF","#FBF38C"];function u(){i.width=globalThis.innerWidth*2,i.height=globalThis.innerHeight*2,i.style.width=globalThis.innerWidth+"px",i.style.height=globalThis.innerHeight+"px",i.getContext("2d").scale(2,2)}function c(C){n=C.clientX||C.touches[0].clientX,a=C.clientY||C.touches[0].clientY}function f(C){const b=ge.random(0,360)*Math.PI/180,M=ge.random(20,90),B=[-1,1][ge.random(0,1)]*M;return{x:C.x+B*Math.cos(b),y:C.y+B*Math.sin(b)}}function h(C,b){const M={};return M.x=C,M.y=b,M.color=l[ge.random(0,l.length-1)],M.radius=ge.random(8,16),M.endPos=f(M),M.draw=function(){t.beginPath(),t.arc(M.x,M.y,M.radius,0,2*Math.PI,!0),t.fillStyle=M.color,t.fill()},M}function v(C,b){const M={};return M.x=C,M.y=b,M.color="#FFF",M.radius=.1,M.alpha=.5,M.lineWidth=6,M.draw=function(){t.globalAlpha=M.alpha,t.beginPath(),t.arc(M.x,M.y,M.radius,0,2*Math.PI,!0),t.lineWidth=M.lineWidth,t.strokeStyle=M.color,t.stroke(),t.globalAlpha=1},M}function g(C){for(let b=0;b<C.animatables.length;b++)C.animatables[b].target.draw()}function m(C,b){const M=v(C,b),B=[];for(let H=0;H<e;H++)B.push(h(C,b));ge.timeline().add({targets:B,x:function(H){return H.endPos.x},y:function(H){return H.endPos.y},radius:.1,duration:ge.random(1200,1800),easing:"easeOutExpo",update:g}).add({targets:M,radius:ge.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:ge.random(600,800)},duration:ge.random(1200,1800),easing:"easeOutExpo",update:g,offset:0})}function y(C,b){const M=ge.random(50,90),B=l[ge.random(0,l.length-1)],H={x:C,y:b,radius:0,color:B,alpha:1,draw:function(){t.globalAlpha=this.alpha,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.fillStyle=this.color,t.fill(),t.globalAlpha=1}};ge({targets:H,radius:M,alpha:0,duration:1e3,easing:"easeOutExpo",update:function(){H.draw()}})}const x=ge({duration:1/0,update:function(){t.clearRect(0,0,i.width,i.height)}});document.addEventListener(o,function(C){x.play(),c(C),m(n,a),y(n,a)},!1),u(),globalThis.addEventListener("resize",u,!1)}),Jt(()=>{globalThis.removeEventListener("resize",setCanvasSize),document.removeEventListener(tap,handleTap)}),(i,t)=>(p(),k("canvas",{ref_key:"canvas",ref:r,style:{position:"fixed",left:"0",top:"0","pointer-events":"none","z-index":"999999"}},null,512))}},Mv={__name:"MouseFollower",setup(s){const r=de(null);let i=null,t=[],e={x:(globalThis==null?void 0:globalThis.innerWidth)/2,y:(globalThis==null?void 0:globalThis.innerHeight)/2},n={x:(globalThis==null?void 0:globalThis.innerWidth)/2,y:(globalThis==null?void 0:globalThis.innerHeight)/2},a={x:(globalThis==null?void 0:globalThis.innerWidth)/2,y:(globalThis==null?void 0:globalThis.innerHeight)/2},o=null;class l{constructor(){this.reset()}reset(){this.angle=Math.random()*Math.PI*2,this.radius=Math.random()*40+25,this.speed=(Math.random()*2+2)*.01,this.size=Math.random()*3+1,this.hue=Math.random()*360,this.clockwise=Math.random()>.5,this.offsetX=(Math.random()-.5)*10,this.offsetY=(Math.random()-.5)*10,this.life=Math.random()*.5+.5,this.maxLife=this.life,this.trail=[],this.trailLength=Math.floor(Math.random()*3)+2}update(){this.angle+=this.speed*(this.clockwise?1:-1);const m=e.x+Math.cos(this.angle)*this.radius+this.offsetX,y=e.y+Math.sin(this.angle)*this.radius+this.offsetY;this.x||(this.x=m,this.y=y);const x=m-this.x,C=y-this.y;this.x+=x*.15,this.y+=C*.15,this.trail.unshift({x:this.x,y:this.y}),this.trail.length>this.trailLength&&this.trail.pop(),this.life-=.002,this.life<=0&&this.reset()}draw(){if(!i)return;const m=this.life/this.maxLife;if(this.trail.length>1){i.beginPath(),i.moveTo(this.trail[0].x,this.trail[0].y);for(let y=1;y<this.trail.length;y++){const x=this.trail[y];i.lineTo(x.x,x.y)}i.strokeStyle=`hsla(${this.hue}, 70%, 60%, ${m*.5})`,i.lineWidth=this.size,i.lineCap="round",i.stroke()}i.fillStyle=`hsla(${this.hue}, 70%, 60%, ${m})`,i.beginPath(),i.arc(this.x,this.y,this.size*.5,0,Math.PI*2),i.fill()}}function u(){const g=n.x-e.x,m=n.y-e.y,y=Math.sqrt(Math.pow(n.x-a.x,2)+Math.pow(n.y-a.y,2)),x=Math.min(.15,.15/(1+y*.005));e.x+=g*x,e.y+=m*x,a.x=e.x,a.y=e.y}function c(g){const m=r.value.getBoundingClientRect();n.x=g.clientX-m.left,n.y=g.clientY-m.top}function f(){!i||!r.value||(i.clearRect(0,0,r.value.width,r.value.height),u(),t.length<25&&Math.random()<.1&&t.push(new l),t.forEach(g=>{g.update(),g.draw()}),o=requestAnimationFrame(f))}function h(){r.value&&(r.value.width=globalThis.innerWidth,r.value.height=globalThis.innerHeight)}function v(){t=[];const g=Math.floor(Math.random()*4)+12;for(let m=0;m<g;m++)t.push(new l)}return De(()=>{typeof globalThis<"u"&&(i=r.value.getContext("2d"),h(),v(),globalThis.addEventListener("resize",h),globalThis.addEventListener("mousemove",c),f())}),Jt(()=>{typeof globalThis<"u"&&(globalThis.removeEventListener("resize",h),globalThis.removeEventListener("mousemove",c),o&&cancelAnimationFrame(o))}),(g,m)=>(p(),k("canvas",{ref_key:"canvas",ref:r,style:{position:"fixed",left:"0",top:"0","pointer-events":"none","z-index":"999999"}},null,512))}},is=U(Mv,[["__scopeId","data-v-c0c780eb"]]),Dv={__name:"backtotop",setup(s){const r=de(!0);function i(){window.scrollTo({top:0,behavior:"smooth"})}function t(n,a=100){let o=0;return function(){let l=+new Date;l-o>a&&(n.apply(this,arguments),o=l)}}const e=t(()=>r.value=window.scrollY>100);return De(()=>window.addEventListener("scroll",e)),Xr(()=>window.removeEventListener("scroll",e)),(n,a)=>(p(),j(Sn,{name:"fade"},{default:L(()=>[xs(S("div",{class:"vitepress-backTop-main",title:"返回顶部",onClick:a[0]||(a[0]=o=>i())},a[1]||(a[1]=[S("svg",{t:"1720595052079",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4279",width:"200",height:"200"},[S("path",{d:"M752.736 431.063C757.159 140.575 520.41 8.97 504.518 0.41V0l-0.45 0.205-0.41-0.205v0.41c-15.934 8.56-252.723 140.165-248.259 430.653-48.21 31.457-98.713 87.368-90.685 184.074 8.028 96.666 101.007 160.768 136.601 157.287 35.595-3.482 25.232-30.31 25.232-30.31l12.206-50.095s52.47 80.569 69.304 80.528c15.114-1.23 87-0.123 95.6 0h0.82c8.602-0.123 80.486-1.23 95.6 0 16.794 0 69.305-80.528 69.305-80.528l12.165 50.094s-10.322 26.83 25.272 30.31c35.595 3.482 128.574-60.62 136.602-157.286 8.028-96.665-42.475-152.617-90.685-184.074z m-248.669-4.26c-6.758-0.123-94.781-3.359-102.891-107.192 2.95-98.714 95.97-107.438 102.891-107.93 6.964 0.492 99.943 9.216 102.892 107.93-8.11 103.833-96.174 107.07-102.892 107.192z m-52.019 500.531c0 11.838-9.42 21.382-21.012 21.382a21.217 21.217 0 0 1-21.054-21.34V821.74c0-11.797 9.421-21.382 21.054-21.382 11.591 0 21.012 9.585 21.012 21.382v105.635z m77.333 57.222a21.504 21.504 0 0 1-21.34 21.626 21.504 21.504 0 0 1-21.34-21.626V827.474c0-11.96 9.543-21.668 21.299-21.668 11.796 0 21.38 9.708 21.38 21.668v157.082z m71.147-82.043c0 11.796-9.42 21.34-21.053 21.34a21.217 21.217 0 0 1-21.013-21.34v-75.367c0-11.755 9.421-21.299 21.013-21.299 11.632 0 21.053 9.544 21.053 21.3v75.366z",fill:"#FFF","p-id":"4280"})],-1)]),512),[[Ls,r.value]])]),_:1}))}},Ov=U(Dv,[["__scopeId","data-v-e2e532be"]]),Rv="/qrcode.png",Nv={key:0,class:"notice-background",style:{display:"block"}},Fv={key:1,class:"notice"},Bv=N({__name:"notice",setup(s){const r=de(!1);function i(){r.value=!1}return setTimeout(function(){r.value=!1},5e3),(t,e)=>(p(),k(_e,null,[r.value?(p(),k("div",Nv)):O("",!0),r.value?(p(),k("div",Fv,[e[0]||(e[0]=Jr('<h3 class="notice-title" data-v-04028607>网站公告</h3><div class="notice-describe" data-v-04028607><p data-v-04028607>本次更新：新公告样式</p><p class="notice-domain" data-v-04028607><strong data-v-04028607> 详细教程：<a href="https://vitepress.yiov.top/layout.html#%E5%85%AC%E5%91%8A" target="_blank" data-v-04028607>vitepress.yiov.top</a></strong></p><p data-v-04028607>QQ 频道：******(无效二维码)</p><img class="notice-img" src="'+Rv+'" data-v-04028607></div>',2)),S("div",{class:"notice-footer"},[S("div",{class:"notice-btn",onClick:i},"朕知道了")])])):O("",!0)],64))}}),Hv=U(Bv,[["__scopeId","data-v-04028607"]]),$v={class:"busuanzi"},Vv=N({__name:"bsz",setup(s){return(r,i)=>(p(),k("div",$v,i[0]||(i[0]=[Me(" 本站访客数 "),S("span",{id:"busuanzi_value_site_uv"},null,-1),Me(" 人次 本站总访问量 "),S("span",{id:"busuanzi_value_site_pv"},null,-1),Me(" 次 ")])))}}),Uv=N({__name:"MyLayout",setup(s){const{isDark:r}=St(),i=()=>"startViewTransition"in document&&window.matchMedia("(prefers-reduced-motion: no-preference)").matches;return Ti("toggle-appearance",async({clientX:t,clientY:e})=>{if(!i()){r.value=!r.value;return}const n=[`circle(0px at ${t}px ${e}px)`,`circle(${Math.hypot(Math.max(t,innerWidth-t),Math.max(e,innerHeight-e))}px at ${t}px ${e}px)`];await document.startViewTransition(async()=>{r.value=!r.value,await en()}).ready,document.documentElement.animate({clipPath:r.value?n.reverse():n},{duration:300,easing:"ease-in",pseudoElement:`::view-transition-${r.value?"old":"new"}(root)`})}),(t,e)=>(p(),j(w(aa).Layout,As(Ms(t.$attrs)),{"doc-footer-before":L(()=>[V(Ov)]),"layout-top":L(()=>[V(Hv),V(is),V(ns)]),"layout-bottom":L(()=>[V(Vv)]),_:1},16))}}),zv={},jv={id:"fluid-border"};function Wv(s,r){return p(),k("div",jv,r[0]||(r[0]=[Jr('<div class="info custom-block"><p class="custom-block-title">INFO</p><p>INFO流体边框</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>TIP流体边框</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>WARNING流体边框</p></div><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>DANGER流体边框</p></div><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>NOTE流体边框</p></div><div class="important custom-block github-alert"><p class="custom-block-title">IMPORTANT</p><p>IMPORTANT流体边框</p></div><div class="caution custom-block github-alert"><p class="custom-block-title">CAUTION</p><p>CAUTION流体边框</p></div>',7)]))}const Gv=U(zv,[["render",Wv]]);var rs,Ut,Je,as,li,zr,Ht,cn=!1,fn=[];typeof document<"u"&&(as=function(s){return cn||document.readyState==="interactive"||document.readyState==="complete"?s.call(document):fn.push(function(){return s.call(this)}),this},zr=function(){for(var s=0,r=fn.length;s<r;s++)fn[s].apply(document);fn=[]},Ht=function(){cn||(cn=!0,zr.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",Ht,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",Ht),window==window.top&&(clearInterval(li),li=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",Ht,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&Ht()}),window==window.top&&(li=setInterval(function(){try{cn||document.documentElement.doScroll("left")}catch{return}Ht()},5))));rs={fetch:function(s,r){var i="BusuanziCallback_"+Math.floor(1099511627776*Math.random());s=s.replace("=BusuanziCallback","="+i),Je=document.createElement("SCRIPT"),Je.type="text/javascript",Je.defer=!0,Je.src=s,document.getElementsByTagName("HEAD")[0].appendChild(Je),window[i]=this.evalCall(r)},evalCall:function(s){return function(r){as(function(){try{s(r),Je&&Je.parentElement&&Je.parentElement.removeChild&&Je.parentElement.removeChild(Je)}catch(i){console.log(i),Ut.hides()}})}}};const ss=()=>{Ut&&Ut.hides(),rs.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",function(s){Ut.texts(s),Ut.shows()})};Ut={bszs:["site_pv","page_pv","site_uv"],texts:function(s){this.bszs.map(function(r){var i=document.getElementById("busuanzi_value_"+r);i&&(i.innerHTML=s[r])})},hides:function(){this.bszs.map(function(s){var r=document.getElementById("busuanzi_container_"+s);r&&(r.style.display="none")})},shows:function(){this.bszs.map(function(s){var r=document.getElementById("busuanzi_container_"+s);r&&(r.style.display="inline")})}};typeof document<"u"&&ss();var Kv={fetch:ss},Yv=Kv;const qv=An(Yv);let Tt;const ip={extends:aa,enhanceApp({app:s,router:r}){s.component("MNavLinks",wd),s.component("HomeUnderline",Id),s.component("confetti",Ld),s.component("update",Md),s.component("xgplayer",Kg),s.component("ArticleMetadata",Zg),s.component("Linkcard",iv),s.component("fluidborder",Gv),s.component("MouseClick",ns),s.component("MouseFollower",is),zt&&(jn.NProgress.configure({showSpinner:!1}),r.onBeforeRouteChange=()=>{jn.NProgress.start()},r.onAfterRouteChange=()=>{qv.fetch(),jn.NProgress.done()}),typeof window<"u"&&Ke(()=>r.route.data.relativePath,()=>Xv(location.pathname==="/"),{immediate:!0})},Layout:()=>{var i;const s={},{frontmatter:r}=St();return(i=r.value)!=null&&i.layoutClass&&(s.class=r.value.layoutClass),Zr(Uv,s)},setup(){const s=Qt(),r=()=>{ad(".main img",{background:"var(--vp-c-bg)"})};De(()=>{r()}),Ke(()=>s.path,()=>en(()=>r()));const{frontmatter:i}=St();Yf({repo:"Yiov/vitepress-doc",repoId:"R_kgDOGYFl1A",category:"General",categoryId:"DIC_kwDOGYFl1M4CayLN",mapping:"pathname",inputPosition:"bottom",lang:"zh-CN"},{frontmatter:i,route:s},!1)}};function Xv(s){if(s){if(Tt)return;Tt=document.createElement("style"),Tt.innerHTML=`
    :root {
      animation: rainbow 12s linear infinite;
    }`,document.body.appendChild(Tt)}else{if(!Tt)return;Tt.remove(),Tt=void 0}}export{ip as R,np as V,Qv as a,tp as b,ep as c,Ds as d,Xu as e,An as g,le as u};
